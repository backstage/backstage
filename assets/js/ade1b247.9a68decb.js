"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([["79442"],{223452(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var o=n(483898),a=n(474848),i=n(28453);let s={id:"homepage",title:"Backstage homepage - Setup and Customization",description:"Documentation on setting up and customizing Backstage homepage"},r,l={},c=[{value:"Homepage",id:"homepage",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Setup Methods",id:"setup-methods",level:2},{value:"New Frontend System Setup",id:"new-frontend-system-setup",level:3},{value:"1. Install the plugin",id:"1-install-the-plugin",level:4},{value:"2. Add the plugin to your app configuration",id:"2-add-the-plugin-to-your-app-configuration",level:4},{value:"3. Configure the homepage as your root route",id:"3-configure-the-homepage-as-your-root-route",level:4},{value:"4. Optional: Enable visit tracking",id:"4-optional-enable-visit-tracking",level:4},{value:"5. Customizing your homepage",id:"5-customizing-your-homepage",level:4},{value:"Legacy Frontend System Setup",id:"legacy-frontend-system-setup",level:3},{value:"1. Install the plugin",id:"1-install-the-plugin-1",level:4},{value:"2. Create a new HomePage component",id:"2-create-a-new-homepage-component",level:4},{value:"3. Update router for the root <code>/</code> route",id:"3-update-router-for-the-root--route",level:4},{value:"4. Update sidebar items",id:"4-update-sidebar-items",level:4},{value:"Use the default template",id:"use-the-default-template",level:3},{value:"Composing your homepage",id:"composing-your-homepage",level:3}];function d(e){let t={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"homepage",children:"Homepage"}),"\n",(0,a.jsxs)(t.p,{children:["Having a good Backstage homepage can significantly improve the discoverability of the platform. You want your users to find all the things they need right from the homepage and never have to remember direct URLs in Backstage. The ",(0,a.jsx)(t.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/home",children:"Home plugin"})," introduces a system for composing a homepage for Backstage in order to surface relevant info and provide convenient shortcuts for common tasks. It's designed with composability in mind with an open ecosystem that allows anyone to contribute with any component, to be included in any homepage."]}),"\n",(0,a.jsx)(t.p,{children:"For App Integrators, the system is designed to be composable to give total freedom in designing a Homepage that suits the needs of the organization. From the perspective of a Component Developer who wishes to contribute with building blocks to be included in Homepages, there's a convenient interface for bundling the different parts and exporting them with both error boundary and lazy loading handled under the surface."}),"\n",(0,a.jsx)(t.p,{children:"At the end of this tutorial, you can expect:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Your Backstage app to have a dedicated homepage instead of Software Catalog."}),"\n",(0,a.jsx)(t.li,{children:"Understand the composability of homepage and how to start customizing it for your own organization."}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsx)(t.p,{children:"Before we begin, make sure"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["You have created your own standalone Backstage app using ",(0,a.jsx)(t.a,{href:"/docs/next/getting-started/#1-create-your-backstage-app",children:(0,a.jsx)(t.code,{children:"@backstage/create-app"})})," and not using a fork of the ",(0,a.jsx)(t.a,{href:"https://github.com/backstage/backstage",children:"backstage"})," repository."]}),"\n",(0,a.jsx)(t.li,{children:"You do not have an existing homepage, and by default you are redirected to Software Catalog when you open Backstage."}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Now, let's get started by installing the home plugin and creating a simple homepage for your Backstage app."}),"\n",(0,a.jsx)(t.h2,{id:"setup-methods",children:"Setup Methods"}),"\n",(0,a.jsx)(t.p,{children:"There are two ways to set up the home plugin, depending on which frontend system your Backstage app uses:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"New Frontend System (Recommended)"})," - For apps using the new plugin system with extensions and blueprints"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Legacy Frontend System"})," - For existing apps using the legacy plugin architecture"]}),"\n"]}),"\n",(0,a.jsx)(t.h3,{id:"new-frontend-system-setup",children:"New Frontend System Setup"}),"\n",(0,a.jsxs)(t.p,{children:["If your Backstage app uses the ",(0,a.jsx)(t.a,{href:"/docs/next/frontend-system/",children:"new frontend system"}),", follow these steps:"]}),"\n",(0,a.jsx)(t.h4,{id:"1-install-the-plugin",children:"1. Install the plugin"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",metastring:'title="From your Backstage root directory"',children:"yarn --cwd packages/app add @backstage/plugin-home\n"})}),"\n",(0,a.jsx)(t.h4,{id:"2-add-the-plugin-to-your-app-configuration",children:"2. Add the plugin to your app configuration"}),"\n",(0,a.jsxs)(t.p,{children:["Update your ",(0,a.jsx)(t.code,{children:"packages/app/src/app.tsx"})," to include the home plugin:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",metastring:'title="packages/app/src/app.tsx"',children:"import homePlugin from '@backstage/plugin-home/alpha';\n\nconst app = createApp({\n  features: [\n    // ... other plugins\n    homePlugin,\n  ],\n});\n"})}),"\n",(0,a.jsx)(t.h4,{id:"3-configure-the-homepage-as-your-root-route",children:"3. Configure the homepage as your root route"}),"\n",(0,a.jsxs)(t.p,{children:["By default, the homepage will be available at ",(0,a.jsx)(t.code,{children:"/home"}),". To make it your app's landing page at ",(0,a.jsx)(t.code,{children:"/"}),", add this configuration to your ",(0,a.jsx)(t.code,{children:"app-config.yaml"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",metastring:'title="app-config.yaml"',children:"app:\n  extensions:\n    - page:home:\n        config:\n          path: /\n"})}),"\n",(0,a.jsx)(t.p,{children:'The plugin will automatically add a "Home" navigation item to your sidebar and provide a basic homepage layout.'}),"\n",(0,a.jsx)(t.h4,{id:"4-optional-enable-visit-tracking",children:"4. Optional: Enable visit tracking"}),"\n",(0,a.jsxs)(t.p,{children:["Visit tracking is an optional feature that allows users to see their recently visited and most visited pages on the homepage. This feature is ",(0,a.jsx)(t.strong,{children:"disabled by default"})," to give you control over what data is collected and stored."]}),"\n",(0,a.jsx)(t.p,{children:"Visit tracking requires a storage implementation to persist user data:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"With UserSettings storage"})," (recommended): If you have the ",(0,a.jsx)(t.a,{href:"https://backstage.io/docs/features/software-catalog/external-integrations/#user-settings",children:"UserSettings plugin"})," configured with persistent storage, visit data will be stored there and synchronized across devices."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Fallback to local storage"}),": If no persistent storage is available, the plugin will automatically fall back to browser local storage, which stores data locally per device."]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["To enable visit tracking, add this configuration to your ",(0,a.jsx)(t.code,{children:"app-config.yaml"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",metastring:'title="app-config.yaml"',children:"app:\n  extensions:\n    - api:home/visits: true\n    - app-root-element:home/visit-listener: true\n"})}),"\n",(0,a.jsx)(t.h4,{id:"5-customizing-your-homepage",children:"5. Customizing your homepage"}),"\n",(0,a.jsx)(t.p,{children:"The New Frontend System provides powerful customization options:"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Custom Homepage Layouts"}),": Use the ",(0,a.jsx)(t.code,{children:"HomePageLayoutBlueprint"})," from ",(0,a.jsx)(t.code,{children:"@backstage/plugin-home-react/alpha"})," to create custom homepage layouts with your own design and widget arrangements. A layout receives the installed widgets and is responsible for rendering them. If no custom layout is installed, the plugin provides a built-in default."]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Adding Homepage Widgets"}),": Register custom widgets using the ",(0,a.jsx)(t.code,{children:"HomePageWidgetBlueprint"})," from the ",(0,a.jsx)(t.code,{children:"@backstage/plugin-home-react/alpha"})," package."]}),"\n",(0,a.jsxs)(t.p,{children:["For detailed instructions on creating custom layouts, registering widgets, and advanced configuration options, see the ",(0,a.jsx)(t.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/home#readme",children:"Home plugin documentation"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"legacy-frontend-system-setup",children:"Legacy Frontend System Setup"}),"\n",(0,a.jsx)(t.p,{children:"If your Backstage app uses the legacy frontend system, follow these steps:"}),"\n",(0,a.jsx)(t.h4,{id:"1-install-the-plugin-1",children:"1. Install the plugin"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",metastring:'title="From your Backstage root directory"',children:"yarn --cwd packages/app add @backstage/plugin-home\n"})}),"\n",(0,a.jsx)(t.h4,{id:"2-create-a-new-homepage-component",children:"2. Create a new HomePage component"}),"\n",(0,a.jsxs)(t.p,{children:["Inside your ",(0,a.jsx)(t.code,{children:"packages/app"})," directory, create a new file where our new homepage component is going to live. Create ",(0,a.jsx)(t.code,{children:"packages/app/src/components/home/HomePage.tsx"})," with the following initial code"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"export const HomePage = () => (\n  /* We will shortly compose a pretty homepage here. */\n  <h1>Welcome to Backstage!</h1>\n);\n"})}),"\n",(0,a.jsxs)(t.h4,{id:"3-update-router-for-the-root--route",children:["3. Update router for the root ",(0,a.jsx)(t.code,{children:"/"})," route"]}),"\n",(0,a.jsx)(t.p,{children:"If you don't have a homepage already, most likely you have a redirect setup to use the Catalog homepage as a homepage."}),"\n",(0,a.jsxs)(t.p,{children:["Inside your ",(0,a.jsx)(t.code,{children:"packages/app/src/App.tsx"}),", look for"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",metastring:'title="packages/app/src/App.tsx"',children:'const routes = (\n  <FlatRoutes>\n    <Navigate key="/" to="catalog" />\n    {/* ... */}\n  </FlatRoutes>\n);\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Let's replace the ",(0,a.jsx)(t.code,{children:"<Navigate>"})," line and use the new component we created in the previous step as the new homepage."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",metastring:'title="packages/app/src/App.tsx"',children:'/* highlight-add-start */\nimport { HomepageCompositionRoot } from \'@backstage/plugin-home\';\nimport { HomePage } from \'./components/home/HomePage\';\n/* highlight-add-end */\n\nconst routes = (\n  <FlatRoutes>\n    {/* highlight-remove-next-line */}\n    <Navigate key="/" to="catalog" />\n    {/* highlight-add-start */}\n    <Route path="/" element={<HomepageCompositionRoot />}>\n      <HomePage />\n    </Route>\n    {/* highlight-add-end */}\n    {/* ... */}\n  </FlatRoutes>\n);\n'})}),"\n",(0,a.jsx)(t.h4,{id:"4-update-sidebar-items",children:"4. Update sidebar items"}),"\n",(0,a.jsx)(t.p,{children:"Let's update the route for \"Home\" in the Backstage sidebar to point to the new homepage. We'll also add a Sidebar item to quickly open Catalog."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Before"}),(0,a.jsx)(t.th,{children:"After"})]})}),(0,a.jsx)(t.tbody,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.img,{alt:"Sidebar without Catalog",src:n(702012).A+"",width:"215",height:"475"})}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.img,{alt:"Sidebar with Catalog",src:n(117630).A+"",width:"215",height:"475"})})]})})]}),"\n",(0,a.jsxs)(t.p,{children:["The code for the Backstage sidebar is most likely inside your ",(0,a.jsx)(t.a,{href:"https://github.com/backstage/backstage/blob/master/packages/app/src/components/Root/Root.tsx",children:(0,a.jsx)(t.code,{children:"packages/app/src/components/Root/Root.tsx"})}),"."]}),"\n",(0,a.jsx)(t.p,{children:"Let's make the following changes"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",metastring:'title="packages/app/src/components/Root/Root.tsx"',children:'/* highlight-add-next-line */\nimport CategoryIcon from \'@material-ui/icons/Category\';\n\nexport const Root = ({ children }: PropsWithChildren<{}>) => (\n  <SidebarPage>\n    <Sidebar>\n      <SidebarLogo />\n      {/* ... */}\n      <SidebarGroup label="Menu" icon={<MenuIcon />}>\n        {/* Global nav, not org-specific */}\n        {/* highlight-remove-next-line */}\n        <SidebarItem icon={HomeIcon} to="catalog" text="Home" />\n        {/* highlight-add-start */}\n        <SidebarItem icon={HomeIcon} to="/" text="Home" />\n        <SidebarItem icon={CategoryIcon} to="catalog" text="Catalog" />\n        {/* highlight-add-end */}\n        <SidebarItem icon={ExtensionIcon} to="api-docs" text="APIs" />\n        <SidebarItem icon={LibraryBooks} to="docs" text="Docs" />\n        <SidebarItem icon={LayersIcon} to="explore" text="Explore" />\n        <SidebarItem icon={CreateComponentIcon} to="create" text="Create..." />\n        {/* End global nav */}\n        <SidebarDivider />\n        {/* ... */}\n      </SidebarGroup>\n    </Sidebar>\n  </SidebarPage>\n);\n'})}),"\n",(0,a.jsxs)(t.p,{children:["That's it! You should now have ",(0,a.jsx)(t.em,{children:"(although slightly boring)"})," a homepage!"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Screenshot of a blank homepage",src:n(399542).A+"",width:"1920",height:"1134"})}),"\n",(0,a.jsx)(t.p,{children:"In the next steps, we will make it interesting and useful!"}),"\n",(0,a.jsx)(t.h3,{id:"use-the-default-template",children:"Use the default template"}),"\n",(0,a.jsxs)(t.p,{children:["There is a default homepage template (",(0,a.jsx)(t.a,{href:"https://backstage.io/storybook/?path=/story/plugins-home-templates--default-template",children:"storybook link"}),") which we will use to set up our homepage. Checkout the ",(0,a.jsx)(t.a,{href:"https://backstage.io/blog/2022/01/25/backstage-homepage-templates",children:"blog post announcement"})," about the Backstage homepage templates for more information."]}),"\n",(0,a.jsx)(t.h3,{id:"composing-your-homepage",children:"Composing your homepage"}),"\n",(0,a.jsxs)(t.p,{children:["Composing a homepage is no different from creating a regular React Component,\ni.e. the App Integrator is free to include whatever content they like. However,\nthere are components developed with the homepage in mind. If you are looking\nfor components to use when composing your homepage, you can take a look at the\n",(0,a.jsx)(t.a,{href:"https://backstage.io/storybook?path=/story/plugins-home-components",children:"collection of Homepage components"}),"\nin storybook. If you don't find a component that suits your needs but want to\ncontribute, check the\n",(0,a.jsx)(t.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/home/README.md#contributing",children:"Contributing documentation"}),"."]}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["If you want to use one of the available homepage templates you can find the\n",(0,a.jsx)(t.a,{href:"https://backstage.io/storybook/?path=/story/plugins-home-templates",children:"templates"}),'\nin the storybook under the "Home" plugin. And if you would like to contribute\na template, please see the\n',(0,a.jsx)(t.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/home/README.md#contributing",children:"Contributing documentation"})]}),"\n"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",children:"import Grid from '@material-ui/core/Grid';\nimport { HomePageCompanyLogo } from '@backstage/plugin-home';\n\nexport const HomePage = () => (\n  <Grid container spacing={3}>\n    <Grid item xs={12} md={4}>\n      <HomePageCompanyLogo />\n    </Grid>\n  </Grid>\n);\n"})})]})}function h(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},117630(e,t,n){n.d(t,{A:()=>o});let o=n.p+"assets/images/sidebar-with-catalog-f94e950f2ea3627ecaab41aabbe167b6.png"},702012(e,t,n){n.d(t,{A:()=>o});let o=n.p+"assets/images/sidebar-without-catalog-e7737bc9f306437332595c57606fc644.png"},399542(e,t,n){n.d(t,{A:()=>o});let o=n.p+"assets/images/simple-homepage-db083f208f2b1bfe180eb81e04e345a6.png"},28453(e,t,n){n.d(t,{R:()=>s,x:()=>r});var o=n(296540);let a={},i=o.createContext(a);function s(e){let t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(i.Provider,{value:t},e.children)}},483898(e){e.exports=JSON.parse('{"id":"getting-started/homepage","title":"Backstage homepage - Setup and Customization","description":"Documentation on setting up and customizing Backstage homepage","source":"@site/../docs/getting-started/homepage.md","sourceDirName":"getting-started","slug":"/getting-started/homepage","permalink":"/docs/next/getting-started/homepage","draft":false,"unlisted":false,"editUrl":"https://github.com/backstage/backstage/edit/master/docs/getting-started/homepage.md","tags":[],"version":"current","frontMatter":{"id":"homepage","title":"Backstage homepage - Setup and Customization","description":"Documentation on setting up and customizing Backstage homepage"},"sidebar":"docs","previous":{"title":"Configuring App with plugins","permalink":"/docs/next/getting-started/configure-app-with-plugins"},"next":{"title":"Deploying Backstage","permalink":"/docs/next/deploying-backstage/generated-index"}}')}}]);