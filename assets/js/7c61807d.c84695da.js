"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([["46916"],{784617(e,t,o){o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>s,metadata:()=>n,toc:()=>r});var n=o(282415),i=o(474848),a=o(28453);let s={id:"locations",sidebar_label:"Locations",title:"Google Cloud Storage Locations",description:"Setting up an integration with Google Cloud Storage"},l,c={},r=[{value:"Configuration",id:"configuration",level:2},{value:"Explicit credentials",id:"explicit-credentials",level:3},{value:"Automatic discovery of Google credentials",id:"automatic-discovery-of-google-credentials",level:3},{value:"Usage",id:"usage",level:2}];function d(e){let t={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["The Backstage catalog can import entities from a yaml file stored in a GCS\n(Google Cloud Storage) bucket. To enable the ingestion of said entities the\n",(0,i.jsx)(t.code,{children:"GoogleGcs"})," integration must be enabled first."]}),"\n",(0,i.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsxs)(t.p,{children:["To configure the integration add the appropriate credentials to the Backstage\nbackend. There are two main ways to do this: by explicitly setting a\n",(0,i.jsx)(t.code,{children:"clientEmail"})," and a ",(0,i.jsx)(t.code,{children:"privateKey"})," or by letting the Google Storage SDK discover\nthe credentials automatically."]}),"\n",(0,i.jsx)(t.h3,{id:"explicit-credentials",children:"Explicit credentials"}),"\n",(0,i.jsx)(t.p,{children:"Explicit credentials can be set in the following format:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"integrations:\n  googleGcs:\n    clientEmail: ${GCS_CLIENT_EMAIL}\n    privateKey: ${GCS_PRIVATE_KEY}\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Then make sure the environment variables ",(0,i.jsx)(t.code,{children:"GCS_CLIENT_EMAIL"})," and\n",(0,i.jsx)(t.code,{children:"GCS_PRIVATE_KEY"})," are set when you run Backstage."]}),"\n",(0,i.jsx)(t.h3,{id:"automatic-discovery-of-google-credentials",children:"Automatic discovery of Google credentials"}),"\n",(0,i.jsx)(t.p,{children:"Since this integration uses the Google Storage SDK, you can also choose to not\nprovide any explicit credentials and let the SDK discover them automatically."}),"\n",(0,i.jsxs)(t.p,{children:["Please note that for this method to work you must add an empty ",(0,i.jsx)(t.code,{children:"googleGcs"})," object to the ",(0,i.jsx)(t.code,{children:"integrations"})," section in ",(0,i.jsx)(t.code,{children:"app-config.yaml"}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"integrations:\n  googleGcs: {}\n"})}),"\n",(0,i.jsxs)(t.p,{children:["One of these discovery methods is to provide an environment variable called\n",(0,i.jsx)(t.code,{children:"GOOGLE_APPLICATION_CREDENTIALS"})," and set it to the file path of your JSON\nservice account key."]}),"\n",(0,i.jsxs)(t.p,{children:["For more details and methods to provide credentials to the Google Storage SDK\nyou can check ",(0,i.jsx)(t.a,{href:"https://cloud.google.com/docs/authentication/production#auth-cloud-implicit-nodejs",children:"this documentation page"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(t.p,{children:["To use this integration to import entities from a GCS bucket go to the Google\nconsole and browse the file you would like to import. Then copy the\n",(0,i.jsx)(t.code,{children:"Authenticated URL"})," and paste it into the text box in the ",(0,i.jsx)(t.code,{children:"register component"}),"\nform. This URL should look like\n",(0,i.jsx)(t.code,{children:"https://storage.cloud.google.com/<bucket>/<path>/catalog-info.yaml"}),"."]})]})}function g(e={}){let{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453(e,t,o){o.d(t,{R:()=>s,x:()=>l});var n=o(296540);let i={},a=n.createContext(i);function s(e){let t=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(a.Provider,{value:t},e.children)}},282415(e){e.exports=JSON.parse('{"id":"integrations/google-cloud-storage/locations","title":"Google Cloud Storage Locations","description":"Setting up an integration with Google Cloud Storage","source":"@site/../docs/integrations/google-cloud-storage/locations.md","sourceDirName":"integrations/google-cloud-storage","slug":"/integrations/google-cloud-storage/locations","permalink":"/docs/next/integrations/google-cloud-storage/locations","draft":false,"unlisted":false,"editUrl":"https://github.com/backstage/backstage/edit/master/docs/integrations/google-cloud-storage/locations.md","tags":[],"version":"current","frontMatter":{"id":"locations","sidebar_label":"Locations","title":"Google Cloud Storage Locations","description":"Setting up an integration with Google Cloud Storage"},"sidebar":"docs","previous":{"title":"Google GCS","permalink":"/docs/next/google-gcs/generated-index"},"next":{"title":"LDAP","permalink":"/docs/next/ldap/generated-index"}}')}}]);