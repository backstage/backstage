"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([["49182"],{32907(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var i=s(558085),r=s(474848),t=s(28453);let a={id:"v1.30.0",title:"v1.30.0",description:"Backstage Release v1.30.0"},o,d={},c=[{value:"Highlights",id:"highlights",level:2},{value:"New Frontend System - Plugin Adoption",id:"new-frontend-system---plugin-adoption",level:3},{value:"BREAKING: Backend System deprecations and removals",id:"breaking-backend-system-deprecations-and-removals",level:3},{value:"BREAKING: Auth Sign In Resolver Priority",id:"breaking-auth-sign-in-resolver-priority",level:3},{value:"BREAKING: <code>@backstage/cli</code>",id:"breaking-backstagecli",level:3},{value:"BREAKING: <code>@backstage/backend-test-utils</code>",id:"breaking-backstagebackend-test-utils",level:3},{value:"Scaffolder Internationalization",id:"scaffolder-internationalization",level:3},{value:"Dynamic Backend Feature Loaders",id:"dynamic-backend-feature-loaders",level:3},{value:"Security Fixes",id:"security-fixes",level:2},{value:"Upgrade path",id:"upgrade-path",level:2},{value:"Links and References",id:"links-and-references",level:2}];function l(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["These are the release notes for the v1.30.0 release of ",(0,r.jsx)(n.a,{href:"https://backstage.io/",children:"Backstage"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"A huge thanks to the whole team of maintainers and contributors as well as the amazing Backstage Community for the hard work in getting this release developed and done."}),"\n",(0,r.jsx)(n.h2,{id:"highlights",children:"Highlights"}),"\n",(0,r.jsx)(n.h3,{id:"new-frontend-system---plugin-adoption",children:"New Frontend System - Plugin Adoption"}),"\n",(0,r.jsxs)(n.p,{children:["This release marks another big milestone for the New Frontend System. ",(0,r.jsxs)(n.strong,{children:["We encourage all plugin owners to ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/frontend-system/building-plugins/migrating",children:"add support for the new frontend system"})," to their plugins."]})]}),"\n",(0,r.jsxs)(n.p,{children:["At the end of last year in the ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/releases/v1.21.0",children:"1.21 release"}),", we shipped the New Frontend System Alpha. It marked a more stable release of the new system, but we knew there was still much more work left to be done. Since then we have received valuable feedback and identified key areas of improvement. In particular around the creation of new extension kinds as well as overriding and testing of extensions."]}),"\n",(0,r.jsxs)(n.p,{children:["Over the summer months we\u2019ve been working hard towards addressing this feedback and getting the New Frontend System in shape for us to be confident in encouraging broader adoption by plugins. For a summary of the changes you can check out the ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/frontend-system/architecture/migrations#130",children:"1.30 migration documentation"}),", or can see the ongoing progress in the ",(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/issues/19545",children:"meta issue"}),". With this release comes some new features, deprecations and breaking changes in the ",(0,r.jsx)(n.code,{children:"@backstage/frontend-app-api"}),", ",(0,r.jsx)(n.code,{children:"@backstage/frontend-plugin-api"}),", and ",(0,r.jsx)(n.code,{children:"@backstage/core-compat-api"})," packages.```"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Breaking"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["All types of route references in the New Frontend System are now optional. This means that all usages of ",(0,r.jsx)(n.code,{children:"useRouteRef"})," in the new system might return ",(0,r.jsx)(n.code,{children:"undefined"}),", and your code must be able to act accordingly. Code that uses the old system (which will be the vast majority of code at this point) is ",(0,r.jsx)(n.strong,{children:"not"})," affected by this."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"New"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Blueprints and ",(0,r.jsx)(n.code,{children:"createExtensionBlueprint"})," as a replacement for extension creators. You will find that old extension creators are marked as deprecated, and point to the corresponding blueprints which have a superior developer experience!"]}),"\n",(0,r.jsxs)(n.li,{children:["Ability to override individual extensions using ",(0,r.jsx)(n.code,{children:"extension.override(...)"}),", as well as overriding extensions in a plugin using a combination of ",(0,r.jsx)(n.code,{children:"plugin.withOverrides([...])"})," and ",(0,r.jsx)(n.code,{children:"plugin.getExtension(id)"})," to replace individual extensions or add new ones."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"createExtensionTester"})," supports ",(0,r.jsx)(n.code,{children:".get"})," and ",(0,r.jsx)(n.code,{children:".query"})," to directly access extension data and streamline tests decoupled from React, as well as a ",(0,r.jsx)(n.code,{children:".reactElement"})," shorthand for accessing any output React elements."]}),"\n",(0,r.jsxs)(n.li,{children:["A new set of utilities that can patch support for the new frontend system for a plugin that otherwise only supports the old one. The new ",(0,r.jsx)(n.code,{children:"convertLegacyPlugin"})," is used to convert a plugin instance, while ",(0,r.jsx)(n.code,{children:"convertLegacyPageExtension"})," with friends can convert extensions from the old system."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deprecations"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"createPlugin"})," has been renamed to ",(0,r.jsx)(n.code,{children:"createFrontendPlugin"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"createExtension"})," with object keys for ",(0,r.jsx)(n.code,{children:"inputs"})," and ",(0,r.jsx)(n.code,{children:"outputs"})," has been deprecated in favor of the array form."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"configSchema"})," in ",(0,r.jsx)(n.code,{children:"createExtension"})," has been replaced with ",(0,r.jsx)(n.code,{children:"config.schema"})," which is a better alternative to declaring config for extensions without having to use ",(0,r.jsx)(n.code,{children:"createSchemaFromZod"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Existing ",(0,r.jsx)(n.code,{children:"dataRefs"})," should now embed the ID using the ",(0,r.jsx)(n.code,{children:".with"})," method."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"render"})," method on ",(0,r.jsx)(n.code,{children:"createExtensionTester"})," has been deprecated in favor of composing ",(0,r.jsx)(n.code,{children:".reactElement"})," with ",(0,r.jsx)(n.code,{children:"renderInTestApp"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"breaking-backend-system-deprecations-and-removals",children:"BREAKING: Backend System deprecations and removals"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Almost all service factories in ",(0,r.jsx)(n.code,{children:"@backstage/backend-app-api"})," were marked deprecated some time back - those are now removed. Please import them from their new homes in ",(0,r.jsx)(n.code,{children:"@backstage/backend-defaults/<service>"})," instead."]}),"\n",(0,r.jsxs)(n.li,{children:["In our effort to migrate to the new backend system some backend-plugins ",(0,r.jsx)(n.code,{children:"createRouter"})," exports have been marked as deprecated. Please make sure to update your backends accordingly as ",(0,r.jsx)(n.code,{children:"createRouter"})," will eventually be removed from all plugin exports."]}),"\n",(0,r.jsx)(n.li,{children:"Several deprecated methods and types have been removed from backend related packages. Most of these are either renamed and re-exported from other packages, see the CHANGELOG for the individual package for more information."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Most notably the long deprecated ",(0,r.jsx)(n.code,{children:"UrlReader"})," exports have been renamed:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ReadUrlOptions"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceReadUrlOptions"})," instead;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ReadUrlResponse"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceReadUrlResponse"})," instead;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ReadTreeOptions"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceReadTreeOptions"})," instead;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ReadTreeResponse"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceReadTreeResponse"})," instead;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ReadTreeResponseFile"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceReadTreeResponseFile"})," instead;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ReadTreeResponseDirOptions"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceReadTreeResponseDirOptions"})," instead;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SearchOptions"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceSearchOptions"})," instead;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SearchResponse"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceSearchResponse"})," instead;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SearchResponseFile"}),": Use ",(0,r.jsx)(n.code,{children:"UrlReaderServiceSearchResponseFile"})," instead."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"breaking-auth-sign-in-resolver-priority",children:"BREAKING: Auth Sign In Resolver Priority"}),"\n",(0,r.jsxs)(n.p,{children:["Sign-in resolvers configured via ",(0,r.jsx)(n.code,{children:".signIn.resolvers"})," in your app-config now take precedence over sign-in resolvers passed to ",(0,r.jsx)(n.code,{children:"signInResolver"})," option of ",(0,r.jsx)(n.code,{children:"createOAuthProviderFactory"}),". This effectively makes sign-in resolvers passed via the ",(0,r.jsx)(n.code,{children:"signInResolver"})," the default ones, which you can then override through configuration, simplifying deploying the same code in multiple environments."]}),"\n",(0,r.jsxs)(n.h3,{id:"breaking-backstagecli",children:["BREAKING: ",(0,r.jsx)(n.code,{children:"@backstage/cli"})]}),"\n",(0,r.jsxs)(n.p,{children:["The lockfile (",(0,r.jsx)(n.code,{children:"yarn.lock"}),") dependency analysis and mutations have been removed from several commands. This means that ",(0,r.jsx)(n.code,{children:"versions:bump"})," will no longer attempt to deduplicate after bumping and modifying the lockfile."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"versions:check"})," command has also been removed as its only purpose was to verify and mutate the lockfile. We recommend using the ",(0,r.jsx)(n.code,{children:"yarn dedupe"})," command instead, or the ",(0,r.jsx)(n.code,{children:"yarn-deduplicate"})," package if you're using Yarn classic, as a replacement. This change was made in order for us to support other Package Managers in the future and remove the coupling with ",(0,r.jsx)(n.code,{children:"yarn"}),"."]}),"\n",(0,r.jsxs)(n.h3,{id:"breaking-backstagebackend-test-utils",children:["BREAKING: ",(0,r.jsx)(n.code,{children:"@backstage/backend-test-utils"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"setupRequestMockHandlers"})," is removed; use ",(0,r.jsx)(n.code,{children:"registerMswTestHooks"})," instead."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MockDirectoryOptions"})," is removed; use ",(0,r.jsx)(n.code,{children:"CreateMockDirectoryOptions"})," instead."]}),"\n",(0,r.jsxs)(n.li,{children:["Stopped exporting the deprecated and internal ",(0,r.jsx)(n.code,{children:"isDockerDisabledForTests"})," helper."]}),"\n",(0,r.jsxs)(n.li,{children:["Removed ",(0,r.jsx)(n.code,{children:"get"})," method from ",(0,r.jsx)(n.code,{children:"ServiceFactoryTester"})," which is replaced by ",(0,r.jsx)(n.code,{children:"getSubject"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"scaffolder-internationalization",children:"Scaffolder Internationalization"}),"\n",(0,r.jsxs)(n.p,{children:["Thanks to ",(0,r.jsx)(n.a,{href:"https://github.com/mario-mui",children:"@mario-mui"})," we now have i18n support for another core feature! Contributed in ",(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/pull/25827",children:"#25827"})]}),"\n",(0,r.jsx)(n.h3,{id:"dynamic-backend-feature-loaders",children:"Dynamic Backend Feature Loaders"}),"\n",(0,r.jsxs)(n.p,{children:["You can now use ",(0,r.jsx)(n.code,{children:"createBackendFeatureLoader"})," to dynamically load features in the backend, for example based on runtime configuration, and many other exciting possibilities. Check out ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/backend-system/architecture/feature-loaders",children:"the docs"}),"!"]}),"\n",(0,r.jsx)(n.h2,{id:"security-fixes",children:"Security Fixes"}),"\n",(0,r.jsxs)(n.p,{children:["The AWS ALB auth provider now has a configuration option ",(0,r.jsx)(n.code,{children:"signer"}),", which should be set to the ARN of your ALB instance. We strongly recommend that you set this configuration value, since it will help strengthen your installation."]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-diff",children:" auth:\n   providers:\n     awsalb:\n       issuer: ...\n       # put your actual ARN here\n+      signer: 'arn:aws:elasticloadbalancing:us-east-2:123456789012:loadbalancer/app/my-load-balancer/1234567890123456'\n       region: ...\n       signIn:\n         resolvers:\n           - resolver: ...\n"})}),"\n",(0,r.jsx)(n.h2,{id:"upgrade-path",children:"Upgrade path"}),"\n",(0,r.jsxs)(n.p,{children:["We recommend that you keep your Backstage project up to date with this latest release. For more guidance on how to upgrade, check out the documentation for ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/getting-started/keeping-backstage-updated",children:"keeping Backstage updated"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"links-and-references",children:"Links and References"}),"\n",(0,r.jsx)(n.p,{children:"Below you can find a list of links and references to help you learn about and start using this new release."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://backstage.io/",children:"Backstage official website"}),", ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/",children:"documentation"}),", and ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/getting-started/",children:"getting started guide"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage",children:"GitHub repository"})}),"\n",(0,r.jsxs)(n.li,{children:["Backstage's ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/overview/versioning-policy",children:"versioning and support policy"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://discord.gg/backstage-687207715902193673",children:"Community Discord"})," for discussions and support"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/tree/master/docs/releases/v1.30.0-changelog.md",children:"Changelog"})}),"\n",(0,r.jsxs)(n.li,{children:["Backstage ",(0,r.jsx)(n.a,{href:"https://backstage.io/demos",children:"Demos"}),", ",(0,r.jsx)(n.a,{href:"https://backstage.io/blog",children:"Blog"}),", ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/overview/roadmap",children:"Roadmap"})," and ",(0,r.jsx)(n.a,{href:"https://backstage.io/plugins",children:"Plugins"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Sign up for our ",(0,r.jsx)(n.a,{href:"https://spoti.fi/backstagenewsletter",children:"newsletter"})," if you want to be informed about what is happening in the world of Backstage."]})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453(e,n,s){s.d(n,{R:()=>a,x:()=>o});var i=s(296540);let r={},t=i.createContext(r);function a(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}},558085(e){e.exports=JSON.parse('{"id":"releases/v1.30.0","title":"v1.30.0","description":"Backstage Release v1.30.0","source":"@site/versioned_docs/version-stable/releases/v1.30.0.md","sourceDirName":"releases","slug":"/releases/v1.30.0","permalink":"/docs/releases/v1.30.0","draft":false,"unlisted":false,"editUrl":"https://github.com/backstage/backstage/edit/master/docs/releases/v1.30.0.md","tags":[],"version":"stable","frontMatter":{"id":"v1.30.0","title":"v1.30.0","description":"Backstage Release v1.30.0"},"sidebar":"releases","previous":{"title":"v1.31.0","permalink":"/docs/releases/v1.31.0"},"next":{"title":"v1.29.0","permalink":"/docs/releases/v1.29.0"}}')}}]);