"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([["23580"],{263802(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});var i=t(419575),s=t(474848),c=t(28453);let l={id:"audit-events",title:"Audit Events",description:"Tracking access to your Software Catalog."},r,d={},o=[{value:"Entity Events",id:"entity-events",level:2},{value:"Location Events",id:"location-events",level:2}];function a(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["The Catalog backend emits audit events for various operations. Events are grouped logically by ",(0,s.jsx)(n.code,{children:"eventId"}),", with ",(0,s.jsx)(n.code,{children:"subEventId"})," providing further distinction within an operation group."]}),"\n",(0,s.jsx)(n.h2,{id:"entity-events",children:"Entity Events"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"entity-fetch"})}),": Retrieves entities."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"}),' By default, "low" severity audit events like ',(0,s.jsx)(n.code,{children:"entity-fetch"}),' aren\'t logged because they map to the "debug" level, while Backstage defaults to "info" level logging. To see ',(0,s.jsx)(n.code,{children:"entity-fetch"})," events, update your ",(0,s.jsx)(n.code,{children:"app-config.yaml"})," by setting ",(0,s.jsx)(n.code,{children:"backend.auditor.severityLogLevelMappings.low: info"}),". See the ",(0,s.jsx)(n.a,{href:"https://backstage.io/docs/backend-system/core-services/auditor/#severity-levels-and-default-mappings",children:"Auditor Service documentation"})," for details on severity mappings."]}),"\n",(0,s.jsxs)(n.p,{children:["Filter on ",(0,s.jsx)(n.code,{children:"queryType"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"all"})}),": Fetching all entities. (GET ",(0,s.jsx)(n.code,{children:"/entities"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"by-id"})}),": Fetching a single entity using its UID. (GET ",(0,s.jsx)(n.code,{children:"/entities/by-uid/:uid"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"by-name"})}),": Fetching a single entity using its kind, namespace, and name. (GET ",(0,s.jsx)(n.code,{children:"/entities/by-name/:kind/:namespace/:name"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"by-query"})}),": Fetching multiple entities using a filter query. (GET ",(0,s.jsx)(n.code,{children:"/entities/by-query"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"by-refs"})}),": Fetching a batch of entities by their entity refs. (POST ",(0,s.jsx)(n.code,{children:"/entities/by-refs"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"ancestry"})}),": Fetching the ancestry of an entity. (GET ",(0,s.jsx)(n.code,{children:"/entities/by-name/:kind/:namespace/:name/ancestry"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"entity-mutate"})}),": Modifies entities."]}),"\n",(0,s.jsxs)(n.p,{children:["Filter on ",(0,s.jsx)(n.code,{children:"actionType"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"delete"})}),": Deleting a single entity. Note: this will not be a permanent deletion and the entity will be restored if the parent location is still present in the catalog. (DELETE ",(0,s.jsx)(n.code,{children:"/entities/by-uid/:uid"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"refresh"})}),": Scheduling an entity refresh. (POST ",(0,s.jsx)(n.code,{children:"/entities/refresh"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"entity-validate"})}),": Validates an entity. (POST ",(0,s.jsx)(n.code,{children:"/entities/validate"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"entity-facets"})}),": Retrieves entity facets. (GET ",(0,s.jsx)(n.code,{children:"/entity-facets"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"location-events",children:"Location Events"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"location-fetch"})}),": Retrieves locations."]}),"\n",(0,s.jsxs)(n.p,{children:["Filter on ",(0,s.jsx)(n.code,{children:"actionType"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"all"})}),": Fetching all locations. (GET ",(0,s.jsx)(n.code,{children:"/locations"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"by-id"})}),": Fetching a single location by ID. (GET ",(0,s.jsx)(n.code,{children:"/locations/:id"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"by-entity"})}),": Fetching locations associated with an entity ref. (GET ",(0,s.jsx)(n.code,{children:"/locations/by-entity"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"location-mutate"})}),": Modifies locations."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"create"})}),": Creating a new location. (POST ",(0,s.jsx)(n.code,{children:"/locations"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"delete"})}),": Deleting a location and its associated entities. (DELETE ",(0,s.jsx)(n.code,{children:"/locations/:id"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"location-analyze"})}),": Analyzes a location. (POST ",(0,s.jsx)(n.code,{children:"/locations/analyze"}),")"]}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453(e,n,t){t.d(n,{R:()=>l,x:()=>r});var i=t(296540);let s={},c=i.createContext(s);function l(e){let n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(c.Provider,{value:n},e.children)}},419575(e){e.exports=JSON.parse('{"id":"features/software-catalog/audit-events","title":"Audit Events","description":"Tracking access to your Software Catalog.","source":"@site/../docs/features/software-catalog/audit-events.md","sourceDirName":"features/software-catalog","slug":"/features/software-catalog/audit-events","permalink":"/docs/next/features/software-catalog/audit-events","draft":false,"unlisted":false,"editUrl":"https://github.com/backstage/backstage/edit/master/docs/features/software-catalog/audit-events.md","tags":[],"version":"current","frontMatter":{"id":"audit-events","title":"Audit Events","description":"Tracking access to your Software Catalog."},"sidebar":"docs","previous":{"title":"Catalog Customization","permalink":"/docs/next/features/software-catalog/catalog-customization"},"next":{"title":"API","permalink":"/docs/next/category/catalog-api"}}')}}]);