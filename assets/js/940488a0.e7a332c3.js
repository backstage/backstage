/*! For license information please see 940488a0.e7a332c3.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[184911],{516688:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var s=n(474848),a=n(28453);const r={id:"v1.38.0",title:"v1.38.0",description:"Backstage Release v1.38.0"},i=void 0,o={id:"releases/v1.38.0",title:"v1.38.0",description:"Backstage Release v1.38.0",source:"@site/../docs/releases/v1.38.0.md",sourceDirName:"releases",slug:"/releases/v1.38.0",permalink:"/docs/next/releases/v1.38.0",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/releases/v1.38.0.md",tags:[],version:"current",frontMatter:{id:"v1.38.0",title:"v1.38.0",description:"Backstage Release v1.38.0"},sidebar:"releases",previous:{title:"v1.39.0",permalink:"/docs/next/releases/v1.39.0"},next:{title:"v1.37.0",permalink:"/docs/next/releases/v1.37.0"}},c={},l=[{value:"Highlights",id:"highlights",level:2},{value:"BREAKING: Removal of <code>React</code> imports",id:"breaking-removal-of-react-imports",level:3},{value:"BREAKING: Github Integration Changes",id:"breaking-github-integration-changes",level:3},{value:"BREAKING: Translation key changes for Scaffolder Plugin",id:"breaking-translation-key-changes-for-scaffolder-plugin",level:3},{value:"<code>backstage-cli repo start</code>",id:"backstage-cli-repo-start",level:3},{value:"New plugin drop: \ud83d\udce6 Gateway Plugin",id:"new-plugin-drop--gateway-plugin",level:3},{value:"Canon 0.3.0",id:"canon-030",level:3},{value:"Movement towards Module Federation support",id:"movement-towards-module-federation-support",level:3},{value:"Catalog Events support for <code>bitbucket-server</code>",id:"catalog-events-support-for-bitbucket-server",level:3},{value:"Redis clustering support",id:"redis-clustering-support",level:3},{value:"Support for SRV look-ups in standard discovery",id:"support-for-srv-look-ups-in-standard-discovery",level:3},{value:"Send Slack notifications from the events system",id:"send-slack-notifications-from-the-events-system",level:3},{value:"New Frontend System Improvements",id:"new-frontend-system-improvements",level:3},{value:"Security Fixes",id:"security-fixes",level:2},{value:"Upgrade path",id:"upgrade-path",level:2},{value:"Links and References",id:"links-and-references",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["These are the release notes for the v1.38.0 release of ",(0,s.jsx)(t.a,{href:"https://backstage.io/",children:"Backstage"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"A huge thanks to the whole team of maintainers and contributors as well as the amazing Backstage Community for the hard work in getting this release developed and done."}),"\n",(0,s.jsx)(t.h2,{id:"highlights",children:"Highlights"}),"\n",(0,s.jsxs)(t.h3,{id:"breaking-removal-of-react-imports",children:["BREAKING: Removal of ",(0,s.jsx)(t.code,{children:"React"})," imports"]}),"\n",(0,s.jsxs)(t.p,{children:["Backstage projects now ship with the ",(0,s.jsx)(t.a,{href:"https://legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html",children:"new JSX transforms"})," enabled by default, which removes the need for any default ",(0,s.jsx)(t.code,{children:"React"})," imports. They are not yet included in the common configuration in the CLI, but you can enable them in your own project by adding the following under ",(0,s.jsx)(t.code,{children:'"compilerOptions"'})," in your ",(0,s.jsx)(t.code,{children:"tsconfig.json"}),": ",(0,s.jsx)(t.code,{children:'"jsx": "react-jsx"'}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["To go along with this change the ESLint configuration in ",(0,s.jsx)(t.code,{children:"@backstage/cli"})," has a new set of rules that produces warnings if ",(0,s.jsx)(t.code,{children:"React"})," default imports are used. We recommend all adopters to switch to the new JSX transforms at their earliest convenience."]}),"\n",(0,s.jsxs)(t.p,{children:["For more information, see the ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/tutorials/jsx-transform-migration",children:"JSX transform migration guide"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/schultzp2020",children:"@schultzp2020"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29499",children:"#29499"})]}),"\n",(0,s.jsx)(t.h3,{id:"breaking-github-integration-changes",children:"BREAKING: Github Integration Changes"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"@backstage/plugin-catalog-backend-module-github"})," now will reject any configuration that contains slashes in branch names. Branches with slashes in Backstage are currently unsupported (",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/issues/2815",children:"#2815"}),"), and allowing this would cause issues after ingestion."]}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/lukealbao",children:"@lukealbao"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29424",children:"#29424"})]}),"\n",(0,s.jsxs)(t.p,{children:["Another breaking change is that the ",(0,s.jsx)(t.code,{children:"@backstage/plugin-scaffolder-backend-module-github"})," module also now will use the default branch of ",(0,s.jsx)(t.code,{children:"main"})," instead of ",(0,s.jsx)(t.code,{children:"master"})," when publishing new repositories."]}),"\n",(0,s.jsxs)(t.p,{children:["It can be configured to any other value from the default by using the ",(0,s.jsx)(t.code,{children:"defaultBranch"})," input."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-diff",children:"    - id: publish\n      name: Publish\n      action: publish:github\n      input:\n        allowedHosts: ['github.com']\n        description: This is ${{ parameters.name }}\n        repoUrl: ${{ parameters.repoUrl }}\n+       defaultBranch: 'master'\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/QuadmanSWE",children:"@QuadmanSWE"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29488",children:"#29488"})]}),"\n",(0,s.jsx)(t.h3,{id:"breaking-translation-key-changes-for-scaffolder-plugin",children:"BREAKING: Translation key changes for Scaffolder Plugin"}),"\n",(0,s.jsxs)(t.p,{children:["Some translations have changed the key that they are nested under as they have been refactored into a better place with the upcoming additions of ",(0,s.jsx)(t.code,{children:"createTemplateGlobal"})," and ",(0,s.jsx)(t.code,{children:"createTemplateFilter"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["This means that the translation keys have changed for ",(0,s.jsx)(t.code,{children:"actionsPage.content.tableCell.*."})," They have moved to their own root key ",(0,s.jsx)(t.code,{children:"renderSchema.*"})," instead."]}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/mbenson",children:"@mbenson"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29383",children:"#29383"})]}),"\n",(0,s.jsx)(t.h3,{id:"backstage-cli-repo-start",children:(0,s.jsx)(t.code,{children:"backstage-cli repo start"})}),"\n",(0,s.jsxs)(t.p,{children:["In order to align on ",(0,s.jsx)(t.code,{children:"yarn start"})," being the only command needed for local development, we\u2019ve introduced a new ",(0,s.jsx)(t.code,{children:"repo start"})," command to the ",(0,s.jsx)(t.code,{children:"backstage-cli"})," for use in the root ",(0,s.jsx)(t.code,{children:"package.json"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["This will allow users to just run ",(0,s.jsx)(t.code,{children:"yarn start"})," in the root of the repository. It will run the app and/or backend package in the repository by default, but you can also select packages to run by name or path, as well as run plugin dev entry points by plugin ID. For more information on the available options, see the ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/tooling/cli/commands#repo-start",children:"docs for the repo start command"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"The new script is installed as follows, replacing the existing yarn start script:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "scripts": {\n    "start": "backstage-cli repo start"\n  }\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"In order to help users migrate in existing projects, it is recommended to replace existing scripts with the following in the root package.json:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "scripts": {\n    "dev": "echo \\"Use \'yarn start\' instead\\"",\n    "start-backend": "echo \\"Use \'yarn start backend\' instead\\""\n  }\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"new-plugin-drop--gateway-plugin",children:"New plugin drop: \ud83d\udce6 Gateway Plugin"}),"\n",(0,s.jsxs)(t.p,{children:["We have released ",(0,s.jsx)(t.code,{children:"@backstage/plugin-gateway-backend"}),", a plugin for managing request routing in distributed Backstage deployments. This plugin is designed for organizations that have ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/backend-system/building-backends/index#split-into-multiple-backends",children:"split their backend plugins across multiple Backstage deployments"}),"."]}),"\n",(0,s.jsx)(t.p,{children:'The gateway plugin addresses frontend-to-backend routing by providing a centralized routing solution in a dedicated "gateway" Backstage deployment. It routes frontend requests to the appropriate backend plugins using the Discovery service, while prioritizing local plugins when available.'}),"\n",(0,s.jsx)(t.h3,{id:"canon-030",children:"Canon 0.3.0"}),"\n",(0,s.jsxs)(t.p,{children:["Our new design system Canon has reached 0.3.0 in this release. You can read more about the changes in the ",(0,s.jsx)(t.a,{href:"https://canon.backstage.io/releases",children:"canon changelog"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"movement-towards-module-federation-support",children:"Movement towards Module Federation support"}),"\n",(0,s.jsxs)(t.p,{children:["The new package ",(0,s.jsx)(t.code,{children:"@backstage/frontend-dynamic-features-loader"})," provides a frontend feature loader that dynamically\nloads frontend features based on the new frontend system and exposed as module federation remotes.\nThis new frontend feature loader works hand-in-hand with a new server of frontend plugin module federation\nremotes, which is added as part of backend dynamic feature service in package ",(0,s.jsx)(t.code,{children:"@backstage/backend-dynamic-feature-service"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/davidfestal",children:"@davidfestal"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/28076",children:"#28076"})]}),"\n",(0,s.jsxs)(t.h3,{id:"catalog-events-support-for-bitbucket-server",children:["Catalog Events support for ",(0,s.jsx)(t.code,{children:"bitbucket-server"})]}),"\n",(0,s.jsx)(t.p,{children:"One of the oldest PRs that we had has finally been merged! We now have support for Bitbucket Server events, to automatically react to file changes to keep the catalog up to date."}),"\n",(0,s.jsx)(t.p,{children:"Thanks for the effort from all involved to finally get this across the line \ud83c\udf89"}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/davelil4",children:"@davelil4"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/19633",children:"#19633"})]}),"\n",(0,s.jsx)(t.h3,{id:"redis-clustering-support",children:"Redis clustering support"}),"\n",(0,s.jsxs)(t.p,{children:["You can now enable Redis clustering, through the ",(0,s.jsx)(t.code,{children:"backend.cache.redis.cluster"})," key."]}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/marknach",children:"@marknach"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29162",children:"#29162"})]}),"\n",(0,s.jsx)(t.h3,{id:"support-for-srv-look-ups-in-standard-discovery",children:"Support for SRV look-ups in standard discovery"}),"\n",(0,s.jsxs)(t.p,{children:["You can now use URLs on for example the form ",(0,s.jsx)(t.code,{children:"http+srv://recordname/api/{{pluginId}}"})," in ",(0,s.jsx)(t.code,{children:"discovery.endpoints[].target.internal"}),", to get automatic real-time SRV resolution of your internal deployments."]}),"\n",(0,s.jsx)(t.h3,{id:"send-slack-notifications-from-the-events-system",children:"Send Slack notifications from the events system"}),"\n",(0,s.jsx)(t.p,{children:"There\u2019s now a Slack processor for the notifications subsystem. Get notified right in your Slack workspace when things happen."}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/kunickiaj",children:"@kunickiaj"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29308",children:"#29308"})]}),"\n",(0,s.jsx)(t.h3,{id:"new-frontend-system-improvements",children:"New Frontend System Improvements"}),"\n",(0,s.jsx)(t.p,{children:"It is now possible to add custom header menu items to the entity page, see the example below:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-tsx",children:"import { EntityContextMenuItemBlueprint } from '@backstage/plugin-catalog-react/alpha';\n\nconst customEntityMenuItem = EntityContextMenuItemBlueprint.make({\n  name: 'custom-entity-menu-item',\n  params: {\n    icon: <ExampleIcon />,\n    useProps() {\n      // Other hooks can be called here\n      return {\n        title: 'Example title',\n        href: '/example-path', // or onClick: () => window.alert('Hello world!'),\n        disabled: false,\n      };\n    },\n  },\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/marknotfound",children:"@marknotfound"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29515",children:"#29515"})]}),"\n",(0,s.jsx)(t.h2,{id:"security-fixes",children:"Security Fixes"}),"\n",(0,s.jsx)(t.p,{children:"This release contains a security improvement that addresses potential information leakage of policies within the permission system."}),"\n",(0,s.jsx)(t.h2,{id:"upgrade-path",children:"Upgrade path"}),"\n",(0,s.jsxs)(t.p,{children:["We recommend that you keep your Backstage project up to date with this latest release. For more guidance on how to upgrade, check out the documentation for ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/getting-started/keeping-backstage-updated",children:"keeping Backstage updated"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"links-and-references",children:"Links and References"}),"\n",(0,s.jsx)(t.p,{children:"Below you can find a list of links and references to help you learn about and start using this new release."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://backstage.io/",children:"Backstage official website"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/",children:"documentation"}),", and ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/getting-started/",children:"getting started guide"})]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage",children:"GitHub repository"})}),"\n",(0,s.jsxs)(t.li,{children:["Backstage's ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/overview/versioning-policy",children:"versioning and support policy"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://discord.gg/backstage-687207715902193673",children:"Community Discord"})," for discussions and support"]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/tree/master/docs/releases/v1.38.0-changelog.md",children:"Changelog"})}),"\n",(0,s.jsxs)(t.li,{children:["Backstage ",(0,s.jsx)(t.a,{href:"https://backstage.io/demos",children:"Demos"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/blog",children:"Blog"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/overview/roadmap",children:"Roadmap"})," and ",(0,s.jsx)(t.a,{href:"https://backstage.io/plugins",children:"Plugins"})]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Sign up for our ",(0,s.jsx)(t.a,{href:"https://info.backstage.spotify.com/newsletter_subscribe",children:"newsletter"})," if you want to be informed about what is happening in the world of Backstage."]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},221020:(e,t,n)=>{var s=n(296540),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var s,r={},l=null,d=null;for(s in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,s)&&!c.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===r[s]&&(r[s]=t[s]);return{$$typeof:a,type:e,key:l,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=l,t.jsxs=l},474848:(e,t,n)=>{e.exports=n(221020)},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>o});var s=n(296540);const a={},r=s.createContext(a);function i(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);