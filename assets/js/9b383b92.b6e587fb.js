/*! For license information please see 9b383b92.b6e587fb.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[122437],{117831:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var s=a(474848),n=a(28453);const i={id:"v1.41.0",title:"v1.41.0",description:"Backstage Release v1.41.0"},r=void 0,o={id:"releases/v1.41.0",title:"v1.41.0",description:"Backstage Release v1.41.0",source:"@site/versioned_docs/version-stable/releases/v1.41.0.md",sourceDirName:"releases",slug:"/releases/v1.41.0",permalink:"/docs/releases/v1.41.0",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/releases/v1.41.0.md",tags:[],version:"stable",frontMatter:{id:"v1.41.0",title:"v1.41.0",description:"Backstage Release v1.41.0"},sidebar:"releases",previous:{title:"v1.42.0",permalink:"/docs/releases/v1.42.0"},next:{title:"v1.40.0",permalink:"/docs/releases/v1.40.0"}},l={},c=[{value:"Highlights",id:"highlights",level:2},{value:"<strong>BREAKING</strong>: Catalog Backend 3.0 - New Defaults",id:"breaking-catalog-backend-30---new-defaults",level:3},{value:"<code>catalog.orphanStrategy</code> is now <code>delete</code> by default",id:"catalogorphanstrategy-is-now-delete-by-default",level:4},{value:"<code>catalog.orphanProviderStrategy</code> is now <code>delete</code> by default",id:"catalogorphanproviderstrategy-is-now-delete-by-default",level:4},{value:"<code>catalog.disableRelationsCompatibility</code> enabled by default",id:"catalogdisablerelationscompatibility-enabled-by-default",level:4},{value:"<code>catalog.stitchingStrategy</code> is now <code>{ mode: &#39;deferred&#39; }</code> by default",id:"catalogstitchingstrategy-is-now--mode-deferred--by-default",level:4},{value:"<code>catalog.useUrlReadersSearch</code> always enabled",id:"cataloguseurlreaderssearch-always-enabled",level:4},{value:"BREAKING: Scaffolder Permissions Changes",id:"breaking-scaffolder-permissions-changes",level:3},{value:"Renaming Canon to Backstage UI",id:"renaming-canon-to-backstage-ui",level:3},{value:"Auto <code>backstage:^</code> version with Backstage Yarn Plugin",id:"auto-backstage-version-with-backstage-yarn-plugin",level:3},{value:"Security Fixes",id:"security-fixes",level:2},{value:"Upgrade path",id:"upgrade-path",level:2},{value:"Links and References",id:"links-and-references",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["These are the release notes for the v1.41.0 release of ",(0,s.jsx)(t.a,{href:"https://backstage.io/",children:"Backstage"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"A huge thanks to the whole team of maintainers and contributors as well as the amazing Backstage Community for the hard work in getting this release developed and done."}),"\n",(0,s.jsx)(t.h2,{id:"highlights",children:"Highlights"}),"\n",(0,s.jsxs)(t.h3,{id:"breaking-catalog-backend-30---new-defaults",children:[(0,s.jsx)(t.strong,{children:"BREAKING"}),": Catalog Backend 3.0 - New Defaults"]}),"\n",(0,s.jsxs)(t.p,{children:["This major release of the catalog plugin backend switches the default value of a number of different flags that affect the behavior of the catalog.\n",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/30546",children:"https://github.com/backstage/backstage/pull/30546"})]}),"\n",(0,s.jsxs)(t.h4,{id:"catalogorphanstrategy-is-now-delete-by-default",children:[(0,s.jsx)(t.code,{children:"catalog.orphanStrategy"})," is now ",(0,s.jsx)(t.code,{children:"delete"})," by default"]}),"\n",(0,s.jsx)(t.p,{children:"This switches the default orphan strategy to eagerly delete entities that are no longer referenced within the catalog."}),"\n",(0,s.jsx)(t.p,{children:"This flag has been suggested many times as a way to clean up entities that have been moved or deleted, and we\u2019re feeling that it\u2019s a good time to turn this on by default."}),"\n",(0,s.jsxs)(t.p,{children:["You can opt back into the previous behavior by supplying ",(0,s.jsx)(t.code,{children:"orphanStrategy: keep"})," in config."]}),"\n",(0,s.jsxs)(t.h4,{id:"catalogorphanproviderstrategy-is-now-delete-by-default",children:[(0,s.jsx)(t.code,{children:"catalog.orphanProviderStrategy"})," is now ",(0,s.jsx)(t.code,{children:"delete"})," by default"]}),"\n",(0,s.jsx)(t.p,{children:"This switches the default provider installation strategy to no longer keep around entities from providers that are no longer present."}),"\n",(0,s.jsx)(t.p,{children:"If you have had providers installed in the past that ingested entities into the catalog that you want to keep, the recommendation is to add the provider back to the catalog. If you don\u2019t want the provider to run, you can schedule it with a very large interval."}),"\n",(0,s.jsxs)(t.h4,{id:"catalogdisablerelationscompatibility-enabled-by-default",children:[(0,s.jsx)(t.code,{children:"catalog.disableRelationsCompatibility"})," enabled by default"]}),"\n",(0,s.jsxs)(t.p,{children:["Relations compatibility is now disabled by default. It can be re-enabled with the new ",(0,s.jsx)(t.code,{children:"enableRelationsCompatibility"})," flag, but be aware that this significantly reduces overall performance of the catalog."]}),"\n",(0,s.jsxs)(t.p,{children:["Relations compatibility ensures that catalog responses contain both ",(0,s.jsx)(t.code,{children:"targetRef"})," and ",(0,s.jsx)(t.code,{children:"target"})," within the relations objects, while if it is disabled, only ",(0,s.jsx)(t.code,{children:"targetRef"})," will be present. The ",(0,s.jsx)(t.code,{children:"target"})," has not been needed within the Backstage ecosystem for a long time, as the move to ",(0,s.jsx)(t.code,{children:"targetRef"})," was rolled out many years ago. Therefore, only bespoke external consumers of the catalog should be affected by this change."]}),"\n",(0,s.jsxs)(t.h4,{id:"catalogstitchingstrategy-is-now--mode-deferred--by-default",children:[(0,s.jsx)(t.code,{children:"catalog.stitchingStrategy"})," is now ",(0,s.jsx)(t.code,{children:"{ mode: 'deferred' }"})," by default"]}),"\n",(0,s.jsx)(t.p,{children:"Stitching is the final phase of ingesting entities into the catalog. It collects all information related to an individual entity, generates the full output version of the entity, and writes it to the tables that power the read API."}),"\n",(0,s.jsx)(t.p,{children:"This switches the stitching to happen async in a background task, rather than in the main catalog processing loop. This makes stitching a lot more performant in large catalogs."}),"\n",(0,s.jsxs)(t.h4,{id:"cataloguseurlreaderssearch-always-enabled",children:[(0,s.jsx)(t.code,{children:"catalog.useUrlReadersSearch"})," always enabled"]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"catalog.useUrlReadersSearch"})," flag that was added in 1.36 has been removed and is now always enabled. This means that the ",(0,s.jsx)(t.code,{children:"UrlReaderProcessor"})," in the catalog will always use the ",(0,s.jsx)(t.code,{children:"search"})," method when reading locations, rather than ",(0,s.jsx)(t.code,{children:"read"}),". This allows each individual URL reader to decide whether location refers to a single file, or if it\u2019s a wildcard that needs searching."]}),"\n",(0,s.jsx)(t.p,{children:"This breaking change only affects those that have installed custom URL readers for use by the catalog. If these readers already implement a search method that is able to read from exact locations, you\u2019re all set, otherwise you will want to update it roughly as follows:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"search(url, options) {\n  if (!isWildcard(url)) {\n    return this.readUrl(url, options)\n  }\n  // existing search logic, or throw if wildcards aren\u2019t supported\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/tcardonne",children:"@tcardonne"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29788",children:"#29788"})]}),"\n",(0,s.jsx)(t.h3,{id:"breaking-scaffolder-permissions-changes",children:"BREAKING: Scaffolder Permissions Changes"}),"\n",(0,s.jsxs)(t.p,{children:["Some of the ",(0,s.jsx)(t.code,{children:"alpha"})," permissions rules in the scaffolder have had some potentially breaking changes."]}),"\n",(0,s.jsxs)(t.p,{children:["Retrying a task now requires both ",(0,s.jsx)(t.code,{children:"scaffolder.task.read"})," and ",(0,s.jsx)(t.code,{children:"scaffolder.task.create"})," permissions, replacing the previous requirement of ",(0,s.jsx)(t.code,{children:"scaffolder.task.read"})," and ",(0,s.jsx)(t.code,{children:"scaffolder.task.cancel"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Added a new scaffolder rule ",(0,s.jsx)(t.code,{children:"isTaskOwner"})," for ",(0,s.jsx)(t.code,{children:"scaffolder.task.read"})," and ",(0,s.jsx)(t.code,{children:"scaffolder.task.cancel"})," to allow for conditional permission policies such as restricting access to tasks and task events based on task creators."]}),"\n",(0,s.jsxs)(t.p,{children:["And we\u2019ve converted ",(0,s.jsx)(t.code,{children:"scaffolder.task.read"})," and ",(0,s.jsx)(t.code,{children:"scaffolder.task.cancel"})," into Resource Permissions."]}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/04kash",children:"@04kash"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/29202",children:"#29202"})]}),"\n",(0,s.jsx)(t.h3,{id:"renaming-canon-to-backstage-ui",children:"Renaming Canon to Backstage UI"}),"\n",(0,s.jsxs)(t.p,{children:["We have decided to rename Canon, the new design system for Backstage, to Backstage UI. For more context on this change, see ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/issues/27726#issuecomment-3019711177",children:"this comment"})," on the design system RFC. As part of this change, ",(0,s.jsx)(t.code,{children:"@backstage/canon"})," is being renamed to ",(0,s.jsx)(t.code,{children:"@backstage/ui"}),", and ",(0,s.jsx)(t.code,{children:"canon.backstage.io"})," is being switched to ",(0,s.jsx)(t.code,{children:"ui.backstage.io"}),"."]}),"\n",(0,s.jsxs)(t.h3,{id:"auto-backstage-version-with-backstage-yarn-plugin",children:["Auto ",(0,s.jsx)(t.code,{children:"backstage:^"})," version with Backstage Yarn Plugin"]}),"\n",(0,s.jsxs)(t.p,{children:["Fixed a bug that would prevent ",(0,s.jsx)(t.code,{children:"yarn"})," from installing new Backstage dependencies with the ",(0,s.jsx)(t.code,{children:"backstage:^"})," protocol. \ud83c\udf89"]}),"\n",(0,s.jsxs)(t.p,{children:["Contributed by ",(0,s.jsx)(t.a,{href:"https://github.com/eipc16",children:"@eipc16"})," in ",(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/pull/30390",children:"#30390"})]}),"\n",(0,s.jsx)(t.h2,{id:"security-fixes",children:"Security Fixes"}),"\n",(0,s.jsx)(t.p,{children:"This release does not contain any security fixes."}),"\n",(0,s.jsx)(t.h2,{id:"upgrade-path",children:"Upgrade path"}),"\n",(0,s.jsxs)(t.p,{children:["We recommend that you keep your Backstage project up to date with this latest release. For more guidance on how to upgrade, check out the documentation for ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/getting-started/keeping-backstage-updated",children:"keeping Backstage updated"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"links-and-references",children:"Links and References"}),"\n",(0,s.jsx)(t.p,{children:"Below you can find a list of links and references to help you learn about and start using this new release."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://backstage.io/",children:"Backstage official website"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/",children:"documentation"}),", and ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/getting-started/",children:"getting started guide"})]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage",children:"GitHub repository"})}),"\n",(0,s.jsxs)(t.li,{children:["Backstage's ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/overview/versioning-policy",children:"versioning and support policy"})]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://discord.gg/backstage-687207715902193673",children:"Community Discord"})," for discussions and support"]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/backstage/backstage/tree/master/docs/releases/v1.41.0-changelog.md",children:"Changelog"})}),"\n",(0,s.jsxs)(t.li,{children:["Backstage ",(0,s.jsx)(t.a,{href:"https://backstage.io/demos",children:"Demos"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/blog",children:"Blog"}),", ",(0,s.jsx)(t.a,{href:"https://backstage.io/docs/overview/roadmap",children:"Roadmap"})," and ",(0,s.jsx)(t.a,{href:"https://backstage.io/plugins",children:"Plugins"})]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Sign up for our ",(0,s.jsx)(t.a,{href:"https://info.backstage.spotify.com/newsletter_subscribe",children:"newsletter"})," if you want to be informed about what is happening in the world of Backstage."]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},221020:(e,t,a)=>{var s=a(296540),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var s,i={},c=null,d=null;for(s in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,s)&&!l.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:d,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},474848:(e,t,a)=>{e.exports=a(221020)},28453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>o});var s=a(296540);const n={},i=s.createContext(n);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);