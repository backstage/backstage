## API Report File for "@backstage/plugin-scaffolder-backend-module-github"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AuthService } from '@backstage/backend-plugin-api';
import { BackendFeature } from '@backstage/backend-plugin-api';
import { CatalogApi } from '@backstage/catalog-client';
import { Config } from '@backstage/config';
import { createPullRequest } from 'octokit-plugin-create-pull-request';
import { GithubCredentialsProvider } from '@backstage/integration';
import { JsonObject } from '@backstage/types';
import { Octokit } from 'octokit';
import { OctokitOptions } from '@octokit/core/dist-types/types';
import { ScmIntegrationRegistry } from '@backstage/integration';
import { ScmIntegrations } from '@backstage/integration';
import { TemplateAction } from '@backstage/plugin-scaffolder-node';

// @public
export function createGithubActionsDispatchAction(options: {
  integrations: ScmIntegrations;
  githubCredentialsProvider?: GithubCredentialsProvider;
}): TemplateAction<
  {
    repoUrl: string;
    workflowId: string;
    branchOrTagName: string;
    workflowInputs?: {
      [key: string]: string;
    };
    token?: string;
  },
  JsonObject,
  'v1'
>;

// @public
export function createGithubAutolinksAction(options: {
  integrations: ScmIntegrations;
  githubCredentialsProvider?: GithubCredentialsProvider;
}): TemplateAction<
  {
    repoUrl: string;
    keyPrefix: string;
    urlTemplate: string;
    isAlphanumeric?: boolean;
    token?: string;
  },
  JsonObject,
  'v1'
>;

// @public
export function createGithubBranchProtectionAction(options: {
  integrations: ScmIntegrationRegistry;
}): TemplateAction<
  {
    repoUrl: string;
    branch?: string;
    enforceAdmins?: boolean;
    requiredApprovingReviewCount?: number;
    requireCodeOwnerReviews?: boolean;
    dismissStaleReviews?: boolean;
    bypassPullRequestAllowances?:
      | {
          users?: string[];
          teams?: string[];
          apps?: string[];
        }
      | undefined;
    restrictions?:
      | {
          users: string[];
          teams: string[];
          apps?: string[];
        }
      | undefined;
    requiredStatusCheckContexts?: string[];
    requireBranchesToBeUpToDate?: boolean;
    requiredConversationResolution?: boolean;
    requireLastPushApproval?: boolean;
    requiredCommitSigning?: boolean;
    requiredLinearHistory?: boolean;
    token?: string;
  },
  JsonObject,
  'v1'
>;

// @public
export function createGithubDeployKeyAction(options: {
  integrations: ScmIntegrationRegistry;
}): TemplateAction<
  {
    repoUrl: string;
    publicKey: string;
    privateKey: string;
    deployKeyName: string;
    privateKeySecretName?: string;
    token?: string;
  },
  JsonObject,
  'v1'
>;

// @public
export function createGithubEnvironmentAction(options: {
  integrations: ScmIntegrationRegistry;
  catalogClient?: CatalogApi;
  auth?: AuthService;
}): TemplateAction<
  {
    repoUrl: string;
    name: string;
    deploymentBranchPolicy?: {
      protected_branches: boolean;
      custom_branch_policies: boolean;
    };
    customBranchPolicyNames?: string[];
    customTagPolicyNames?: string[];
    environmentVariables?: {
      [key: string]: string;
    };
    secrets?: {
      [key: string]: string;
    };
    token?: string;
    waitTimer?: number;
    preventSelfReview?: boolean;
    reviewers?: string[];
  },
  JsonObject,
  'v1'
>;

// @public
export function createGithubIssuesLabelAction(options: {
  integrations: ScmIntegrationRegistry;
  githubCredentialsProvider?: GithubCredentialsProvider;
}): TemplateAction<
  {
    repoUrl: string;
    number: number;
    labels: string[];
    token?: string;
  },
  JsonObject,
  'v1'
>;

// @public
export function createGithubPagesEnableAction(options: {
  integrations: ScmIntegrationRegistry;
  githubCredentialsProvider?: GithubCredentialsProvider;
}): TemplateAction<
  {
    repoUrl: string;
    buildType?: 'legacy' | 'workflow';
    sourceBranch?: string;
    sourcePath?: '/' | '/docs';
    token?: string;
  },
  JsonObject,
  'v1'
>;

// @public
export interface CreateGithubPullRequestActionOptions {
  clientFactory?: (input: {
    integrations: ScmIntegrationRegistry;
    githubCredentialsProvider?: GithubCredentialsProvider;
    host: string;
    owner: string;
    repo: string;
    token?: string;
  }) => Promise<
    Octokit & {
      createPullRequest(options: createPullRequest.Options): Promise<{
        data: {
          html_url: string;
          number: number;
          base: {
            ref: string;
          };
        };
      } | null>;
    }
  >;
  config?: Config;
  githubCredentialsProvider?: GithubCredentialsProvider;
  integrations: ScmIntegrationRegistry;
}

// @public
export function createGithubRepoCreateAction(options: {
  integrations: ScmIntegrationRegistry;
  githubCredentialsProvider?: GithubCredentialsProvider;
}): TemplateAction<
  {
    repoUrl: string;
    description?: string;
    homepage?: string;
    access?: string;
    deleteBranchOnMerge?: boolean;
    gitAuthorName?: string;
    gitAuthorEmail?: string;
    allowRebaseMerge?: boolean;
    allowSquashMerge?: boolean;
    squashMergeCommitTitle?: 'PR_TITLE' | 'COMMIT_OR_PR_TITLE';
    squashMergeCommitMessage?: 'PR_BODY' | 'COMMIT_MESSAGES' | 'BLANK';
    allowMergeCommit?: boolean;
    allowAutoMerge?: boolean;
    requireCodeOwnerReviews?: boolean;
    bypassPullRequestAllowances?: {
      users?: string[];
      teams?: string[];
      apps?: string[];
    };
    requiredApprovingReviewCount?: number;
    restrictions?: {
      users: string[];
      teams: string[];
      apps?: string[];
    };
    requiredStatusCheckContexts?: string[];
    requireBranchesToBeUpToDate?: boolean;
    requiredConversationResolution?: boolean;
    repoVisibility?: 'private' | 'internal' | 'public';
    collaborators?: Array<
      | {
          user: string;
          access: string;
        }
      | {
          team: string;
          access: string;
        }
      | {
          username: string;
          access: 'pull' | 'push' | 'admin' | 'maintain' | 'triage';
        }
    >;
    hasProjects?: boolean;
    hasWiki?: boolean;
    hasIssues?: boolean;
    token?: string;
    topics?: string[];
    repoVariables?: {
      [key: string]: string;
    };
    secrets?: {
      [key: string]: string;
    };
    oidcCustomization?: {
      useDefault: boolean;
      includeClaimKeys?: string[];
    };
    requireCommitSigning?: boolean;
    requiredLinearHistory?: boolean;
    customProperties?: {
      [key: string]: string;
    };
    subscribe?: boolean;
  },
  JsonObject,
  'v1'
>;

// @public
export function createGithubRepoPushAction(options: {
  integrations: ScmIntegrationRegistry;
  config: Config;
  githubCredentialsProvider?: GithubCredentialsProvider;
}): TemplateAction<
  {
    repoUrl: string;
    description?: string;
    defaultBranch?: string;
    protectDefaultBranch?: boolean;
    protectEnforceAdmins?: boolean;
    gitCommitMessage?: string;
    gitAuthorName?: string;
    gitAuthorEmail?: string;
    requireCodeOwnerReviews?: boolean;
    dismissStaleReviews?: boolean;
    bypassPullRequestAllowances?:
      | {
          users?: string[];
          teams?: string[];
          apps?: string[];
        }
      | undefined;
    requiredApprovingReviewCount?: number;
    restrictions?:
      | {
          users: string[];
          teams: string[];
          apps?: string[];
        }
      | undefined;
    requiredStatusCheckContexts?: string[];
    requireBranchesToBeUpToDate?: boolean;
    requiredConversationResolution?: boolean;
    sourcePath?: string;
    token?: string;
    requiredCommitSigning?: boolean;
    requiredLinearHistory?: boolean;
    requireLastPushApproval?: boolean;
  },
  JsonObject,
  'v1'
>;

// @public
export function createGithubWebhookAction(options: {
  integrations: ScmIntegrationRegistry;
  defaultWebhookSecret?: string;
  githubCredentialsProvider?: GithubCredentialsProvider;
}): TemplateAction<
  {
    repoUrl: string;
    webhookUrl: string;
    webhookSecret?: string;
    events?: string[];
    active?: boolean;
    contentType?: 'form' | 'json';
    insecureSsl?: boolean;
    token?: string;
  },
  JsonObject,
  'v1'
>;

// @public
export function createPublishGithubAction(options: {
  integrations: ScmIntegrationRegistry;
  config: Config;
  githubCredentialsProvider?: GithubCredentialsProvider;
}): TemplateAction<
  {
    repoUrl: string;
    description?: string;
    homepage?: string;
    access?: string;
    defaultBranch?: string;
    protectDefaultBranch?: boolean;
    protectEnforceAdmins?: boolean;
    deleteBranchOnMerge?: boolean;
    gitCommitMessage?: string;
    gitAuthorName?: string;
    gitAuthorEmail?: string;
    allowRebaseMerge?: boolean;
    allowSquashMerge?: boolean;
    squashMergeCommitTitle?: 'PR_TITLE' | 'COMMIT_OR_PR_TITLE';
    squashMergeCommitMessage?: 'PR_BODY' | 'COMMIT_MESSAGES' | 'BLANK';
    allowMergeCommit?: boolean;
    allowAutoMerge?: boolean;
    sourcePath?: string;
    bypassPullRequestAllowances?:
      | {
          users?: string[];
          teams?: string[];
          apps?: string[];
        }
      | undefined;
    requiredApprovingReviewCount?: number;
    restrictions?:
      | {
          users: string[];
          teams: string[];
          apps?: string[];
        }
      | undefined;
    requireCodeOwnerReviews?: boolean;
    dismissStaleReviews?: boolean;
    requiredStatusCheckContexts?: string[];
    requireBranchesToBeUpToDate?: boolean;
    requiredConversationResolution?: boolean;
    requireLastPushApproval?: boolean;
    repoVisibility?: 'private' | 'internal' | 'public';
    collaborators?: Array<
      | {
          user: string;
          access: string;
        }
      | {
          team: string;
          access: string;
        }
      | {
          username: string;
          access: 'pull' | 'push' | 'admin' | 'maintain' | 'triage';
        }
    >;
    hasProjects?: boolean | undefined;
    hasWiki?: boolean | undefined;
    hasIssues?: boolean | undefined;
    token?: string;
    topics?: string[];
    repoVariables?: {
      [key: string]: string;
    };
    secrets?: {
      [key: string]: string;
    };
    oidcCustomization?: {
      useDefault: boolean;
      includeClaimKeys?: string[];
    };
    requiredCommitSigning?: boolean;
    requiredLinearHistory?: boolean;
    customProperties?: {
      [key: string]: string;
    };
    subscribe?: boolean;
  },
  JsonObject,
  'v1'
>;

// @public
export const createPublishGithubPullRequestAction: (
  options: CreateGithubPullRequestActionOptions,
) => TemplateAction<
  {
    title: string;
    branchName: string;
    targetBranchName?: string;
    description: string;
    repoUrl: string;
    draft?: boolean;
    targetPath?: string;
    sourcePath?: string;
    token?: string;
    reviewers?: string[];
    teamReviewers?: string[];
    commitMessage?: string;
    update?: boolean;
    forceFork?: boolean;
    gitAuthorName?: string;
    gitAuthorEmail?: string;
    forceEmptyGitAuthor?: boolean;
    createWhenEmpty?: boolean;
  },
  JsonObject,
  'v1'
>;

// @public
export function getOctokitOptions(options: {
  integrations: ScmIntegrationRegistry;
  credentialsProvider?: GithubCredentialsProvider;
  token?: string;
  host: string;
  owner?: string;
  repo?: string;
}): Promise<OctokitOptions>;

// @public @deprecated
export function getOctokitOptions(options: {
  integrations: ScmIntegrationRegistry;
  credentialsProvider?: GithubCredentialsProvider;
  token?: string;
  repoUrl: string;
}): Promise<OctokitOptions>;

// @public
const githubModule: BackendFeature;
export default githubModule;
```
