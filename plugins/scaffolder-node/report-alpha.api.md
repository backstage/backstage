## API Report File for "@backstage/plugin-scaffolder-node"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { ExtensionPoint } from '@backstage/backend-plugin-api';
import { JsonValue } from '@backstage/types';
import { TaskBroker } from '@backstage/plugin-scaffolder-node';
import { TemplateAction } from '@backstage/plugin-scaffolder-node';
import { TemplateFilter as TemplateFilter_2 } from '@backstage/plugin-scaffolder-node';
import { TemplateGlobal as TemplateGlobal_2 } from '@backstage/plugin-scaffolder-node';
import { z } from 'zod';

// @alpha
export type AutocompleteHandler = ({
  resource,
  token,
  context,
}: {
  resource: string;
  token: string;
  context: Record<string, string>;
}) => Promise<{
  results: {
    title?: string;
    id: string;
  }[];
}>;

// @alpha (undocumented)
export type CreatedTemplateFilter<
  TFunctionArgs extends [z.ZodTypeAny, ...z.ZodTypeAny[]],
  TReturnType extends z.ZodTypeAny,
> = {
  id: string;
  description?: string;
  examples?: TemplateFilterExample[];
  schema?: ZodFunctionSchema<TFunctionArgs, TReturnType>;
  filter: (...args: z.infer<z.ZodTuple<TFunctionArgs>>) => z.infer<TReturnType>;
};

// @alpha (undocumented)
export type CreatedTemplateGlobal =
  | CreatedTemplateGlobalValue
  | CreatedTemplateGlobalFunction<any, any>;

// @alpha (undocumented)
export type CreatedTemplateGlobalFunction<
  TFunctionArgs extends [z.ZodTypeAny, ...z.ZodTypeAny[]],
  TReturnType extends z.ZodTypeAny,
> = {
  id: string;
  description?: string;
  examples?: TemplateGlobalFunctionExample[];
  schema?: ZodFunctionSchema<TFunctionArgs, TReturnType>;
  fn: (...args: z.infer<z.ZodTuple<TFunctionArgs>>) => z.infer<TReturnType>;
};

// @alpha (undocumented)
export type CreatedTemplateGlobalValue<T extends JsonValue = JsonValue> = {
  id: string;
  value: T;
  description?: string;
};

// @alpha
export const createTemplateFilter: <
  TFunctionArgs extends [z.ZodTypeAny, ...z.ZodTypeAny[]],
  TReturnType extends z.ZodTypeAny,
>(options: {
  id: string;
  description?: string;
  examples?: TemplateFilterExample[];
  schema?: ZodFunctionSchema<TFunctionArgs, TReturnType>;
  filter: (...args: z.infer<z.ZodTuple<TFunctionArgs>>) => z.infer<TReturnType>;
}) => CreatedTemplateFilter<TFunctionArgs, TReturnType>;

// @alpha
export const createTemplateGlobalFunction: <
  TFunctionArgs extends [z.ZodTypeAny, ...z.ZodTypeAny[]],
  TReturnType extends z.ZodTypeAny,
>(options: {
  id: string;
  description?: string;
  examples?: TemplateGlobalFunctionExample[];
  schema?: ZodFunctionSchema<TFunctionArgs, TReturnType>;
  fn: (...args: z.infer<z.ZodTuple<TFunctionArgs>>) => z.infer<TReturnType>;
}) => CreatedTemplateGlobalFunction<TFunctionArgs, TReturnType>;

// @alpha
export const createTemplateGlobalValue: (
  v: CreatedTemplateGlobalValue,
) => CreatedTemplateGlobalValue;

// @alpha
export const restoreWorkspace: (opts: {
  path: string;
  buffer?: Buffer;
}) => Promise<void>;

// @alpha
export interface ScaffolderActionsExtensionPoint {
  // (undocumented)
  addActions(...actions: TemplateAction<any, any, any>[]): void;
}

// @alpha
export const scaffolderActionsExtensionPoint: ExtensionPoint<ScaffolderActionsExtensionPoint>;

// @alpha
export interface ScaffolderAutocompleteExtensionPoint {
  // (undocumented)
  addAutocompleteProvider({
    id,
    handler,
  }: {
    id: string;
    handler: AutocompleteHandler;
  }): void;
}

// @alpha
export const scaffolderAutocompleteExtensionPoint: ExtensionPoint<ScaffolderAutocompleteExtensionPoint>;

// @alpha
export interface ScaffolderTaskBrokerExtensionPoint {
  // (undocumented)
  setTaskBroker(taskBroker: TaskBroker): void;
}

// @alpha
export const scaffolderTaskBrokerExtensionPoint: ExtensionPoint<ScaffolderTaskBrokerExtensionPoint>;

// @alpha
export interface ScaffolderTemplatingExtensionPoint {
  // (undocumented)
  addTemplateFilters(
    filters:
      | Record<string, TemplateFilter_2>
      | CreatedTemplateFilter<any, any>[],
  ): void;
  // (undocumented)
  addTemplateGlobals(
    globals: Record<string, TemplateGlobal_2> | CreatedTemplateGlobal[],
  ): void;
}

// @alpha
export const scaffolderTemplatingExtensionPoint: ExtensionPoint<ScaffolderTemplatingExtensionPoint>;

// @alpha
export interface ScaffolderWorkspaceProviderExtensionPoint {
  // (undocumented)
  addProviders(providers: Record<string, WorkspaceProvider>): void;
}

// @alpha
export const scaffolderWorkspaceProviderExtensionPoint: ExtensionPoint<ScaffolderWorkspaceProviderExtensionPoint>;

// @alpha
export const serializeWorkspace: (opts: { path: string }) => Promise<{
  contents: Buffer;
}>;

// @public (undocumented)
export type TemplateFilter = (
  arg: JsonValue,
  ...rest: JsonValue[]
) => JsonValue | undefined;

// @alpha (undocumented)
export type TemplateFilterExample = {
  description?: string;
  example: string;
  notes?: string;
};

// @public (undocumented)
export type TemplateGlobal =
  | ((...args: JsonValue[]) => JsonValue | undefined)
  | JsonValue;

// @alpha (undocumented)
export type TemplateGlobalFunctionExample = {
  description?: string;
  example: string;
  notes?: string;
};

// @alpha
export interface WorkspaceProvider {
  // (undocumented)
  cleanWorkspace(options: { taskId: string }): Promise<void>;
  // (undocumented)
  rehydrateWorkspace(options: {
    taskId: string;
    targetPath: string;
  }): Promise<void>;
  // (undocumented)
  serializeWorkspace({
    path,
    taskId,
  }: {
    path: string;
    taskId: string;
  }): Promise<void>;
}

// @alpha (undocumented)
export type ZodFunctionSchema<
  TFunctionArgs extends [z.ZodTypeAny, ...z.ZodTypeAny[]],
  TReturnType extends z.ZodTypeAny,
> = (
  zod: typeof z,
) =>
  | z.ZodFunction<z.ZodTuple<TFunctionArgs, null>, TReturnType>
  | z.ZodType<
      (...args: z.infer<z.ZodTuple<TFunctionArgs>>) => z.infer<TReturnType>
    >;

// (No @packageDocumentation comment for this package)
```
