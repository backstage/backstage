## API Report File for "@backstage/plugin-kubernetes-node"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AuthenticationStrategy as AuthenticationStrategy_2 } from '@backstage/plugin-kubernetes-node';
import { BackstageCredentials } from '@backstage/backend-plugin-api';
import { ClusterDetails as ClusterDetails_2 } from '@backstage/plugin-kubernetes-node';
import { CustomResourceMatcher } from '@backstage/plugin-kubernetes-common';
import { Entity } from '@backstage/catalog-model';
import { ExtensionPoint } from '@backstage/backend-plugin-api';
import { FetchResponse } from '@backstage/plugin-kubernetes-common';
import { JsonObject } from '@backstage/types';
import { KubernetesClustersSupplier as KubernetesClustersSupplier_2 } from '@backstage/plugin-kubernetes-node';
import { KubernetesFetcher as KubernetesFetcher_2 } from '@backstage/plugin-kubernetes-node';
import { KubernetesFetchError } from '@backstage/plugin-kubernetes-common';
import { KubernetesObjectsProvider as KubernetesObjectsProvider_2 } from '@backstage/plugin-kubernetes-node';
import { KubernetesRequestAuth } from '@backstage/plugin-kubernetes-common';
import { KubernetesServiceLocator as KubernetesServiceLocator_2 } from '@backstage/plugin-kubernetes-node';
import { Logger } from 'winston';
import { ObjectsByEntityResponse } from '@backstage/plugin-kubernetes-common';

// @public (undocumented)
export interface AuthenticationStrategy {
  // (undocumented)
  getCredential(
    clusterDetails: ClusterDetails,
    authConfig: KubernetesRequestAuth,
  ): Promise<KubernetesCredential>;
  // (undocumented)
  presentAuthMetadata(authMetadata: AuthMetadata): AuthMetadata;
  // (undocumented)
  validateCluster(authMetadata: AuthMetadata): Error[];
}

// @public
export type AuthMetadata = Record<string, string>;

// @public (undocumented)
export interface ClusterDetails {
  // (undocumented)
  authMetadata: AuthMetadata;
  // (undocumented)
  caData?: string | undefined;
  // (undocumented)
  caFile?: string | undefined;
  customResources?: CustomResourceMatcher[];
  dashboardApp?: string;
  dashboardParameters?: JsonObject;
  dashboardUrl?: string;
  name: string;
  skipMetricsLookup?: boolean;
  // (undocumented)
  skipTLSVerify?: boolean;
  title?: string;
  // (undocumented)
  url: string;
}

// @public (undocumented)
export interface CustomResource extends ObjectToFetch {
  // (undocumented)
  objectType: 'customresources';
}

// @public (undocumented)
export interface CustomResourcesByEntity extends KubernetesObjectsByEntity {
  // (undocumented)
  customResources: CustomResourceMatcher[];
}

// @public (undocumented)
export interface FetchResponseWrapper {
  // (undocumented)
  errors: KubernetesFetchError[];
  // (undocumented)
  responses: FetchResponse[];
}

// @public
export interface KubernetesAuthStrategyExtensionPoint {
  // (undocumented)
  addAuthStrategy(key: string, strategy: AuthenticationStrategy_2): void;
}

// @public
export const kubernetesAuthStrategyExtensionPoint: ExtensionPoint<KubernetesAuthStrategyExtensionPoint>;

// @public
export interface KubernetesClustersSupplier {
  getClusters(options: {
    credentials: BackstageCredentials;
  }): Promise<ClusterDetails[]>;
}

// @public
export interface KubernetesClusterSupplierExtensionPoint {
  // (undocumented)
  addClusterSupplier(clusterSupplier: KubernetesClustersSupplier_2): void;
}

// @public
export const kubernetesClusterSupplierExtensionPoint: ExtensionPoint<KubernetesClusterSupplierExtensionPoint>;

// @public
export type KubernetesCredential =
  | {
      type: 'bearer token';
      token: string;
    }
  | {
      type: 'x509 client certificate';
      cert: string;
      key: string;
    }
  | {
      type: 'anonymous';
    };

// @public
export interface KubernetesFetcher {
  // (undocumented)
  fetchObjectsForService(
    params: ObjectFetchParams,
  ): Promise<FetchResponseWrapper>;
  // (undocumented)
  fetchPodMetricsByNamespaces(
    clusterDetails: ClusterDetails,
    credential: KubernetesCredential,
    namespaces: Set<string>,
    labelSelector?: string,
  ): Promise<FetchResponseWrapper>;
}

// @public
export interface KubernetesFetcherExtensionPoint {
  // (undocumented)
  addFetcher(fetcher: KubernetesFetcher_2): void;
}

// @public
export const kubernetesFetcherExtensionPoint: ExtensionPoint<KubernetesFetcherExtensionPoint>;

// @public (undocumented)
export interface KubernetesObjectsByEntity {
  // (undocumented)
  auth: KubernetesRequestAuth;
  // (undocumented)
  entity: Entity;
}

// @public (undocumented)
export interface KubernetesObjectsProvider {
  // (undocumented)
  getCustomResourcesByEntity(
    customResourcesByEntity: CustomResourcesByEntity,
    options: {
      credentials: BackstageCredentials;
    },
  ): Promise<ObjectsByEntityResponse>;
  // (undocumented)
  getKubernetesObjectsByEntity(
    kubernetesObjectsByEntity: KubernetesObjectsByEntity,
    options: {
      credentials: BackstageCredentials;
    },
  ): Promise<ObjectsByEntityResponse>;
}

// @public
export interface KubernetesObjectsProviderExtensionPoint {
  // (undocumented)
  addObjectsProvider(provider: KubernetesObjectsProvider_2): void;
}

// @public
export const kubernetesObjectsProviderExtensionPoint: ExtensionPoint<KubernetesObjectsProviderExtensionPoint>;

// @public (undocumented)
export type KubernetesObjectTypes =
  | 'pods'
  | 'services'
  | 'configmaps'
  | 'deployments'
  | 'limitranges'
  | 'resourcequotas'
  | 'replicasets'
  | 'horizontalpodautoscalers'
  | 'jobs'
  | 'cronjobs'
  | 'ingresses'
  | 'customresources'
  | 'statefulsets'
  | 'daemonsets';

// @public
export interface KubernetesServiceLocator {
  // (undocumented)
  getClustersByEntity(
    entity: Entity,
    requestContext: ServiceLocatorRequestContext,
  ): Promise<{
    clusters: ClusterDetails[];
  }>;
}

// @public
export interface KubernetesServiceLocatorExtensionPoint {
  // (undocumented)
  addServiceLocator(serviceLocator: KubernetesServiceLocator_2): void;
}

// @public
export const kubernetesServiceLocatorExtensionPoint: ExtensionPoint<KubernetesServiceLocatorExtensionPoint>;

// @public (undocumented)
export interface ObjectFetchParams {
  // (undocumented)
  clusterDetails: ClusterDetails;
  // (undocumented)
  credential: KubernetesCredential;
  // (undocumented)
  customResources: CustomResource[];
  // (undocumented)
  labelSelector?: string;
  // (undocumented)
  namespace?: string;
  // (undocumented)
  objectTypesToFetch: Set<ObjectToFetch>;
  // (undocumented)
  serviceId: string;
}

// @public (undocumented)
export interface ObjectToFetch {
  // (undocumented)
  apiVersion: string;
  // (undocumented)
  group: string;
  // (undocumented)
  objectType: KubernetesObjectTypes;
  // (undocumented)
  plural: string;
}

// @public (undocumented)
export type PinnipedClientCerts = {
  key: string;
  cert: string;
  expirationTimestamp: string;
};

// @public (undocumented)
export class PinnipedHelper {
  constructor(logger: Logger);
  // (undocumented)
  tokenCredentialRequest(
    clusterDetails: ClusterDetails_2,
    pinnipedParams: PinnipedParameters,
  ): Promise<PinnipedClientCerts>;
}

// @public (undocumented)
export type PinnipedParameters = {
  clusterScopedIdToken: string;
  authenticator: {
    apiGroup: string;
    kind: string;
    name: string;
  };
  tokenCredentialRequest?: {
    apiGroup?: string;
  };
};

// @public (undocumented)
export interface ServiceLocatorRequestContext {
  // (undocumented)
  credentials: BackstageCredentials;
  // (undocumented)
  customResources: CustomResourceMatcher[];
  // (undocumented)
  objectTypesToFetch: Set<ObjectToFetch>;
}

// Warnings were encountered during analysis:
//
// src/auth/PinnipedHelper.d.ts:7:1 - (ae-undocumented) Missing documentation for "PinnipedClientCerts".
// src/auth/PinnipedHelper.d.ts:16:1 - (ae-undocumented) Missing documentation for "PinnipedParameters".
// src/auth/PinnipedHelper.d.ts:31:1 - (ae-undocumented) Missing documentation for "PinnipedHelper".
// src/auth/PinnipedHelper.d.ts:34:5 - (ae-undocumented) Missing documentation for "tokenCredentialRequest".
// src/extensions.d.ts:8:5 - (ae-undocumented) Missing documentation for "addObjectsProvider".
// src/extensions.d.ts:22:5 - (ae-undocumented) Missing documentation for "addClusterSupplier".
// src/extensions.d.ts:36:5 - (ae-undocumented) Missing documentation for "addAuthStrategy".
// src/extensions.d.ts:50:5 - (ae-undocumented) Missing documentation for "addFetcher".
// src/extensions.d.ts:64:5 - (ae-undocumented) Missing documentation for "addServiceLocator".
// src/types/types.d.ts:9:1 - (ae-undocumented) Missing documentation for "KubernetesObjectsProvider".
// src/types/types.d.ts:10:5 - (ae-undocumented) Missing documentation for "getKubernetesObjectsByEntity".
// src/types/types.d.ts:13:5 - (ae-undocumented) Missing documentation for "getCustomResourcesByEntity".
// src/types/types.d.ts:21:1 - (ae-undocumented) Missing documentation for "KubernetesObjectsByEntity".
// src/types/types.d.ts:22:5 - (ae-undocumented) Missing documentation for "entity".
// src/types/types.d.ts:23:5 - (ae-undocumented) Missing documentation for "auth".
// src/types/types.d.ts:29:1 - (ae-undocumented) Missing documentation for "CustomResourcesByEntity".
// src/types/types.d.ts:30:5 - (ae-undocumented) Missing documentation for "customResources".
// src/types/types.d.ts:41:1 - (ae-undocumented) Missing documentation for "ClusterDetails".
// src/types/types.d.ts:50:5 - (ae-undocumented) Missing documentation for "url".
// src/types/types.d.ts:51:5 - (ae-undocumented) Missing documentation for "authMetadata".
// src/types/types.d.ts:52:5 - (ae-undocumented) Missing documentation for "skipTLSVerify".
// src/types/types.d.ts:58:5 - (ae-undocumented) Missing documentation for "caData".
// src/types/types.d.ts:59:5 - (ae-undocumented) Missing documentation for "caFile".
// src/types/types.d.ts:131:1 - (ae-undocumented) Missing documentation for "AuthenticationStrategy".
// src/types/types.d.ts:132:5 - (ae-undocumented) Missing documentation for "getCredential".
// src/types/types.d.ts:133:5 - (ae-undocumented) Missing documentation for "validateCluster".
// src/types/types.d.ts:134:5 - (ae-undocumented) Missing documentation for "presentAuthMetadata".
// src/types/types.d.ts:140:1 - (ae-undocumented) Missing documentation for "KubernetesObjectTypes".
// src/types/types.d.ts:145:1 - (ae-undocumented) Missing documentation for "ObjectToFetch".
// src/types/types.d.ts:146:5 - (ae-undocumented) Missing documentation for "objectType".
// src/types/types.d.ts:147:5 - (ae-undocumented) Missing documentation for "group".
// src/types/types.d.ts:148:5 - (ae-undocumented) Missing documentation for "apiVersion".
// src/types/types.d.ts:149:5 - (ae-undocumented) Missing documentation for "plural".
// src/types/types.d.ts:155:1 - (ae-undocumented) Missing documentation for "CustomResource".
// src/types/types.d.ts:156:5 - (ae-undocumented) Missing documentation for "objectType".
// src/types/types.d.ts:162:1 - (ae-undocumented) Missing documentation for "ObjectFetchParams".
// src/types/types.d.ts:163:5 - (ae-undocumented) Missing documentation for "serviceId".
// src/types/types.d.ts:164:5 - (ae-undocumented) Missing documentation for "clusterDetails".
// src/types/types.d.ts:165:5 - (ae-undocumented) Missing documentation for "credential".
// src/types/types.d.ts:166:5 - (ae-undocumented) Missing documentation for "objectTypesToFetch".
// src/types/types.d.ts:167:5 - (ae-undocumented) Missing documentation for "labelSelector".
// src/types/types.d.ts:168:5 - (ae-undocumented) Missing documentation for "customResources".
// src/types/types.d.ts:169:5 - (ae-undocumented) Missing documentation for "namespace".
// src/types/types.d.ts:175:1 - (ae-undocumented) Missing documentation for "FetchResponseWrapper".
// src/types/types.d.ts:176:5 - (ae-undocumented) Missing documentation for "errors".
// src/types/types.d.ts:177:5 - (ae-undocumented) Missing documentation for "responses".
// src/types/types.d.ts:185:5 - (ae-undocumented) Missing documentation for "fetchObjectsForService".
// src/types/types.d.ts:186:5 - (ae-undocumented) Missing documentation for "fetchPodMetricsByNamespaces".
// src/types/types.d.ts:191:1 - (ae-undocumented) Missing documentation for "ServiceLocatorRequestContext".
// src/types/types.d.ts:192:5 - (ae-undocumented) Missing documentation for "objectTypesToFetch".
// src/types/types.d.ts:193:5 - (ae-undocumented) Missing documentation for "customResources".
// src/types/types.d.ts:194:5 - (ae-undocumented) Missing documentation for "credentials".
// src/types/types.d.ts:201:5 - (ae-undocumented) Missing documentation for "getClustersByEntity".
```
