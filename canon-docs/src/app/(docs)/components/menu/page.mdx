import { PropsTable } from '@/components/PropsTable';
import { Snippet } from '@/components/Snippet';
import { Tabs } from '@/components/Tabs';
import { CodeBlock } from '@/components/CodeBlock';
import { MenuSnippet } from '@/snippets/stories-snippets';
import { BaseUI } from '@/components/HeadlessBanners/BaseUI';
import {
  menuRootPropDefs,
  menuTriggerPropDefs,
  menuPositionerPropDefs,
  menuItemPropDefs,
} from './props';

# Menu

A list of actions in a dropdown, enhanced with keyboard navigation.

<Snippet
  align="center"
  py={4}
  preview={<MenuSnippet story="Default" />}
  code={`<Menu.Root>
    <Menu.Trigger
      render={props => (
        <Button
          {...props}
          size="medium"
          variant="secondary"
          iconEnd="chevron-down"
        >
          Menu
        </Button>
      )}
    />
    <Menu.Portal>
      <Menu.Positioner sideOffset={8} align="start">
        <Menu.Popup>
          <Menu.Item>Settings</Menu.Item>
          <Menu.Item>Invite new members</Menu.Item>
          <Menu.Item>Download app</Menu.Item>
          <Menu.Item>Log out</Menu.Item>
        </Menu.Popup>
      </Menu.Positioner>
    </Menu.Portal>
  </Menu.Root>`}
/>

<Tabs.Root>
  <Tabs.List>
    <Tabs.Tab>Usage</Tabs.Tab>
    <Tabs.Tab>Theming</Tabs.Tab>
  </Tabs.List>
  <Tabs.Panel>
    <CodeBlock
      code={`import { Menu } from '@backstage/canon';

  <Menu.Root>
    <Menu.Trigger />
    <Menu.Portal>
      <Menu.Positioner>
        <Menu.Popup>
          <Menu.Item />
        </Menu.Popup>
      </Menu.Positioner>
    </Menu.Portal>
  </Menu.Root>`}
    />
  </Tabs.Panel>
  <Tabs.Panel>
    We recommend starting with our [global tokens](/theme/theming) to customize the library and align it with
    your brand. For additional flexibility, you can use the provided class names for each element listed below.
    - `canon-MenuTrigger`
    - `canon-MenuBackdrop`
    - `canon-MenuPositioner`
    - `canon-MenuPopup`
    - `canon-MenuArrow`
    - `canon-MenuItem`
    - `canon-MenuGroup`
    - `canon-MenuGroupLabel`
    - `canon-MenuRadioGroup`
    - `canon-MenuRadioItem`
    - `canon-MenuRadioItemIndicator`
    - `canon-MenuCheckboxItem`
    - `canon-MenuCheckboxItemIndicator`
    - `canon-MenuSubmenuTrigger`
    - `canon-MenuSeparator`
  </Tabs.Panel>
</Tabs.Root>

## API reference

<BaseUI href="https://base-ui.com/react/components/menu" />

### Menu.Root

Groups all parts of the menu. Doesn't render its own HTML element.

<PropsTable data={menuRootPropDefs} />

### Menu.Trigger

The trigger by default render a simple unstyled button. Because menus can be rendered in different ways, we recommend
using the `render` prop to render a custom trigger.

<CodeBlock code={`<Menu.Trigger render={props => <Button {...props} />} />`} />

<PropsTable data={menuTriggerPropDefs} />

### Menu.Positioner

Positions the menu popup against the trigger. Renders a `<div>` element.

<PropsTable data={menuPositionerPropDefs} />

### Menu.Item

An individual interactive item in the menu. Renders a `<div>` element.

<PropsTable data={menuItemPropDefs} />

## Examples

### Open on hover

To create a menu that opens on hover, add the `openOnHover` prop to the Root part.
You can additionally configure how quickly the menu opens on hover using the `delay` prop.

<Snippet
  align="center"
  py={4}
  open
  preview={<MenuSnippet story="OpenOnHover" />}
  code={`<Menu.Root openOnHover delay={100}>
    <Menu.Trigger
      render={props => (
        <Button
          {...props}
          size="medium"
          variant="secondary"
          iconEnd="chevron-down"
        >
          Menu
        </Button>
      )}
    />
    <Menu.Portal>
      <Menu.Positioner sideOffset={8} align="start">
        <Menu.Popup>
          <Menu.Item>Settings</Menu.Item>
          <Menu.Item>Invite new members</Menu.Item>
          <Menu.Item>Download app</Menu.Item>
          <Menu.Item>Log out</Menu.Item>
        </Menu.Popup>
      </Menu.Positioner>
    </Menu.Portal>
  </Menu.Root>`}
/>
