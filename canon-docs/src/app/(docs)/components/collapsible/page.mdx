import { PropsTable } from '@/components/PropsTable';
import { Snippet } from '@/components/Snippet';
import { Tabs } from '@/components/Tabs';
import { CodeBlock } from '@/components/CodeBlock';
import { CollapsibleSnippet } from '@/snippets/stories-snippets';
import {
  collapsibleRootPropDefs,
  collapsibleTriggerPropDefs,
  collapsiblePanelPropDefs,
} from './props';

# Collapsible

An avatar component with a fallback for initials.

<Snippet
  align="center"
  py={4}
  height={240}
  preview={<CollapsibleSnippet story="Default" />}
  code={`<Collapsible.Root>
    <Collapsible.Trigger render={(props, state) => (
      <Button {...props}>
        {state.open ? 'Close Panel' : 'Open Panel'}
      </Button>
    )} />
    <Collapsible.Panel>
      <Box>
        <Text>It's the edge of the world and all of Western civilization</Text>
        <Text>The sun may rise in the East, at least it settled in a final location</Text>
        <Text>It's understood that Hollywood sells Californication</Text>
      </Box>
    </Collapsible.Panel>
</Collapsible.Root>`}
/>

<Tabs.Root>
  <Tabs.List>
    <Tabs.Tab>Usage</Tabs.Tab>
    <Tabs.Tab>Theming</Tabs.Tab>
  </Tabs.List>
  <Tabs.Panel>
    <CodeBlock
      code={`import { Collapsible } from '@backstage/canon';

<Collapsible.Root>
    <Collapsible.Trigger render={(props, state) => (
      <Button {...props}>
        {state.open ? 'Close Panel' : 'Open Panel'}
      </Button>
    )} />
    <Collapsible.Panel>Your content</Collapsible.Panel>
</Collapsible.Root>`}
    />
  </Tabs.Panel>
  <Tabs.Panel>
    We recommend starting with our [global tokens](/theme/theming) to customize the library and align it with
    your brand. For additional flexibility, you can use the provided class names for each element listed below.
    - `canon-CollapsibleRoot`
    - `canon-CollapsibleTrigger`
    - `canon-CollapsiblePanel`
  </Tabs.Panel>
</Tabs.Root>

## API reference

### Collapsible.Root

Groups all parts of the collapsible. Renders a `<div>` element.

<PropsTable data={collapsibleRootPropDefs} />

### Collapsible.Trigger

The trigger by default render a simple unstyled button. Because menus can be rendered in different ways, we recommend
using the `render` prop to render a custom trigger.

<CodeBlock
  code={`<Collapsible.Trigger render={props => <Button {...props} />} />`}
/>

<PropsTable data={collapsibleTriggerPropDefs} />

### Collapsible.Panel

A panel with the collapsible contents. Renders a `<div>` element.

<PropsTable data={collapsiblePanelPropDefs} />

## Examples

Open the panel by default by setting the `defaultOpen` prop to `true`.

<Snippet
  align="center"
  py={4}
  open
  preview={<CollapsibleSnippet story="Open" />}
  code={`<Collapsible.Root defaultOpen>
    <Collapsible.Trigger render={(props, state) => (
      <Button {...props}>
        {state.open ? 'Close Panel' : 'Open Panel'}
      </Button>
    )} />
    <Collapsible.Panel>
      <Box>
        <Text>It's the edge of the world and all of Western civilization</Text>
        <Text>The sun may rise in the East, at least it settled in a final location</Text>
        <Text>It's understood that Hollywood sells Californication</Text>
      </Box>
    </Collapsible.Panel>
</Collapsible.Root>`}
/>
