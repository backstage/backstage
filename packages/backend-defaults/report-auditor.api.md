## API Report File for "@backstage/backend-defaults"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AuditorService } from '@backstage/backend-plugin-api';
import type { AuditorServiceCreateEventOptions } from '@backstage/backend-plugin-api';
import type { AuditorServiceEvent } from '@backstage/backend-plugin-api';
import type { AuditorServiceEventSeverityLevel } from '@backstage/backend-plugin-api';
import type { AuthService } from '@backstage/backend-plugin-api';
import type { Format } from 'logform';
import type { HttpAuthService } from '@backstage/backend-plugin-api';
import type { JsonObject } from '@backstage/types';
import type { PluginMetadataService } from '@backstage/backend-plugin-api';
import type { Request as Request_2 } from 'express';
import { ServiceFactory } from '@backstage/backend-plugin-api';
import * as winston from 'winston';

// @public
export type AuditorEvent = {
  plugin: string;
  eventId: string;
  severityLevel: AuditorServiceEventSeverityLevel;
  actor: AuditorEventActorDetails;
  meta?: JsonObject;
  request?: AuditorEventRequest;
} & AuditorEventStatus;

// @public (undocumented)
export type AuditorEventActorDetails = {
  actorId?: string;
  ip?: string;
  hostname?: string;
  userAgent?: string;
};

// @public
export type AuditorEventOptions<TMeta extends JsonObject> = {
  eventId: string;
  severityLevel?: AuditorServiceEventSeverityLevel;
  request?: Request_2<any, any, any, any, any>;
  meta?: TMeta;
} & AuditorEventStatus;

// @public (undocumented)
export type AuditorEventRequest = {
  url: string;
  method: string;
};

// @public (undocumented)
export type AuditorEventStatus =
  | {
      status: 'initiated';
    }
  | {
      status: 'succeeded';
    }
  | {
      status: 'failed';
      error: string;
    };

// @public
export type AuditorLogFunction = (event: AuditorEvent) => void | Promise<void>;

// @public
export const auditorServiceFactory: ServiceFactory<
  AuditorService,
  'plugin',
  'singleton'
>;

// @public
export class DefaultAuditorService implements AuditorService {
  static create(
    logFn: AuditorLogFunction,
    deps: {
      auth: AuthService;
      httpAuth: HttpAuthService;
      plugin: PluginMetadataService;
    },
  ): DefaultAuditorService;
  // (undocumented)
  createEvent(
    options: AuditorServiceCreateEventOptions,
  ): Promise<AuditorServiceEvent>;
}

// @public
export class WinstonRootAuditorService {
  static create(
    options?: WinstonRootAuditorServiceOptions,
  ): WinstonRootAuditorService;
  // (undocumented)
  forPlugin(deps: {
    auth: AuthService;
    httpAuth: HttpAuthService;
    plugin: PluginMetadataService;
  }): AuditorService;
}

// @public
export type WinstonRootAuditorServiceOptions = {
  meta?: JsonObject;
  format?: Format;
  transports?: winston.transport[];
};

// (No @packageDocumentation comment for this package)
```
