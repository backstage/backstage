## API Report File for "@backstage/backend-defaults"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AuthService } from '@backstage/backend-plugin-api';
import type { Config } from '@backstage/config';
import { ServiceFactory } from '@backstage/backend-plugin-api';
import { ServiceRef } from '@backstage/backend-plugin-api';

// @public
export const authServiceFactory: ServiceFactory<
  AuthService,
  'plugin',
  'singleton'
>;

// @public
export function createExternalTokenHandler<TContext>(
  handler: ExternalTokenHandler<TContext>,
): ExternalTokenHandler<TContext>;

// @public
export interface ExternalTokenHandler<TContext> {
  // (undocumented)
  initialize(ctx: { options: Config }): TContext;
  // (undocumented)
  type: string;
  // (undocumented)
  verifyToken(
    token: string,
    ctx: TContext,
  ): Promise<
    | {
        subject: string;
      }
    | undefined
  >;
}

// @public
export const externalTokenHandlersServiceRef: ServiceRef<
  ExternalTokenHandler<unknown>,
  'plugin',
  'multiton'
>;

// @public
export interface PluginTokenHandler {
  // (undocumented)
  issueToken(options: {
    pluginId: string;
    targetPluginId: string;
    onBehalfOf?: {
      limitedUserToken: string;
      expiresAt: Date;
    };
  }): Promise<{
    token: string;
  }>;
  // (undocumented)
  verifyToken(token: string): Promise<
    | {
        subject: string;
        limitedUserToken?: string;
      }
    | undefined
  >;
}

// @public
export const pluginTokenHandlerDecoratorServiceRef: ServiceRef<
  (defaultImplementation: PluginTokenHandler) => PluginTokenHandler,
  'plugin',
  'singleton'
>;

// (No @packageDocumentation comment for this package)
```
