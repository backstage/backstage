## API Report File for "@backstage/backend-dynamic-feature-service"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { BackendFeature } from '@backstage/backend-plugin-api';
import { BackstagePackageJson } from '@backstage/cli-node';
import { Config } from '@backstage/config';
import { ConfigSchema } from '@backstage/config-loader';
import { JsonObject } from '@backstage/types';
import { LoggerService } from '@backstage/backend-plugin-api';
import { PackagePlatform } from '@backstage/cli-node';
import { PackageRole } from '@backstage/cli-node';
import { RootLoggerService } from '@backstage/backend-plugin-api';
import { ServiceFactory } from '@backstage/backend-plugin-api';
import { ServiceRef } from '@backstage/backend-plugin-api';
import { WinstonLoggerOptions } from '@backstage/backend-defaults/rootLogger';

// @public (undocumented)
export type AdditionalRemoteInfo = Omit<RemoteInfo, 'name' | 'entry'>;

// @public (undocumented)
export interface BackendDynamicPlugin extends BaseDynamicPlugin {
  // (undocumented)
  installer?: BackendDynamicPluginInstaller;
  // (undocumented)
  platform: 'node';
}

// @public (undocumented)
export type BackendDynamicPluginInstaller = NewBackendPluginInstaller;

// @public (undocumented)
export interface BackendPluginProvider {
  // (undocumented)
  backendPlugins(options?: { includeFailed?: boolean }): BackendDynamicPlugin[];
}

// @public (undocumented)
export interface BaseDynamicPlugin {
  // (undocumented)
  failure?: string;
  // (undocumented)
  name: string;
  // (undocumented)
  platform: PackagePlatform;
  // (undocumented)
  role: PackageRole;
  // (undocumented)
  version: string;
}

// @public (undocumented)
export class CommonJSModuleLoader implements ModuleLoader {
  constructor(options: CommonJSModuleLoaderOptions);
  // (undocumented)
  bootstrap(
    backstageRoot: string,
    dynamicPluginsPaths: string[],
    scannedPluginManifests: Map<string, ScannedPluginManifest>,
  ): Promise<void>;
  // (undocumented)
  load(packagePath: string): Promise<any>;
  // (undocumented)
  readonly options: CommonJSModuleLoaderOptions;
}

// @public (undocumented)
export type CommonJSModuleLoaderOptions = {
  logger: LoggerService;
  dynamicPluginPackageNameSuffixes?: String[];
  customResolveDynamicPackage?: (
    logger: LoggerService,
    searchedPackageName: string,
    scannedPluginManifests: Map<string, ScannedPluginManifest>,
  ) => string | undefined;
};

// @public (undocumented)
export type DynamicPlugin = FrontendDynamicPlugin | BackendDynamicPlugin;

// @public (undocumented)
export class DynamicPluginManager implements DynamicPluginProvider {
  // (undocumented)
  addBackendPlugin(plugin: BackendDynamicPlugin): void;
  // (undocumented)
  get availablePackages(): ScannedPluginPackage[];
  // (undocumented)
  backendPlugins(options?: { includeFailed?: boolean }): BackendDynamicPlugin[];
  // (undocumented)
  static create(
    options: DynamicPluginManagerOptions,
  ): Promise<DynamicPluginManager>;
  // (undocumented)
  frontendPlugins(options?: {
    includeFailed?: boolean;
  }): FrontendDynamicPlugin[];
  // (undocumented)
  getScannedPackage(plugin: DynamicPlugin): ScannedPluginPackage;
  // (undocumented)
  plugins(options?: { includeFailed?: boolean }): DynamicPlugin[];
}

// @public (undocumented)
export interface DynamicPluginManagerOptions {
  // (undocumented)
  config: Config;
  // (undocumented)
  logger: LoggerService;
  // (undocumented)
  moduleLoader?: ModuleLoader;
  // (undocumented)
  preferAlpha?: boolean;
}

// @public (undocumented)
export interface DynamicPluginProvider
  extends FrontendPluginProvider,
    BackendPluginProvider {
  // (undocumented)
  getScannedPackage(plugin: DynamicPlugin): ScannedPluginPackage;
  // (undocumented)
  plugins(options?: { includeFailed?: boolean }): DynamicPlugin[];
}

// @public (undocumented)
export interface DynamicPluginsFactoryOptions {
  // (undocumented)
  moduleLoader?(logger: LoggerService): ModuleLoader | Promise<ModuleLoader>;
}

// @public @deprecated (undocumented)
export const dynamicPluginsFeatureDiscoveryLoader: BackendFeature;

// @public
export const dynamicPluginsFeatureLoader: ((
  options?: DynamicPluginsFeatureLoaderOptions,
) => BackendFeature) &
  BackendFeature;

// @public (undocumented)
export type DynamicPluginsFeatureLoaderOptions = DynamicPluginsFactoryOptions &
  DynamicPluginsSchemasOptions & {
    logger?: (config?: Config) => DynamicPluginsRootLoggerFactoryOptions;
  };

// @public (undocumented)
export interface DynamicPluginsFrontendRemotesService {
  // (undocumented)
  setResolverProvider(provider: FrontendRemoteResolverProvider): void;
}

// @public @deprecated (undocumented)
export const dynamicPluginsFrontendSchemas: BackendFeature;

// @public
export const dynamicPluginsFrontendServiceRef: ServiceRef<
  DynamicPluginsFrontendRemotesService,
  'root',
  'singleton'
>;

// @public (undocumented)
export type DynamicPluginsRootLoggerFactoryOptions = Omit<
  WinstonLoggerOptions,
  'meta'
>;

// @public @deprecated (undocumented)
export const dynamicPluginsRootLoggerServiceFactory: ((
  options?: DynamicPluginsRootLoggerFactoryOptions,
) => ServiceFactory<RootLoggerService, 'root', 'singleton'>) &
  ServiceFactory<RootLoggerService, 'root', 'singleton'>;

// @public (undocumented)
export interface DynamicPluginsSchemasOptions {
  schemaLocator?: (pluginPackage: ScannedPluginPackage) => string;
}

// @public (undocumented)
export interface DynamicPluginsSchemasService {
  // (undocumented)
  addDynamicPluginsSchemas(configSchema: ConfigSchema): Promise<{
    schema: ConfigSchema;
  }>;
}

// @public @deprecated (undocumented)
export const dynamicPluginsSchemasServiceFactory: ((
  options?: DynamicPluginsSchemasOptions,
) => ServiceFactory<DynamicPluginsSchemasService, 'root', 'singleton'>) &
  ServiceFactory<DynamicPluginsSchemasService, 'root', 'singleton'>;

// @public @deprecated (undocumented)
export const dynamicPluginsServiceFactory: ((
  options?: DynamicPluginsFactoryOptions,
) => ServiceFactory<DynamicPluginProvider, 'root', 'singleton'>) &
  ServiceFactory<DynamicPluginProvider, 'root', 'singleton'>;

// @public @deprecated (undocumented)
export const dynamicPluginsServiceFactoryWithOptions: (
  options?: DynamicPluginsFactoryOptions,
) => ServiceFactory<DynamicPluginProvider, 'root', 'singleton'>;

// @public (undocumented)
export const dynamicPluginsServiceRef: ServiceRef<
  DynamicPluginProvider,
  'root',
  'singleton'
>;

// @public (undocumented)
export interface FrontendDynamicPlugin extends BaseDynamicPlugin {
  // (undocumented)
  platform: 'web';
}

// @public (undocumented)
export interface FrontendPluginProvider {
  // (undocumented)
  frontendPlugins(options?: {
    includeFailed?: boolean;
  }): FrontendDynamicPlugin[];
}

// @public (undocumented)
export type FrontendRemoteResolver = {
  assetsPathFromPackage?: string;
  manifestFileName?: string;
  getRemoteEntryType?: (
    manifestContent: JsonObject,
  ) => 'manifest' | 'javascript';
  getAdditionalRemoteInfo?: (
    manifestContent: JsonObject,
  ) => AdditionalRemoteInfo;
  getAdditionaRemoteInfo?: (
    manifestContent: JsonObject,
  ) => AdditionalRemoteInfo;
  overrideExposedModules?: (
    exposedModules: string[],
    manifestContent: JsonObject,
  ) => string[];
  customizeManifest?: (content: JsonObject) => JsonObject;
};

// @public (undocumented)
export type FrontendRemoteResolverProvider = {
  for(
    pluginName: string,
    pluginPackagePath: string,
  ): Partial<FrontendRemoteResolver> | undefined;
};

// @public (undocumented)
export function isBackendDynamicPluginInstaller(
  obj: any,
): obj is BackendDynamicPluginInstaller;

// @public (undocumented)
export interface ModuleLoader {
  // (undocumented)
  bootstrap(
    backstageRoot: string,
    dynamicPluginPaths: string[],
    scannedPluginManifests?: Map<string, ScannedPluginManifest>,
  ): Promise<void>;
  // (undocumented)
  load(id: string): Promise<any>;
}

// @public (undocumented)
export interface NewBackendPluginInstaller {
  // (undocumented)
  install(): BackendFeature | BackendFeature[];
  // (undocumented)
  kind: 'new';
}

// @public
export interface RemoteInfo {
  entry: string;
  // (undocumented)
  entryGlobalName?: string;
  name: string;
  // (undocumented)
  shareScope?: string;
  // (undocumented)
  type?: RemoteInfoTypeEnum;
}

// @public (undocumented)
export type RemoteInfoTypeEnum =
  | 'var'
  | 'module'
  | 'assign'
  | 'assign-properties'
  | 'this'
  | 'window'
  | 'self'
  | 'global'
  | 'commonjs'
  | 'commonjs2'
  | 'commonjs-module'
  | 'commonjs-static'
  | 'amd'
  | 'amd-require'
  | 'umd'
  | 'umd2'
  | 'jsonp'
  | 'system';

// @public (undocumented)
export type ScannedPluginManifest = BackstagePackageJson &
  Required<Pick<BackstagePackageJson, 'main'>> &
  Required<Pick<BackstagePackageJson, 'backstage'>> & {
    backstage: {
      role: PackageRole;
    };
  };

// @public (undocumented)
export interface ScannedPluginPackage {
  // (undocumented)
  alphaManifest?: BackstagePackageJson;
  // (undocumented)
  location: URL;
  // (undocumented)
  manifest: ScannedPluginManifest;
}

// (No @packageDocumentation comment for this package)
```
