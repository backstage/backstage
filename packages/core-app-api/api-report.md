## API Report File for "@backstage/core-app-api"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AlertApi } from '@backstage/core-plugin-api';
import { AlertMessage } from '@backstage/core-plugin-api';
import { AnalyticsApi } from '@backstage/core-plugin-api';
import { AnalyticsEvent } from '@backstage/core-plugin-api';
import { AnyApiFactory } from '@backstage/core-plugin-api';
import { AnyApiRef } from '@backstage/core-plugin-api';
import { ApiFactory } from '@backstage/core-plugin-api';
import { ApiHolder } from '@backstage/core-plugin-api';
import { ApiRef } from '@backstage/core-plugin-api';
import { AppConfig } from '@backstage/config';
import { AppTheme } from '@backstage/core-plugin-api';
import { AppThemeApi } from '@backstage/core-plugin-api';
import { atlassianAuthApiRef } from '@backstage/core-plugin-api';
import { auth0AuthApiRef } from '@backstage/core-plugin-api';
import { AuthProvider } from '@backstage/core-plugin-api';
import { AuthRequester } from '@backstage/core-plugin-api';
import { AuthRequesterOptions } from '@backstage/core-plugin-api';
import { AuthRequestOptions } from '@backstage/core-plugin-api';
import { BackstageIdentity } from '@backstage/core-plugin-api';
import { BackstageIdentityApi } from '@backstage/core-plugin-api';
import { BackstagePlugin } from '@backstage/core-plugin-api';
import { bitbucketAuthApiRef } from '@backstage/core-plugin-api';
import { ComponentType } from 'react';
import { ConfigReader } from '@backstage/config';
import { DiscoveryApi } from '@backstage/core-plugin-api';
import { ErrorApi } from '@backstage/core-plugin-api';
import { ErrorApiError } from '@backstage/core-plugin-api';
import { ErrorApiErrorContext } from '@backstage/core-plugin-api';
import { ExternalRouteRef } from '@backstage/core-plugin-api';
import { FeatureFlag } from '@backstage/core-plugin-api';
import { FeatureFlagsApi } from '@backstage/core-plugin-api';
import { FeatureFlagsSaveOptions } from '@backstage/core-plugin-api';
import { gitlabAuthApiRef } from '@backstage/core-plugin-api';
import { googleAuthApiRef } from '@backstage/core-plugin-api';
import { IconComponent } from '@backstage/core-plugin-api';
import { microsoftAuthApiRef } from '@backstage/core-plugin-api';
import { OAuthApi } from '@backstage/core-plugin-api';
import { OAuthRequestApi } from '@backstage/core-plugin-api';
import { Observable } from '@backstage/types';
import { oktaAuthApiRef } from '@backstage/core-plugin-api';
import { oneloginAuthApiRef } from '@backstage/core-plugin-api';
import { OpenIdConnectApi } from '@backstage/core-plugin-api';
import { OptionalAppOptions } from '@backstage/app-defaults';
import { PendingAuthRequest } from '@backstage/core-plugin-api';
import { PluginOutput } from '@backstage/core-plugin-api';
import { ProfileInfo } from '@backstage/core-plugin-api';
import { ProfileInfoApi } from '@backstage/core-plugin-api';
import { PropsWithChildren } from 'react';
import PropTypes from 'prop-types';
import { ReactNode } from 'react';
import { RouteRef } from '@backstage/core-plugin-api';
import { SessionApi } from '@backstage/core-plugin-api';
import { SessionState } from '@backstage/core-plugin-api';
import { StorageApi } from '@backstage/core-plugin-api';
import { StorageValueChange } from '@backstage/core-plugin-api';
import { SubRouteRef } from '@backstage/core-plugin-api';

// @public
export class AlertApiForwarder implements AlertApi {
  // (undocumented)
  alert$(): Observable<AlertMessage>;
  // (undocumented)
  post(alert: AlertMessage): void;
}

// @public (undocumented)
export type ApiFactoryHolder = {
  get<T>(api: ApiRef<T>):
    | ApiFactory<
        T,
        T,
        {
          [key in string]: unknown;
        }
      >
    | undefined;
};

// @public
export class ApiFactoryRegistry implements ApiFactoryHolder {
  // (undocumented)
  get<T>(api: ApiRef<T>):
    | ApiFactory<
        T,
        T,
        {
          [x: string]: unknown;
        }
      >
    | undefined;
  // (undocumented)
  getAllApis(): Set<AnyApiRef>;
  register<
    Api,
    Impl extends Api,
    Deps extends {
      [name in string]: unknown;
    },
  >(scope: ApiFactoryScope, factory: ApiFactory<Api, Impl, Deps>): boolean;
}

// @public
export type ApiFactoryScope = 'default' | 'app' | 'static';

// @public
export const ApiProvider: {
  (props: PropsWithChildren<ApiProviderProps>): JSX.Element;
  propTypes: {
    apis: PropTypes.Validator<
      PropTypes.InferProps<{
        get: PropTypes.Validator<(...args: any[]) => any>;
      }>
    >;
    children: PropTypes.Requireable<PropTypes.ReactNodeLike>;
  };
};

// @public
export type ApiProviderProps = {
  apis: ApiHolder;
  children: ReactNode;
};

// @public
export class ApiRegistry implements ApiHolder {
  constructor(apis: Map<string, unknown>);
  // Warning: (ae-forgotten-export) The symbol "ApiRegistryBuilder" needs to be exported by the entry point index.d.ts
  //
  // (undocumented)
  static builder(): ApiRegistryBuilder;
  // Warning: (ae-forgotten-export) The symbol "ApiImpl" needs to be exported by the entry point index.d.ts
  static from(apis: ApiImpl[]): ApiRegistry;
  // (undocumented)
  get<T>(api: ApiRef<T>): T | undefined;
  static with<T>(api: ApiRef<T>, impl: T): ApiRegistry;
  with<T>(api: ApiRef<T>, impl: T): ApiRegistry;
}

// @public
export class ApiResolver implements ApiHolder {
  constructor(factories: ApiFactoryHolder);
  // (undocumented)
  get<T>(ref: ApiRef<T>): T | undefined;
  static validateFactories(
    factories: ApiFactoryHolder,
    apis: Iterable<AnyApiRef>,
  ): void;
}

// @public
export type AppComponents = {
  NotFoundErrorPage: ComponentType<{}>;
  BootErrorPage: ComponentType<BootErrorPageProps>;
  Progress: ComponentType<{}>;
  Router: ComponentType<{}>;
  ErrorBoundaryFallback: ComponentType<ErrorBoundaryFallbackProps>;
  ThemeProvider?: ComponentType<{}>;
  SignInPage?: ComponentType<SignInPageProps>;
};

// @public
export type AppConfigLoader = () => Promise<AppConfig[]>;

// @public
export type AppContext = {
  getPlugins(): BackstagePlugin<any, any>[];
  getSystemIcon(key: string): IconComponent | undefined;
  getComponents(): AppComponents;
};

// @public
export type AppIcons = {
  'kind:api': IconComponent;
  'kind:component': IconComponent;
  'kind:domain': IconComponent;
  'kind:group': IconComponent;
  'kind:location': IconComponent;
  'kind:system': IconComponent;
  'kind:user': IconComponent;
  brokenImage: IconComponent;
  catalog: IconComponent;
  chat: IconComponent;
  dashboard: IconComponent;
  docs: IconComponent;
  email: IconComponent;
  github: IconComponent;
  group: IconComponent;
  help: IconComponent;
  scaffolder: IconComponent;
  search: IconComponent;
  techdocs: IconComponent;
  user: IconComponent;
  warning: IconComponent;
};

// @public
export type AppOptions = {
  apis?: Iterable<AnyApiFactory>;
  defaultApis?: Iterable<AnyApiFactory>;
  icons: AppIcons & {
    [key in string]: IconComponent;
  };
  plugins?: (Omit<BackstagePlugin<any, any>, 'output'> & {
    output(): (
      | PluginOutput
      | {
          type: string;
        }
    )[];
  })[];
  components: AppComponents;
  themes: (Partial<AppTheme> & Omit<AppTheme, 'theme'>)[];
  configLoader?: AppConfigLoader;
  bindRoutes?(context: { bind: AppRouteBinder }): void;
};

// Warning: (ae-forgotten-export) The symbol "PartialKeys" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "TargetRouteMap" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "KeysWithType" needs to be exported by the entry point index.d.ts
//
// @public
export type AppRouteBinder = <
  ExternalRoutes extends {
    [name: string]: ExternalRouteRef;
  },
>(
  externalRoutes: ExternalRoutes,
  targetRoutes: PartialKeys<
    TargetRouteMap<ExternalRoutes>,
    KeysWithType<ExternalRoutes, ExternalRouteRef<any, true>>
  >,
) => void;

// @public
export class AppThemeSelector implements AppThemeApi {
  constructor(themes: AppTheme[]);
  // (undocumented)
  activeThemeId$(): Observable<string | undefined>;
  // (undocumented)
  static createWithStorage(themes: AppTheme[]): AppThemeSelector;
  // (undocumented)
  getActiveThemeId(): string | undefined;
  // (undocumented)
  getInstalledThemes(): AppTheme[];
  // (undocumented)
  setActiveThemeId(themeId?: string): void;
}

// @public
export class AtlassianAuth {
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
    oauthRequestApi,
  }: OAuthApiCreateOptions): typeof atlassianAuthApiRef.T;
}

// @public
export class Auth0Auth {
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
    oauthRequestApi,
    defaultScopes,
  }: OAuthApiCreateOptions): typeof auth0AuthApiRef.T;
}

// @public
export type AuthApiCreateOptions = {
  discoveryApi: DiscoveryApi;
  environment?: string;
  provider?: AuthProvider & {
    id: string;
  };
};

// @public
export type BackstageApp = {
  getPlugins(): BackstagePlugin<any, any>[];
  getSystemIcon(key: string): IconComponent | undefined;
  getProvider(): ComponentType<{}>;
  getRouter(): ComponentType<{}>;
};

// @public @deprecated
export type BackstagePluginWithAnyOutput = Omit<
  BackstagePlugin<any, any>,
  'output'
> & {
  output(): (
    | PluginOutput
    | {
        type: string;
      }
  )[];
};

// @public
export class BitbucketAuth {
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
    oauthRequestApi,
    defaultScopes,
  }: OAuthApiCreateOptions): typeof bitbucketAuthApiRef.T;
}

// @public
export type BitbucketSession = {
  providerInfo: {
    accessToken: string;
    scopes: Set<string>;
    expiresAt?: Date;
  };
  profile: ProfileInfo;
  backstageIdentity: BackstageIdentity;
};

// @public
export type BootErrorPageProps = {
  step: 'load-config' | 'load-chunk';
  error: Error;
};

export { ConfigReader };

// @public @deprecated
export function createApp(options?: OptionalAppOptions): BackstageApp;

// @public
export function createSpecializedApp(options: AppOptions): BackstageApp;

// @public
export const defaultConfigLoader: AppConfigLoader;

// @public
export class ErrorAlerter implements ErrorApi {
  constructor(alertApi: AlertApi, errorApi: ErrorApi);
  // (undocumented)
  error$(): Observable<{
    error: ErrorApiError;
    context?: ErrorApiErrorContext | undefined;
  }>;
  // (undocumented)
  post(error: ErrorApiError, context?: ErrorApiErrorContext): void;
}

// @public
export class ErrorApiForwarder implements ErrorApi {
  // (undocumented)
  error$(): Observable<{
    error: Error;
    context?: ErrorApiErrorContext;
  }>;
  // (undocumented)
  post(error: ErrorApiError, context?: ErrorApiErrorContext): void;
}

// @public
export type ErrorBoundaryFallbackProps = {
  plugin?: BackstagePlugin;
  error: Error;
  resetError: () => void;
};

// @public
export const FeatureFlagged: (props: FeatureFlaggedProps) => JSX.Element;

// @public
export type FeatureFlaggedProps = {
  children: ReactNode;
} & (
  | {
      with: string;
    }
  | {
      without: string;
    }
);

// @public
export const FlatRoutes: (props: FlatRoutesProps) => JSX.Element | null;

// @public
export type FlatRoutesProps = {
  children: ReactNode;
};

// @public
export class GithubAuth implements OAuthApi, SessionApi {
  // Warning: (ae-forgotten-export) The symbol "SessionManager" needs to be exported by the entry point index.d.ts
  //
  // @deprecated
  constructor(sessionManager: SessionManager<GithubSession>);
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
    oauthRequestApi,
    defaultScopes,
  }: OAuthApiCreateOptions): GithubAuth;
  // (undocumented)
  getAccessToken(scope?: string, options?: AuthRequestOptions): Promise<string>;
  // (undocumented)
  getBackstageIdentity(
    options?: AuthRequestOptions,
  ): Promise<BackstageIdentity | undefined>;
  // (undocumented)
  getProfile(options?: AuthRequestOptions): Promise<ProfileInfo | undefined>;
  // (undocumented)
  static normalizeScope(scope?: string): Set<string>;
  // (undocumented)
  sessionState$(): Observable<SessionState>;
  // (undocumented)
  signIn(): Promise<void>;
  // (undocumented)
  signOut(): Promise<void>;
}

// @public
export type GithubSession = {
  providerInfo: {
    accessToken: string;
    scopes: Set<string>;
    expiresAt?: Date;
  };
  profile: ProfileInfo;
  backstageIdentity: BackstageIdentity;
};

// @public
export class GitlabAuth {
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
    oauthRequestApi,
    defaultScopes,
  }: OAuthApiCreateOptions): typeof gitlabAuthApiRef.T;
}

// @public
export class GoogleAuth {
  // (undocumented)
  static create({
    discoveryApi,
    oauthRequestApi,
    environment,
    provider,
    defaultScopes,
  }: OAuthApiCreateOptions): typeof googleAuthApiRef.T;
}

// @public
export class LocalStorageFeatureFlags implements FeatureFlagsApi {
  // (undocumented)
  getRegisteredFlags(): FeatureFlag[];
  // (undocumented)
  isActive(name: string): boolean;
  // (undocumented)
  registerFlag(flag: FeatureFlag): void;
  // (undocumented)
  save(options: FeatureFlagsSaveOptions): void;
}

// @public
export class MicrosoftAuth {
  // (undocumented)
  static create({
    environment,
    provider,
    oauthRequestApi,
    discoveryApi,
    defaultScopes,
  }: OAuthApiCreateOptions): typeof microsoftAuthApiRef.T;
}

// @public
export class NoOpAnalyticsApi implements AnalyticsApi {
  // (undocumented)
  captureEvent(_event: AnalyticsEvent): void;
}

// @public
export class OAuth2
  implements
    OAuthApi,
    OpenIdConnectApi,
    ProfileInfoApi,
    BackstageIdentityApi,
    SessionApi
{
  // @deprecated
  constructor(options: {
    sessionManager: SessionManager<OAuth2Session>;
    scopeTransform: (scopes: string[]) => string[];
  });
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
    oauthRequestApi,
    defaultScopes,
    scopeTransform,
  }: OAuth2CreateOptions): OAuth2;
  // (undocumented)
  getAccessToken(
    scope?: string | string[],
    options?: AuthRequestOptions,
  ): Promise<string>;
  // (undocumented)
  getBackstageIdentity(
    options?: AuthRequestOptions,
  ): Promise<BackstageIdentity | undefined>;
  // (undocumented)
  getIdToken(options?: AuthRequestOptions): Promise<string>;
  // (undocumented)
  getProfile(options?: AuthRequestOptions): Promise<ProfileInfo | undefined>;
  // (undocumented)
  sessionState$(): Observable<SessionState>;
  // (undocumented)
  signIn(): Promise<void>;
  // (undocumented)
  signOut(): Promise<void>;
}

// @public
export type OAuth2CreateOptions = OAuthApiCreateOptions & {
  scopeTransform?: (scopes: string[]) => string[];
};

// @public
export type OAuth2Session = {
  providerInfo: {
    idToken: string;
    accessToken: string;
    scopes: Set<string>;
    expiresAt: Date;
  };
  profile: ProfileInfo;
  backstageIdentity: BackstageIdentity;
};

// @public
export type OAuthApiCreateOptions = AuthApiCreateOptions & {
  oauthRequestApi: OAuthRequestApi;
  defaultScopes?: string[];
};

// @public
export class OAuthRequestManager implements OAuthRequestApi {
  // (undocumented)
  authRequest$(): Observable<PendingAuthRequest[]>;
  // (undocumented)
  createAuthRequester<T>(options: AuthRequesterOptions<T>): AuthRequester<T>;
}

// @public
export class OktaAuth {
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
    oauthRequestApi,
    defaultScopes,
  }: OAuthApiCreateOptions): typeof oktaAuthApiRef.T;
}

// @public
export class OneLoginAuth {
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
    oauthRequestApi,
  }: OneLoginAuthCreateOptions): typeof oneloginAuthApiRef.T;
}

// @public
export type OneLoginAuthCreateOptions = {
  discoveryApi: DiscoveryApi;
  oauthRequestApi: OAuthRequestApi;
  environment?: string;
  provider?: AuthProvider & {
    id: string;
  };
};

// @public
export class SamlAuth
  implements ProfileInfoApi, BackstageIdentityApi, SessionApi
{
  // @deprecated
  constructor(sessionManager: SessionManager<SamlSession>);
  // (undocumented)
  static create({
    discoveryApi,
    environment,
    provider,
  }: AuthApiCreateOptions): SamlAuth;
  // (undocumented)
  getBackstageIdentity(
    options?: AuthRequestOptions,
  ): Promise<BackstageIdentity | undefined>;
  // (undocumented)
  getProfile(options?: AuthRequestOptions): Promise<ProfileInfo | undefined>;
  // (undocumented)
  sessionState$(): Observable<SessionState>;
  // (undocumented)
  signIn(): Promise<void>;
  // (undocumented)
  signOut(): Promise<void>;
}

// @public
export type SamlSession = {
  userId: string;
  profile: ProfileInfo;
  backstageIdentity: BackstageIdentity;
};

// @public
export type SignInPageProps = {
  onResult(result: SignInResult): void;
};

// @public
export type SignInResult = {
  userId: string;
  profile: ProfileInfo;
  getIdToken?: () => Promise<string>;
  signOut?: () => Promise<void>;
};

// @public
export class UnhandledErrorForwarder {
  static forward(errorApi: ErrorApi, errorContext: ErrorApiErrorContext): void;
}

// @public
export class UrlPatternDiscovery implements DiscoveryApi {
  static compile(pattern: string): UrlPatternDiscovery;
  // (undocumented)
  getBaseUrl(pluginId: string): Promise<string>;
}

// @public
export class WebStorage implements StorageApi {
  constructor(namespace: string, errorApi: ErrorApi);
  // (undocumented)
  static create(options: {
    errorApi: ErrorApi;
    namespace?: string;
  }): WebStorage;
  // (undocumented)
  forBucket(name: string): WebStorage;
  // (undocumented)
  get<T>(key: string): T | undefined;
  // (undocumented)
  observe$<T>(key: string): Observable<StorageValueChange<T>>;
  // (undocumented)
  remove(key: string): Promise<void>;
  // (undocumented)
  set<T>(key: string, data: T): Promise<void>;
}
```
