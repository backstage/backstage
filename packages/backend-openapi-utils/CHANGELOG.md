# @backstage/backend-openapi-utils

## 0.2.0

### Minor Changes

- 66af016: Improved support for OpenAPI validation during Jest tests. Now, OpenAPI validation can happen as you are writing your Jest tests - you no longer have to run `repo schema openapi test`.

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@1.0.1
  - @backstage/errors@1.2.4
  - @backstage/types@1.1.1

## 0.2.0-next.1

### Minor Changes

- 66af016: Improved support for OpenAPI validation during Jest tests. Now, OpenAPI validation can happen as you are writing your Jest tests - you no longer have to run `repo schema openapi test`.

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@1.0.1-next.1
  - @backstage/errors@1.2.4
  - @backstage/types@1.1.1

## 0.1.19-next.0

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@1.0.1-next.0
  - @backstage/errors@1.2.4

## 0.1.18

### Patch Changes

- c2b63ab: Updated dependency `supertest` to `^7.0.0`.
- Updated dependencies
  - @backstage/backend-plugin-api@1.0.0
  - @backstage/errors@1.2.4

## 0.1.18-next.2

### Patch Changes

- c2b63ab: Updated dependency `supertest` to `^7.0.0`.
- Updated dependencies
  - @backstage/backend-plugin-api@1.0.0-next.2
  - @backstage/errors@1.2.4

## 0.1.18-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.9.0-next.1
  - @backstage/errors@1.2.4

## 0.1.18-next.0

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.9.0-next.0
  - @backstage/errors@1.2.4

## 0.1.16

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.8.0
  - @backstage/errors@1.2.4

## 0.1.16-next.3

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.8.0-next.3
  - @backstage/errors@1.2.4

## 0.1.16-next.2

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.8.0-next.2
  - @backstage/errors@1.2.4

## 0.1.16-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.7.1-next.1
  - @backstage/errors@1.2.4

## 0.1.16-next.0

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.7.1-next.0
  - @backstage/errors@1.2.4

## 0.1.15

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.7.0
  - @backstage/errors@1.2.4

## 0.1.15-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.22-next.1
  - @backstage/errors@1.2.4

## 0.1.14-next.0

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.21-next.0
  - @backstage/errors@1.2.4

## 0.1.12

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.19
  - @backstage/errors@1.2.4

## 0.1.12-next.2

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.19-next.3
  - @backstage/errors@1.2.4

## 0.1.12-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.19-next.2
  - @backstage/errors@1.2.4

## 0.1.12-next.0

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.19-next.0
  - @backstage/errors@1.2.4

## 0.1.11

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.18

## 0.1.11-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.18-next.1

## 0.1.11-next.0

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.18-next.0
  - @backstage/errors@1.2.4

## 0.1.10

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.17
  - @backstage/errors@1.2.4

## 0.1.10-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.17-next.1
  - @backstage/errors@1.2.4

## 0.1.10-next.0

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.17-next.0
  - @backstage/errors@1.2.4

## 0.1.9

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.16
  - @backstage/errors@1.2.4

## 0.1.8

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.15
  - @backstage/errors@1.2.4

## 0.1.7

### Patch Changes

- 85ec23e: Updated dependency `json-schema-to-ts` to `^3.0.0`.
- Updated dependencies
  - @backstage/errors@1.2.4
  - @backstage/backend-plugin-api@0.6.14

## 0.1.7-next.2

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.14-next.2
  - @backstage/errors@1.2.4-next.0

## 0.1.7-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.14-next.1
  - @backstage/errors@1.2.4-next.0

## 0.1.6-next.0

### Patch Changes

- 85ec23e: Updated dependency `json-schema-to-ts` to `^3.0.0`.
- Updated dependencies
  - @backstage/errors@1.2.4-next.0
  - @backstage/backend-plugin-api@0.6.13-next.0

## 0.1.3

### Patch Changes

- 2067689: Internal updates due to `json-schema-to-ts`
- Updated dependencies
  - @backstage/backend-plugin-api@0.6.10
  - @backstage/errors@1.2.3

## 0.1.3-next.3

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.10-next.3
  - @backstage/errors@1.2.3

## 0.1.3-next.2

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.10-next.2
  - @backstage/errors@1.2.3

## 0.1.3-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.10-next.1
  - @backstage/errors@1.2.3

## 0.1.3-next.0

### Patch Changes

- 2067689: Internal updates due to `json-schema-to-ts`
- Updated dependencies
  - @backstage/backend-plugin-api@0.6.10-next.0
  - @backstage/errors@1.2.3

## 0.1.2

### Patch Changes

- 4016f21: Remove some unused dependencies
- Updated dependencies
  - @backstage/backend-plugin-api@0.6.9
  - @backstage/errors@1.2.3

## 0.1.2-next.2

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.9-next.2

## 0.1.2-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.9-next.1
  - @backstage/errors@1.2.3

## 0.1.2-next.0

### Patch Changes

- 4016f21: Remove some unused dependencies
- Updated dependencies
  - @backstage/backend-plugin-api@0.6.9-next.0
  - @backstage/errors@1.2.3

## 0.1.1

### Patch Changes

- aaa6fb3: Minor updates for TypeScript 5.2.2+ compatibility
- Updated dependencies
  - @backstage/backend-plugin-api@0.6.8
  - @backstage/config@1.1.1
  - @backstage/errors@1.2.3

## 0.1.1-next.3

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.8-next.3
  - @backstage/config@1.1.1
  - @backstage/errors@1.2.3

## 0.1.1-next.2

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.8-next.2
  - @backstage/config@1.1.1
  - @backstage/errors@1.2.3

## 0.1.1-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.8-next.1
  - @backstage/config@1.1.1
  - @backstage/errors@1.2.3

## 0.1.1-next.0

### Patch Changes

- aaa6fb3bc9: Minor updates for TypeScript 5.2.2+ compatibility
- Updated dependencies
  - @backstage/backend-plugin-api@0.6.8-next.0
  - @backstage/config@1.1.1
  - @backstage/errors@1.2.3

## 0.1.0

### Minor Changes

- 785fb1ea75: Adds a new route, `/openapi.json` to validated routers for displaying their full OpenAPI spec in a standard endpoint.

### Patch Changes

- 6694b369a3: Adds a new function `wrapInOpenApiTestServer` that allows for proxied requests at runtime. This will support the new `yarn backstage-repo-tools schema openapi test` command.
- Updated dependencies
  - @backstage/backend-plugin-api@0.6.7
  - @backstage/config@1.1.1
  - @backstage/errors@1.2.3

## 0.1.0-next.2

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.7-next.2

## 0.1.0-next.1

### Patch Changes

- Updated dependencies
  - @backstage/backend-plugin-api@0.6.7-next.1
  - @backstage/config@1.1.1
  - @backstage/errors@1.2.3

## 0.1.0-next.0

### Minor Changes

- 785fb1ea75: Adds a new route, `/openapi.json` to validated routers for displaying their full OpenAPI spec in a standard endpoint.

### Patch Changes

- 6694b369a3: Adds a new function `wrapInOpenApiTestServer` that allows for proxied requests at runtime. This will support the new `yarn backstage-repo-tools schema openapi test` command.
- Updated dependencies
  - @backstage/backend-plugin-api@0.6.7-next.0
  - @backstage/config@1.1.1
  - @backstage/errors@1.2.3

## 0.0.5

### Patch Changes

- 7c83975531: Adds new public utility types for common OpenAPI values, like request and response shapes and parameters available on an endpoint.

  **deprecated** `internal` namespace
  The internal namespace will continue to be exported but now uses OpenAPI format for path parameters. You should use the new utility types.

- Updated dependencies
  - @backstage/errors@1.2.3

## 0.0.5-next.0

### Patch Changes

- 7c83975531: Adds new public utility types for common OpenAPI values, like request and response shapes and parameters available on an endpoint.

  **deprecated** `internal` namespace
  The internal namespace will continue to be exported but now uses OpenAPI format for path parameters. You should use the new utility types.

- Updated dependencies
  - @backstage/errors@1.2.3-next.0

## 0.0.4

### Patch Changes

- Updated dependencies
  - @backstage/errors@1.2.2

## 0.0.4-next.0

### Patch Changes

- Updated dependencies
  - @backstage/errors@1.2.2-next.0

## 0.0.3

### Patch Changes

- ebeb77586975: Add a new `createRouter` method for generating an `express` router that validates against your spec. Also fixes a bug with the query parameters type resolution.
- 12a8c94eda8d: Add package repository and homepage metadata
- Updated dependencies
  - @backstage/errors@1.2.1

## 0.0.3-next.1

### Patch Changes

- 12a8c94eda8d: Add package repository and homepage metadata
- Updated dependencies
  - @backstage/errors@1.2.1

## 0.0.3-next.0

### Patch Changes

- ebeb77586975: Add a new `createRouter` method for generating an `express` router that validates against your spec. Also fixes a bug with the query parameters type resolution.
- Updated dependencies
  - @backstage/errors@1.2.1

## 0.0.2

### Patch Changes

- fe16bd39e83: Use permalinks for links including a line number reference
- 27956d78671: Adjusted README accordingly after the generated output now has a `.generated.ts` extension
- 021cfbb5152: Corrected resolution of parameter nested schema to use central schemas.
- 799c33047ed: Updated README to reflect changes in `@backstage/repo-tools`.

## 0.0.2-next.1

### Patch Changes

- fe16bd39e83: Use permalinks for links including a line number reference
- 021cfbb5152: Corrected resolution of parameter nested schema to use central schemas.

## 0.0.2-next.0

### Patch Changes

- 27956d78671: Adjusted README accordingly after the generated output now has a `.generated.ts` extension

## 0.0.1

### Patch Changes

- 62fe726fdc5: New plugin! Primary focus is to support types on `Router`s in backend packages. Developers can use the `ApiRouter` from this package in their packages to support a typed experience based on their OpenAPI specs. The `ApiRouter` supports request bodies, response bodies, query parameters and path parameters, as well as full path-based context of the above. This means no more guessing on an endpoint like `req.post('/not-my-route', (req, res)=>{res.send(req.body.badparam)})`. Typescript would catch `/not-my-route`, `req.body.badparam`, `res.send(req.body.badparam)`.

## 0.0.1-next.0

### Patch Changes

- 62fe726fdc5: New plugin! Primary focus is to support types on `Router`s in backend packages. Developers can use the `ApiRouter` from this package in their packages to support a typed experience based on their OpenAPI specs. The `ApiRouter` supports request bodies, response bodies, query parameters and path parameters, as well as full path-based context of the above. This means no more guessing on an endpoint like `req.post('/not-my-route', (req, res)=>{res.send(req.body.badparam)})`. Typescript would catch `/not-my-route`, `req.body.badparam`, `res.send(req.body.badparam)`.
