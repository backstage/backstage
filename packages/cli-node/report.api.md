## API Report File for "@backstage/cli-node"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { JsonValue } from '@backstage/types';
import { Package } from '@manypkg/get-packages';

// @public
export type BackstagePackage = {
  dir: string;
  packageJson: BackstagePackageJson;
};

// @public
export interface BackstagePackageJson {
  // (undocumented)
  backstage?: {
    role?: PackageRole;
    moved?: string;
    inline?: boolean;
    pluginId?: string | null;
    pluginPackage?: string;
    pluginPackages?: string[];
  };
  // (undocumented)
  bundled?: boolean;
  // (undocumented)
  dependencies?: {
    [key: string]: string;
  };
  // (undocumented)
  devDependencies?: {
    [key: string]: string;
  };
  // (undocumented)
  exports?: JsonValue;
  // (undocumented)
  files?: string[];
  // (undocumented)
  main?: string;
  // (undocumented)
  module?: string;
  // (undocumented)
  name: string;
  // (undocumented)
  optionalDependencies?: {
    [key: string]: string;
  };
  // (undocumented)
  peerDependencies?: {
    [key: string]: string;
  };
  // (undocumented)
  private?: boolean;
  // (undocumented)
  publishConfig?: {
    access?: 'public' | 'restricted';
    directory?: string;
    registry?: string;
  };
  // (undocumented)
  repository?:
    | string
    | {
        type: string;
        url: string;
        directory: string;
      };
  // (undocumented)
  scripts?: {
    [key: string]: string;
  };
  // (undocumented)
  types?: string;
  // (undocumented)
  typesVersions?: Record<string, Record<string, string[]>>;
  // (undocumented)
  version: string;
}

// @public
export class GitUtils {
  static listChangedFiles(ref: string): Promise<string[]>;
  static readFileAtRef(path: string, ref: string): Promise<string>;
}

// @public
export function isMonoRepo(): Promise<boolean>;

// @public
export class Lockfile {
  createSimplifiedDependencyGraph(): Map<string, Set<string>>;
  diff(otherLockfile: Lockfile): LockfileDiff;
  static load(path: string): Promise<Lockfile>;
  static parse(content: string): Lockfile;
}

// @public
export type LockfileDiff = {
  added: LockfileDiffEntry[];
  changed: LockfileDiffEntry[];
  removed: LockfileDiffEntry[];
};

// @public
export type LockfileDiffEntry = {
  name: string;
  range: string;
};

// @public
export class PackageGraph extends Map<string, PackageGraphNode> {
  collectPackageNames(
    startingPackageNames: string[],
    collectFn: (pkg: PackageGraphNode) => Iterable<string> | undefined,
  ): Set<string>;
  static fromPackages(packages: Package[]): PackageGraph;
  listChangedPackages(options: {
    ref: string;
    analyzeLockfile?: boolean;
  }): Promise<PackageGraphNode[]>;
  static listTargetPackages(): Promise<BackstagePackage[]>;
}

// @public
export type PackageGraphNode = {
  name: string;
  dir: string;
  packageJson: BackstagePackageJson;
  allLocalDependencies: Map<string, PackageGraphNode>;
  publishedLocalDependencies: Map<string, PackageGraphNode>;
  localDependencies: Map<string, PackageGraphNode>;
  localDevDependencies: Map<string, PackageGraphNode>;
  localOptionalDependencies: Map<string, PackageGraphNode>;
  allLocalDependents: Map<string, PackageGraphNode>;
  publishedLocalDependents: Map<string, PackageGraphNode>;
  localDependents: Map<string, PackageGraphNode>;
  localDevDependents: Map<string, PackageGraphNode>;
  localOptionalDependents: Map<string, PackageGraphNode>;
};

// @public
export type PackageOutputType = 'bundle' | 'types' | 'esm' | 'cjs';

// @public
export type PackagePlatform = 'node' | 'web' | 'common';

// @public
export type PackageRole =
  | 'frontend'
  | 'backend'
  | 'cli'
  | 'web-library'
  | 'node-library'
  | 'common-library'
  | 'frontend-plugin'
  | 'frontend-plugin-module'
  | 'backend-plugin'
  | 'backend-plugin-module';

// @public
export interface PackageRoleInfo {
  // (undocumented)
  output: PackageOutputType[];
  // (undocumented)
  platform: PackagePlatform;
  // (undocumented)
  role: PackageRole;
}

// @public
export class PackageRoles {
  static detectRoleFromPackage(pkgJson: unknown): PackageRole | undefined;
  static getRoleFromPackage(pkgJson: unknown): PackageRole | undefined;
  static getRoleInfo(role: string): PackageRoleInfo;
}

// Warnings were encountered during analysis:
//
// src/monorepo/PackageGraph.d.ts:10:5 - (ae-undocumented) Missing documentation for "name".
// src/monorepo/PackageGraph.d.ts:11:5 - (ae-undocumented) Missing documentation for "version".
// src/monorepo/PackageGraph.d.ts:12:5 - (ae-undocumented) Missing documentation for "private".
// src/monorepo/PackageGraph.d.ts:13:5 - (ae-undocumented) Missing documentation for "main".
// src/monorepo/PackageGraph.d.ts:14:5 - (ae-undocumented) Missing documentation for "module".
// src/monorepo/PackageGraph.d.ts:15:5 - (ae-undocumented) Missing documentation for "types".
// src/monorepo/PackageGraph.d.ts:16:5 - (ae-undocumented) Missing documentation for "scripts".
// src/monorepo/PackageGraph.d.ts:19:5 - (ae-undocumented) Missing documentation for "bundled".
// src/monorepo/PackageGraph.d.ts:20:5 - (ae-undocumented) Missing documentation for "backstage".
// src/monorepo/PackageGraph.d.ts:44:5 - (ae-undocumented) Missing documentation for "exports".
// src/monorepo/PackageGraph.d.ts:45:5 - (ae-undocumented) Missing documentation for "typesVersions".
// src/monorepo/PackageGraph.d.ts:46:5 - (ae-undocumented) Missing documentation for "files".
// src/monorepo/PackageGraph.d.ts:47:5 - (ae-undocumented) Missing documentation for "publishConfig".
// src/monorepo/PackageGraph.d.ts:52:5 - (ae-undocumented) Missing documentation for "repository".
// src/monorepo/PackageGraph.d.ts:57:5 - (ae-undocumented) Missing documentation for "dependencies".
// src/monorepo/PackageGraph.d.ts:60:5 - (ae-undocumented) Missing documentation for "peerDependencies".
// src/monorepo/PackageGraph.d.ts:63:5 - (ae-undocumented) Missing documentation for "devDependencies".
// src/monorepo/PackageGraph.d.ts:66:5 - (ae-undocumented) Missing documentation for "optionalDependencies".
// src/roles/types.d.ts:25:5 - (ae-undocumented) Missing documentation for "role".
// src/roles/types.d.ts:26:5 - (ae-undocumented) Missing documentation for "platform".
// src/roles/types.d.ts:27:5 - (ae-undocumented) Missing documentation for "output".
```
