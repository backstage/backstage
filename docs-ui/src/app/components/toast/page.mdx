import { PropsTable } from '@/components/PropsTable';
import { Snippet } from '@/components/Snippet';
import { CodeBlock } from '@/components/CodeBlock';
import { toastContentPropDefs, toastRegionPropDefs } from './props-definition';
import {
  toastUsageSnippet,
  defaultSnippet,
  statusVariantsSnippet,
  withDescriptionSnippet,
  withoutDescriptionSnippet,
  autoDismissSnippet,
  programmaticControlSnippet,
  queueManagementSnippet,
} from './snippets';
import {
  Default,
  StatusVariants,
  WithDescription,
  WithoutDescription,
  AutoDismiss,
  ProgrammaticControl,
  QueueManagement,
} from './components';
import { ChangelogComponent } from '@/components/ChangelogComponent';
import { PageTitle } from '@/components/PageTitle';
import { Theming } from '@/components/Theming';
import { ToastDefinition, ToastRegionDefinition } from '../../../utils/definitions';

<PageTitle
  title="Toast"
  description="A Toast displays a brief, temporary notification of actions, errors, or other events in the bottom-right corner of the application."
/>

<Snippet align="center" py={4} preview={<Default />} code={defaultSnippet} />

## Status

The Toast component uses React Aria's unstable Toast API, which is currently in **alpha status**. The API may change in future versions of react-aria-components.

## Usage

The Toast component uses a global queue system. Place the `ToastRegion` once in your app root, then trigger toasts from anywhere using the `queue` API.

<CodeBlock code={toastUsageSnippet} />

## API reference

### ToastContent

The content object passed to `queue.add()`:

<PropsTable data={toastContentPropDefs} />

### ToastRegion

<PropsTable data={toastRegionPropDefs} />

## Examples

### Status Variants

The Toast component supports four status variants, each with its own color theme and icon.

<Snippet
  align="center"
  py={4}
  open
  preview={<StatusVariants />}
  code={statusVariantsSnippet}
/>

### With Description

Add a description to provide additional context or details.

<Snippet
  align="center"
  py={4}
  open
  preview={<WithDescription />}
  code={withDescriptionSnippet}
/>

### Without Description

Toasts can display a title only for simpler notifications.

<Snippet
  align="center"
  py={4}
  open
  preview={<WithoutDescription />}
  code={withoutDescriptionSnippet}
/>

### Auto Dismiss

Toasts can automatically dismiss after a timeout. For accessibility, a minimum of 5 seconds is recommended. Timers automatically pause when users hover or focus on a toast.

<Snippet
  align="center"
  py={4}
  open
  preview={<AutoDismiss />}
  code={autoDismissSnippet}
/>

### Programmatic Control

You can programmatically dismiss toasts using the key returned from `queue.add()`.

<Snippet
  align="center"
  py={4}
  open
  preview={<ProgrammaticControl />}
  code={programmaticControlSnippet}
/>

### Queue Management

The toast queue supports multiple toasts with deep stacking. When multiple toasts are visible, they stack with the most recent toast fully visible and others slightly visible behind it with reduced opacity and scale. You can show multiple toasts at once or clear all toasts programmatically.

<Snippet
  align="center"
  py={4}
  open
  preview={<QueueManagement />}
  code={queueManagementSnippet}
/>

## Accessibility

- **Landmark Region**: Toast regions are ARIA landmark regions that can be navigated using F6 (forward) and Shift+F6 (backward).
- **Focus Management**: When a toast is closed, focus moves to the next toast if any. When the last toast is closed, focus is restored.
- **Timer Pausing**: Timers automatically pause when users focus or hover over a toast.
- **Minimum Timeout**: For accessibility, toasts should have a minimum timeout of 5 seconds.
- **Manual Dismissal**: Always include a close button for users who need more time to read the content.

## Theming

<Theming definition={ToastDefinition} />

<Theming definition={ToastRegionDefinition} />

## Changelog

<ChangelogComponent component="toast" />
