import{r as c,a2 as p,j as m}from"./iframe-QksS9oll.js";import{$ as U,a as L,e as I,b as G}from"./utils-7skyISUF.js";import{e as J,n as Q,f as X,g as Y,h as Z,j,r as ee,q as te,s as ae}from"./SelectionManager-Ci0fXX1n.js";import{a as re,c as se}from"./SelectionIndicator-CsSkGhEX.js";import{$ as ne}from"./Hidden-CHTiXZqd.js";import{$ as K,a as ie,d as N}from"./useObjectRef-C67kYf0n.js";import{a as E,d as le,$ as oe,q as ce}from"./useFocusable-C6dQ0g3y.js";import{a as de,b as _}from"./useListState-CJyyvDyp.js";import{a as ue,$ as be}from"./animation-AQMpX_s8.js";import{$ as F}from"./useLabels-C8MhVIW0.js";import{$ as fe}from"./useHasTabbableChild-DehOhUt2.js";import{$ as ve}from"./context-DhOJB_gt.js";import{a as H,$ as pe}from"./useFocusRing-D9ogMLQZ.js";import{$ as $e}from"./useControlledState-BphfjgzL.js";import{u as w}from"./useStyles-CWYjonKl.js";import{c as T}from"./clsx-B-dksMZM.js";import{c as ye,u as me,f as he}from"./index-esiVI4gD.js";const O=new WeakMap;function D(a,t,e){return a?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${O.get(a)}-${e}-${t}`):""}function ge(a,t,e){let{key:r,isDisabled:s,shouldSelectOnPressUp:n}=a,{selectionManager:i,selectedKey:u}=t,l=r===u,o=s||t.isDisabled||t.selectionManager.isDisabled(r),{itemProps:b,isPressed:d}=J({selectionManager:i,key:r,ref:e,isDisabled:o,shouldSelectOnPressUp:n,linkBehavior:"selection"}),v=D(t,r,"tab"),f=D(t,r,"tabpanel"),{tabIndex:$}=b,y=t.collection.getItem(r),h=E(y?.props,{labelable:!0});delete h.id;let g=le(y?.props),{focusableProps:C}=oe({isDisabled:o},e);return{tabProps:K(h,C,g,b,{id:v,"aria-selected":l,"aria-disabled":o||void 0,"aria-controls":l?f:void 0,tabIndex:o?void 0:$,role:"tab"}),isSelected:l,isDisabled:o,isPressed:d}}function xe(a,t,e){let r=fe(e)?void 0:0;var s;const n=D(t,(s=a.id)!==null&&s!==void 0?s:t?.selectedKey,"tabpanel"),i=F({...a,id:n,"aria-labelledby":D(t,t?.selectedKey,"tab")});return{tabPanelProps:K(i,{tabIndex:r,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class Ke{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var e,r;return this.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(e=r.props)===null||e===void 0)&&e.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let e=t;do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(e!=null&&this.isDisabled(e));return e}getPreviousKey(t){let e=t;do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(e!=null&&this.isDisabled(e));return e}constructor(t,e,r,s=new Set){this.collection=t,this.flipDirection=e==="rtl"&&r==="horizontal",this.disabledKeys=s,this.tabDirection=r==="horizontal"}}function Pe(a,t,e){let{orientation:r="horizontal",keyboardActivation:s="automatic"}=a,{collection:n,selectionManager:i,disabledKeys:u}=t,{direction:l}=ve(),o=c.useMemo(()=>new Ke(n,l,r,u),[n,u,r,l]),{collectionProps:b}=Q({ref:e,selectionManager:i,keyboardDelegate:o,selectOnFocus:s==="automatic",disallowEmptySelection:!0,scrollRef:e,linkBehavior:"selection"}),d=ie();O.set(t,d);let v=F({...a,id:d});return{tabListProps:{...K(b,v),role:"tablist","aria-orientation":r,tabIndex:void 0}}}function Te(a){var t;let[e,r]=$e(a.selectedKey,(t=a.defaultSelectedKey)!==null&&t!==void 0?t:null,a.onSelectionChange),s=c.useMemo(()=>e!=null?[e]:[],[e]),{collection:n,disabledKeys:i,selectionManager:u}=de({...a,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:o=>{if(o==="all")return;var b;let d=(b=o.values().next().value)!==null&&b!==void 0?b:null;d===e&&a.onSelectionChange&&a.onSelectionChange(d),r(d)}}),l=e!=null?n.getItem(e):null;return{collection:n,disabledKeys:i,selectionManager:u,selectedKey:e,setSelectedKey:r,selectedItem:l}}function Se(a){var t,e;let r=Te({...a,onSelectionChange:a.onSelectionChange?l=>{var o;l!=null&&((o=a.onSelectionChange)===null||o===void 0||o.call(a,l))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(e=(t=a.defaultSelectedKey)!==null&&t!==void 0?t:A(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&e!==void 0?e:void 0}),{selectionManager:s,collection:n,selectedKey:i}=r,u=c.useRef(i);return c.useEffect(()=>{let l=i;a.selectedKey==null&&(s.isEmpty||l==null||!n.getItem(l))&&(l=A(n,r.disabledKeys),l!=null&&s.setSelectedKeys([l])),(l!=null&&s.focusedKey==null||!s.isFocused&&l!==u.current)&&s.setFocusedKey(l),u.current=l}),{...r,isDisabled:a.isDisabled||!1}}function A(a,t){let e=null;if(a){var r,s,n,i;for(e=a.getFirstKey();e!=null&&(t.has(e)||!((s=a.getItem(e))===null||s===void 0||(r=s.props)===null||r===void 0)&&r.isDisabled)&&e!==a.getLastKey();)e=a.getKeyAfter(e);e!=null&&(t.has(e)||!((i=a.getItem(e))===null||i===void 0||(n=i.props)===null||n===void 0)&&n.isDisabled)&&e===a.getLastKey()&&(e=a.getFirstKey())}return e}const M=c.createContext(null),P=c.createContext(null),Ee=c.forwardRef(function(t,e){[t,e]=U(t,e,M);let{children:r,orientation:s="horizontal"}=t;return r=c.useMemo(()=>typeof r=="function"?r({orientation:s,defaultChildren:null}):r,[r,s]),p.createElement(Y,{content:r},n=>p.createElement(we,{props:t,collection:n,tabsRef:e}))});function we({props:a,tabsRef:t,collection:e}){let{orientation:r="horizontal"}=a,s=Se({...a,collection:e,children:void 0}),{focusProps:n,isFocused:i,isFocusVisible:u}=H({within:!0}),l=c.useMemo(()=>({orientation:r,isFocusWithin:i,isFocusVisible:u}),[r,i,u]),o=L({...a,defaultClassName:"react-aria-Tabs",values:l}),b=E(a,{global:!0});return p.createElement("div",{...K(b,o,n),ref:t,slot:a.slot||void 0,"data-focused":i||void 0,"data-orientation":r,"data-focus-visible":u||void 0,"data-disabled":s.isDisabled||void 0},p.createElement(I,{values:[[M,a],[P,s]]},o.children))}const Re=c.forwardRef(function(t,e){return c.useContext(P)?p.createElement(Ce,{props:t,forwardedRef:e}):p.createElement(Z,t)});function Ce({props:a,forwardedRef:t}){let e=c.useContext(P),{CollectionRoot:r}=c.useContext(j),{orientation:s="horizontal",keyboardActivation:n="automatic"}=G(M),i=N(t),{tabListProps:u}=Pe({...a,orientation:s,keyboardActivation:n},e,i),l=L({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:s,state:e}}),o=E(a,{global:!0});return delete o.id,p.createElement("div",{...K(o,l,u),ref:i,"data-orientation":s||void 0},p.createElement(se,null,p.createElement(r,{collection:e.collection,persistedKeys:ee(e.selectionManager.focusedKey)})))}class k extends te{}k.type="item";const De=X(k,(a,t,e)=>{let r=c.useContext(P),s=N(t),{tabProps:n,isSelected:i,isDisabled:u,isPressed:l}=ge({key:e.key,...a},r,s),{focusProps:o,isFocused:b,isFocusVisible:d}=H(),{hoverProps:v,isHovered:f}=pe({isDisabled:u,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),$=L({...a,id:void 0,children:e.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:i,isDisabled:u,isFocused:b,isFocusVisible:d,isPressed:l,isHovered:f}}),y=e.props.href?"a":"div",h=E(a,{global:!0});return delete h.id,delete h.onClick,p.createElement(y,{...K(h,$,n,o,v),ref:s,"data-selected":i||void 0,"data-disabled":u||void 0,"data-focused":b||void 0,"data-focus-visible":d||void 0,"data-pressed":l||void 0,"data-hovered":f||void 0},p.createElement(re.Provider,{value:{isSelected:i}},$.children))}),Le=ne(function(t,e){const r=c.useContext(P);let s=N(e),n=r.selectedKey===t.id,[i,u]=c.useState(r.selectedKey!=null?n:null);i==null&&r.selectedKey!=null?u(n):!n&&i&&u(!1);let l=ue(s,n);return!n&&!t.shouldForceMount&&!l?null:p.createElement(Me,{...t,tabPanelRef:s,isInitiallySelected:i||!1,isExiting:l})});function Me(a){let t=c.useContext(P),{id:e,tabPanelRef:r,isInitiallySelected:s,isExiting:n,...i}=a,{tabPanelProps:u}=xe(a,t,r),{focusProps:l,isFocused:o,isFocusVisible:b}=H(),d=t.selectedKey===a.id,v=be(r)&&!s,f=L({...a,defaultClassName:"react-aria-TabPanel",values:{isFocused:o,isFocusVisible:b,isInert:_(!d),isEntering:v,isExiting:n,state:t}}),$=E(i,{global:!0});delete $.id;let y=d?K($,u,l,f):K($,f);return p.createElement("div",{...y,ref:r,"data-focused":o||void 0,"data-focus-visible":b||void 0,inert:_(!d||a.inert),"data-inert":d?void 0:"true","data-entering":v||void 0,"data-exiting":n||void 0},p.createElement(I,{values:[[M,null],[P,null]]},p.createElement(j.Provider,{value:ae},f.children)))}const R={classNames:{tabs:"bui-Tabs",tabList:"bui-TabList",tabListWrapper:"bui-TabListWrapper",tab:"bui-Tab",tabActive:"bui-TabActive",tabHovered:"bui-TabHovered",panel:"bui-TabPanel"}},S={"bui-Tabs":"_bui-Tabs_gv9jg_20","bui-TabList":"_bui-TabList_gv9jg_40","bui-TabListWrapper":"_bui-TabListWrapper_gv9jg_45","bui-Tab":"_bui-Tab_gv9jg_20","bui-TabActive":"_bui-TabActive_gv9jg_68","bui-TabHovered":"_bui-TabHovered_gv9jg_82","bui-TabPanel":"_bui-TabPanel_gv9jg_98"},z=a=>{const{tabRefs:t,tabsRef:e,hoveredKey:r,prevHoveredKey:s}=a,{classNames:n}=w(R),i=c.useContext(P),u=c.useRef(null),l=c.useCallback(()=>{if(!e.current)return;const o=e.current.getBoundingClientRect();if(i?.selectedKey){const b=t.current.get(i.selectedKey.toString());if(b){const d=b.getBoundingClientRect(),v=d.left-o.left,f=d.top-o.top;u.current===null?(e.current.style.setProperty("--active-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--active-transition-duration","0.25s")})):e.current.style.setProperty("--active-transition-duration","0.25s"),u.current=i.selectedKey.toString(),e.current.style.setProperty("--active-tab-left",`${v}px`),e.current.style.setProperty("--active-tab-right",`${v+d.width}px`),e.current.style.setProperty("--active-tab-top",`${f}px`),e.current.style.setProperty("--active-tab-bottom",`${f+d.height}px`),e.current.style.setProperty("--active-tab-width",`${d.width}px`),e.current.style.setProperty("--active-tab-height",`${d.height}px`)}}if(r){const b=t.current.get(r);if(b){const d=b.getBoundingClientRect(),v=d.left-o.left,f=d.top-o.top;e.current.style.setProperty("--hovered-tab-left",`${v}px`),e.current.style.setProperty("--hovered-tab-right",`${v+d.width}px`),e.current.style.setProperty("--hovered-tab-top",`${f}px`),e.current.style.setProperty("--hovered-tab-bottom",`${f+d.height}px`),e.current.style.setProperty("--hovered-tab-width",`${d.width}px`),e.current.style.setProperty("--hovered-tab-height",`${d.height}px`),s.current===null?(e.current.style.setProperty("--hovered-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--hovered-transition-duration","0.2s")})):e.current.style.setProperty("--hovered-transition-duration","0.2s"),s.current=r,e.current.style.setProperty("--hovered-tab-opacity","1")}}else e.current.style.setProperty("--hovered-tab-opacity","0"),s.current=null},[i?.selectedKey,r,t.current]);return c.useEffect(()=>{l()},[l,t.current.size]),c.useEffect(()=>{const o=()=>l();return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[l]),m.jsxs(m.Fragment,{children:[m.jsx("div",{className:T(n.tabActive,S[n.tabActive])}),m.jsx("div",{className:T(n.tabHovered,S[n.tabHovered])})]})};z.__docgenInfo={description:`A component that renders the indicators for the toolbar.

@internal`,methods:[],displayName:"TabsIndicators",props:{tabRefs:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"Map",elements:[{name:"string"},{name:"HTMLDivElement"}],raw:"Map<string, HTMLDivElement>"}],raw:"MutableRefObject<Map<string, HTMLDivElement>>"},description:""},tabsRef:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"MutableRefObject<HTMLDivElement | null>"},description:""},hoveredKey:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},prevHoveredKey:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]}],raw:"MutableRefObject<string | null>"},description:""}}};const V=c.createContext(void 0),W=()=>{const a=c.useContext(V);if(!a)throw new Error("Tab components must be used within a Tabs component");return a},Ne=(a,t,e)=>e==="exact"?a===t:a===t?!0:t.startsWith(`${a}/`),He=a=>{const{classNames:t,cleanedProps:e}=w(R,a),{className:r,children:s,...n}=e,i=c.useRef(null),u=c.useRef(new Map),[l,o]=c.useState(null),b=c.useRef(null);let d=ye();const v=me(),f=(h,g)=>{g?u.current.set(h,g):u.current.delete(h)},$=(()=>{const h=c.Children.toArray(s);for(const g of h)if(c.isValidElement(g)&&g.type===q){const C=c.Children.toArray(g.props.children);for(const x of C)if(c.isValidElement(x)&&x.props.href){const B=x.props.matchStrategy||"exact";if(Ne(x.props.href,v.pathname,B))return x.props.id}return C.every(x=>c.isValidElement(x)&&x.props.href)?null:void 0}})();if(!s)return null;const y={tabsRef:i,tabRefs:u,hoveredKey:l,prevHoveredKey:b,setHoveredKey:o,setTabRef:f};return m.jsx(V.Provider,{value:y,children:m.jsx(ce,{navigate:d,useHref:he,children:m.jsx(Ee,{className:T(t.tabs,S[t.tabs],r),keyboardActivation:"manual",selectedKey:$,ref:i,...n,children:s})})})},q=a=>{const{classNames:t,cleanedProps:e}=w(R,a),{className:r,children:s,...n}=e,{setHoveredKey:i,tabRefs:u,tabsRef:l,hoveredKey:o,prevHoveredKey:b}=W(),d=f=>{i(f)},v=c.Children.map(s,f=>c.isValidElement(f)?c.cloneElement(f,{onHoverStart:()=>d(f.props.id),onHoverEnd:()=>d(null)}):f);return m.jsxs("div",{className:T(t.tabListWrapper,S[t.tabListWrapper],r),children:[m.jsx(Re,{className:T(t.tabList,S[t.tabList]),"aria-label":"Toolbar tabs",...n,children:v}),m.jsx(z,{tabRefs:u,tabsRef:l,hoveredKey:o,prevHoveredKey:b})]})},_e=a=>{const{classNames:t,cleanedProps:e}=w(R,a),{className:r,href:s,children:n,id:i,matchStrategy:u,...l}=e,{setTabRef:o}=W();return m.jsx(De,{id:i,className:T(t.tab,S[t.tab],r),ref:b=>o(i,b),href:s,...l,children:n})},Ae=a=>{const{classNames:t,cleanedProps:e}=w(R,a),{className:r,children:s,...n}=e;return m.jsx(Le,{className:T(t.panel,S[t.panel],r),...n,children:s})};He.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"Tabs",composes:["AriaTabsProps"]};q.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"TabList",composes:["Omit"]};_e.__docgenInfo={description:`A component that renders a tab.

@public`,methods:[],displayName:"Tab",props:{matchStrategy:{required:!1,tsType:{name:"union",raw:"'exact' | 'prefix'",elements:[{name:"literal",value:"'exact'"},{name:"literal",value:"'prefix'"}]},description:`Strategy for matching the current route to determine if this tab should be active.
- 'exact': Tab href must exactly match the current pathname (default)
- 'prefix': Tab is active if current pathname starts with tab href`}},composes:["AriaTabProps"]};Ae.__docgenInfo={description:`A component that renders the content of a tab.

@public`,methods:[],displayName:"TabPanel",composes:["AriaTabPanelProps"]};export{He as T,q as a,_e as b,Ae as c};
