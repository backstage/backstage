import{r as n,a2 as y,j as I}from"./iframe-CA0Xqitl.js";import{b as j}from"./RSPContexts-BkSlNiDX.js";import{$ as w,b as A,f as F,d as k,a as T}from"./utils-CxRSQOHD.js";import{b as B,c as z,d as q,e as H,a as W}from"./Form-DGLvPRKd.js";import{b as P,d as G}from"./useObjectRef-galIu8y9.js";import{$ as J}from"./useFocusable-B_K0Toxg.js";import{$ as K}from"./usePress-Cm_6NlmW.js";import{$ as L,a as S}from"./useToggleState-Dz72wz-3.js";import{a as Q,$ as U}from"./useFocusRing-XSvWfqXQ.js";import{$ as X}from"./VisuallyHidden-kH9JdjiR.js";import{u as Y}from"./useStyles-DWCTEpsL.js";import{c as _}from"./clsx-B-dksMZM.js";import{s as Z}from"./index-Uz4cXNx-.js";function O(i,e,a){let t=B({...i,value:e.isSelected}),{isInvalid:s,validationErrors:u,validationDetails:b}=t.displayValidation,{labelProps:v,inputProps:c,isSelected:l,isPressed:r,isDisabled:$,isReadOnly:m}=L({...i,isInvalid:s},e,a);z(i,t,a);let{isIndeterminate:x,isRequired:f,validationBehavior:o="aria"}=i;n.useEffect(()=>{a.current&&(a.current.indeterminate=!!x)});let{pressProps:h}=K({isDisabled:$||m,onPress(){let{[q]:d}=i,{commitValidation:R}=d||t;R()}});return{labelProps:P(v,h,n.useMemo(()=>({onMouseDown:d=>d.preventDefault()}),[])),inputProps:{...c,checked:l,"aria-required":f&&o==="aria"||void 0,required:f&&o==="native"},isSelected:l,isPressed:r,isDisabled:$,isReadOnly:m,isInvalid:s,validationErrors:u,validationDetails:b}}const ee=new WeakMap;function ie(i,e,a){const t=S({isReadOnly:i.isReadOnly||e.isReadOnly,isSelected:e.isSelected(i.value),defaultSelected:e.defaultValue.includes(i.value),onChange(d){d?e.addValue(i.value):e.removeValue(i.value),i.onChange&&i.onChange(d)}});let{name:s,form:u,descriptionId:b,errorMessageId:v,validationBehavior:c}=ee.get(e);var l;c=(l=i.validationBehavior)!==null&&l!==void 0?l:c;let{realtimeValidation:r}=B({...i,value:t.isSelected,name:void 0,validationBehavior:"aria"}),$=n.useRef(H),m=()=>{e.setInvalid(i.value,r.isInvalid?r:$.current)};n.useEffect(m);let x=e.realtimeValidation.isInvalid?e.realtimeValidation:r,f=c==="native"?e.displayValidation:x;var o;let h=O({...i,isReadOnly:i.isReadOnly||e.isReadOnly,isDisabled:i.isDisabled||e.isDisabled,name:i.name||s,form:i.form||u,isRequired:(o=i.isRequired)!==null&&o!==void 0?o:e.isRequired,validationBehavior:c,[q]:{realtimeValidation:x,displayValidation:f,resetValidation:e.resetValidation,commitValidation:e.commitValidation,updateValidation(d){$.current=d,m()}}},t,a);return{...h,inputProps:{...h.inputProps,"aria-describedby":[i["aria-describedby"],e.isInvalid?v:null,b].filter(Boolean).join(" ")||void 0}}}const ae=n.createContext(null),de=n.forwardRef(function(e,a){let{inputRef:t=null,...s}=e;[e,a]=w(s,a,j);let{validationBehavior:u}=A(W)||{};var b,v;let c=(v=(b=e.validationBehavior)!==null&&b!==void 0?b:u)!==null&&v!==void 0?v:"native",l=n.useContext(ae),r=G(n.useMemo(()=>F(t,e.inputRef!==void 0?e.inputRef:null),[t,e.inputRef])),{labelProps:$,inputProps:m,isSelected:x,isDisabled:f,isReadOnly:o,isPressed:h,isInvalid:d}=l?ie({...k(e),value:e.value,children:typeof e.children=="function"?!0:e.children},l,r):O({...k(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:c},S(e),r),{isFocused:R,isFocusVisible:p,focusProps:E}=Q(),N=f||o,{hoverProps:M,isHovered:C}=U({...e,isDisabled:N}),D=T({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:x,isIndeterminate:e.isIndeterminate||!1,isPressed:h,isHovered:C,isFocused:R,isFocusVisible:p,isDisabled:f,isReadOnly:o,isInvalid:d,isRequired:e.isRequired||!1}}),V=J(e,{global:!0});return delete V.id,delete V.onClick,y.createElement("label",{...P(V,$,M,D),ref:a,slot:e.slot||void 0,"data-selected":x||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":h||void 0,"data-hovered":C||void 0,"data-focused":R||void 0,"data-focus-visible":p||void 0,"data-disabled":f||void 0,"data-readonly":o||void 0,"data-invalid":d||void 0,"data-required":e.isRequired||void 0},y.createElement(X,{elementType:"span"},y.createElement("input",{...P(m,E),ref:r})),D.children)}),te={classNames:{root:"bui-Checkbox",indicator:"bui-CheckboxIndicator"},dataAttributes:{selected:[!0,!1]}},g={"bui-Checkbox":"_bui-Checkbox_g4eed_20","bui-CheckboxIndicator":"_bui-CheckboxIndicator_g4eed_38"},oe=n.forwardRef((i,e)=>{const{classNames:a}=Y(te),{className:t,children:s,...u}=i;return I.jsxs(de,{ref:e,className:_(a.root,g[a.root],t),...u,children:[I.jsx("div",{className:_(a.indicator,g[a.indicator]),children:I.jsx(Z,{size:12})}),s]})});oe.__docgenInfo={description:"@public",methods:[],displayName:"Checkbox",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["RACheckboxProps"]};export{oe as C};
