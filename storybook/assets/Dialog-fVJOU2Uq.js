import{r as l,a2 as u,j as m}from"./iframe-CMoZkI_V.js";import{a as I,b as L,c as z,d as A,e as v,f as V,g as W,h as K,i as U}from"./Dialog-BtQRZl6h.js";import{$ as k}from"./Heading-9-qkf-EG.js";import{f as G,a as j,$ as J,e as Q}from"./utils-Bfp8WxiJ.js";import{f as O,$ as w,e as P}from"./useObjectRef-C9XKF3E9.js";import{a as T}from"./useFocusable-Cf0-u3Kd.js";import{c as E,d as X}from"./SelectionManager-CaydhMXc.js";import{a as C,b as Y,c as R}from"./OverlayArrow-DAX4SPCi.js";import{c as g}from"./clsx-B-dksMZM.js";import{P as Z}from"./index-BcMZ6h95.js";import{u as h}from"./useStyles-D6TUfwB3.js";import{F as ee}from"./Flex-D8WSV-wt.js";import{B as te}from"./Button-BUBzEqbc.js";let c=typeof document<"u"&&window.visualViewport;function ae(){let a=O(),[e,t]=l.useState(()=>a?{width:0,height:0}:_());return l.useEffect(()=>{let r=()=>{c&&c.scale>1||t(i=>{let s=_();return s.width===i.width&&s.height===i.height?i:s})},o,n=i=>{c&&c.scale>1||E(i.target)&&(o=requestAnimationFrame(()=>{(!document.activeElement||!E(document.activeElement))&&t(s=>{let d={width:window.innerWidth,height:window.innerHeight};return d.width===s.width&&d.height===s.height?s:d})}))};return window.addEventListener("blur",n,!0),c?c.addEventListener("resize",r):window.addEventListener("resize",r),()=>{cancelAnimationFrame(o),window.removeEventListener("blur",n,!0),c?c.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),e}function _(){return{width:c?c.width*c.scale:window.innerWidth,height:c?c.height*c.scale:window.innerHeight}}function ie(a,e,t){let{overlayProps:r,underlayProps:o}=I({...a,isOpen:e.isOpen,onClose:e.close},t);return L({isDisabled:!e.isOpen}),z(),l.useEffect(()=>{if(e.isOpen&&t.current)return A([t.current],{shouldUseInert:!0})},[e.isOpen,t]),{modalProps:w(r),underlayProps:o}}const re=l.createContext(null),D=l.createContext(null),oe=l.forwardRef(function(e,t){if(l.useContext(D))return u.createElement(N,{...e,modalRef:t},e.children);let{isDismissable:o,isKeyboardDismissDisabled:n,isOpen:i,defaultOpen:s,onOpenChange:d,children:f,isEntering:b,isExiting:p,UNSTABLE_portalContainer:y,shouldCloseOnInteractOutside:M,...q}=e;return u.createElement(ne,{isDismissable:o,isKeyboardDismissDisabled:n,isOpen:i,defaultOpen:s,onOpenChange:d,isEntering:b,isExiting:p,UNSTABLE_portalContainer:y,shouldCloseOnInteractOutside:M},u.createElement(N,{...q,modalRef:t},f))});function se(a,e){[a,e]=J(a,e,re);let t=l.useContext(v),r=Y(a),o=a.isOpen!=null||a.defaultOpen!=null||!t?r:t,n=P(e),i=l.useRef(null),s=R(n,o.isOpen),d=R(i,o.isOpen),f=s||d||a.isExiting||!1,b=O();return!o.isOpen&&!f||b?null:u.createElement(le,{...a,state:o,isExiting:f,overlayRef:n,modalRef:i})}const ne=l.forwardRef(se);function le({UNSTABLE_portalContainer:a,...e}){let t=e.modalRef,{state:r}=e,{modalProps:o,underlayProps:n}=ie(e,r,t),i=C(e.overlayRef)||e.isEntering||!1,s=j({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:i,isExiting:e.isExiting,state:r}}),d=ae(),f;if(typeof document<"u"){let p=X(document.body)?document.body:document.scrollingElement||document.documentElement,y=p.getBoundingClientRect().height%1;f=p.scrollHeight-y}let b={...s.style,"--visual-viewport-height":d.height+"px","--page-height":f!==void 0?f+"px":void 0};return u.createElement(W,{isExiting:e.isExiting,portalContainer:a},u.createElement("div",{...w(T(e,{global:!0}),n),...s,style:b,ref:e.overlayRef,"data-entering":i||void 0,"data-exiting":e.isExiting||void 0},u.createElement(Q,{values:[[D,{modalProps:o,modalRef:t,isExiting:e.isExiting,isDismissable:e.isDismissable}],[v,r]]},s.children)))}function N(a){let{modalProps:e,modalRef:t,isExiting:r,isDismissable:o}=l.useContext(D),n=l.useContext(v),i=l.useMemo(()=>G(a.modalRef,t),[a.modalRef,t]),s=P(i),d=C(s),f=j({...a,defaultClassName:"react-aria-Modal",values:{isEntering:d,isExiting:r,state:n}});return u.createElement("div",{...w(T(a,{global:!0}),e),...f,ref:s,"data-entering":d||void 0,"data-exiting":r||void 0},o&&u.createElement(V,{onDismiss:n.close}),f.children)}const x={classNames:{overlay:"bui-DialogOverlay",dialog:"bui-Dialog",header:"bui-DialogHeader",headerTitle:"bui-DialogHeaderTitle",body:"bui-DialogBody",footer:"bui-DialogFooter"}},$={"bui-DialogOverlay":"_bui-DialogOverlay_1eyj7_20","bui-Dialog":"_bui-Dialog_1eyj7_20","fade-in":"_fade-in_1eyj7_1","fade-out":"_fade-out_1eyj7_1","dialog-enter":"_dialog-enter_1eyj7_1","dialog-exit":"_dialog-exit_1eyj7_1","bui-DialogHeader":"_bui-DialogHeader_1eyj7_70","bui-DialogHeaderTitle":"_bui-DialogHeaderTitle_1eyj7_79","bui-DialogFooter":"_bui-DialogFooter_1eyj7_85","bui-DialogBody":"_bui-DialogBody_1eyj7_95"},de=a=>m.jsx(K,{...a}),H=l.forwardRef((a,e)=>{const{classNames:t,cleanedProps:r}=h(x,a),{className:o,children:n,width:i,height:s,style:d,...f}=r;return m.jsx(oe,{ref:e,className:g(t.overlay,$[t.overlay]),isDismissable:!0,isKeyboardDismissDisabled:!1,...f,children:m.jsx(U,{className:g(t.dialog,$[t.dialog],o),style:{"--bui-dialog-min-width":typeof i=="number"?`${i}px`:i||"400px","--bui-dialog-min-height":s?typeof s=="number"?`${s}px`:s:"auto",...d},children:n})})});H.displayName="Dialog";const S=l.forwardRef((a,e)=>{const{classNames:t,cleanedProps:r}=h(x,a),{className:o,children:n,...i}=r;return m.jsxs(ee,{ref:e,className:g(t.header,$[t.header],o),...i,children:[m.jsx(k,{slot:"title",className:g(t.headerTitle,$[t.headerTitle]),children:n}),m.jsx(te,{name:"close","aria-label":"Close",variant:"tertiary",slot:"close",children:m.jsx(Z,{})})]})});S.displayName="DialogHeader";const B=l.forwardRef((a,e)=>{const{classNames:t,cleanedProps:r}=h(x,a),{className:o,children:n,...i}=r;return m.jsx("div",{className:g(t.body,$[t.body],o),ref:e,...i,children:n})});B.displayName="DialogBody";const F=l.forwardRef((a,e)=>{const{classNames:t,cleanedProps:r}=h(x,a),{className:o,children:n,...i}=r;return m.jsx("div",{ref:e,className:g(t.footer,$[t.footer],o),...i,children:n})});F.displayName="DialogFooter";de.__docgenInfo={description:"@public",methods:[],displayName:"DialogTrigger",composes:["RADialogTriggerProps"]};H.__docgenInfo={description:"@public",methods:[],displayName:"Dialog",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},width:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},height:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""}},composes:["RAModalProps"]};S.__docgenInfo={description:"@public",methods:[],displayName:"DialogHeader",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}},composes:["RAHeadingProps"]};B.__docgenInfo={description:"@public",methods:[],displayName:"DialogBody",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};F.__docgenInfo={description:"@public",methods:[],displayName:"DialogFooter"};export{de as D,H as a,S as b,B as c,F as d};
