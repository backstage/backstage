import{r,j as t,n as K,k as _,c as N,I as z}from"./iframe-nUyzSU_S.js";import{S as V}from"./Search-BPU9_Plx.js";import{u as F}from"./useDebounce-CjIod6UB.js";import{s as L}from"./translation-C2YrA5Zm.js";import{u as M,S as y}from"./SearchContext-DyxwDLO3.js";import{I as x}from"./InputAdornment-CBJ4cAd8.js";import{B as O}from"./Button-9eN5S7Qm.js";import{T as Q}from"./TextField-D2Fg4uQX.js";import{A as U}from"./useAnalytics-zfcNJTQf.js";import{u as W}from"./useApp-BPL8rQQ0.js";import"./preload-helper-PPVm8Dsz.js";import"./lodash-Y_-RFQgK.js";import"./useAsync-D2jbTAhU.js";import"./useMountedState-Ck7bTrxM.js";import"./api-DmT-dUSt.js";import"./useFormControl-Bys_1h5X.js";import"./Select-CXSzpRz_.js";import"./index-B9sM2jn7.js";import"./Popover-CqQntd3a.js";import"./Modal-CyZtSQZC.js";import"./Portal-B4a8gD0I.js";import"./List-D6JW15z2.js";import"./ListContext-CXea3Vhu.js";import"./formControlState-ByiNFc8I.js";import"./FormLabel-CEGYyYsb.js";import"./InputLabel-D_m6rx0v.js";const B=r.forwardRef((m,h)=>{const{onChange:n,onKeyDown:a=()=>{},onClear:i=()=>{},onSubmit:s=()=>{},debounceTime:o=200,clearButton:f=!0,fullWidth:c=!0,value:g,label:b,placeholder:S,inputProps:C={},InputProps:v={},endAdornment:I,...A}=m,T=K(N),[l,u]=r.useState(""),d=r.useRef(""),{t:p}=_(L);r.useEffect(()=>{u(e=>e===d.current?String(g):e)},[g,d]),F(()=>{d.current=l,n(l)},o,[l]);const R=r.useCallback(e=>{u(e.target.value)},[u]),j=r.useCallback(e=>{a&&a(e),s&&e.key==="Enter"&&s()},[a,s]),P=r.useCallback(()=>{d.current="",n(""),u(""),i&&i()},[n,i]),w=b?void 0:p("searchBar.title"),k=S??p("searchBar.placeholder",{org:T.getOptionalString("app.title")||"Backstage"}),E=W().getSystemIcon("search")||V,q=t.jsx(x,{position:"start",children:t.jsx(z,{"aria-label":"Query",size:"small",disabled:!0,children:t.jsx(E,{})})}),D=t.jsx(x,{position:"end",children:t.jsx(O,{"aria-label":p("searchBar.clearButtonTitle"),size:"small",onClick:P,onKeyDown:e=>{e.key==="Enter"&&e.stopPropagation()},children:p("searchBar.clearButtonTitle")})});return t.jsx(y,{inheritParentContextIfAvailable:!0,children:t.jsx(Q,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:h,value:l,label:b,placeholder:k,InputProps:{startAdornment:q,endAdornment:f?D:I,...v},inputProps:{"aria-label":w,...C},fullWidth:c,onChange:R,onKeyDown:j,...A})})}),$=r.forwardRef((m,h)=>{const{value:n="",onChange:a,...i}=m,{term:s,setTerm:o}=M();r.useEffect(()=>{n&&o(String(n))},[n,o]);const f=r.useCallback(c=>{a?a(c):o(c)},[a,o]);return t.jsx(y,{inheritParentContextIfAvailable:!0,children:t.jsx(U,{attributes:{pluginId:"search",extension:"SearchBar"},children:t.jsx(B,{...i,ref:h,value:s,onChange:f})})})});B.__docgenInfo={description:`All search boxes exported by the search plugin are based on the <SearchBarBase />,
and this one is based on the <InputBase /> component from Material UI.
Recommended if you don't use Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBarBase",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},clearButton:{required:!1,tsType:{name:"boolean"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},endAdornment:{required:!1,tsType:{name:"ReactNode"},description:""}}};$.__docgenInfo={description:`Recommended search bar when you use the Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBar"};export{$ as SearchBar,B as SearchBarBase};
