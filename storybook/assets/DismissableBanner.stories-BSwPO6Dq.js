import{j as r}from"./jsx-runtime-CvpxdxdE.js";import{r as _}from"./index-DSHF18-l.js";import{u as q,s as x,W as A,M as P}from"./MockErrorApi-DtId45iR.js";import{c as d}from"./index-jB8bSz_h.js";import{d as D}from"./Close-C56CBW1U.js";import{m as I}from"./makeStyles-BpM_75FT.js";import{S as N,a as W}from"./Snackbar-DejIpn8k.js";import{I as C}from"./IconButton-2jf7y2dB.js";import{u as L}from"./ApiRef-DDVPwL0h.js";import{T as z}from"./Typography-D-X-TuAe.js";import{L as R}from"./Link-OzsOgaVP.js";import{T as v}from"./TestApiProvider-CaP8DdS9.js";import"./index-D9gx4uDp.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-CgciPynk.js";import"./capitalize-90DKmOiu.js";import"./defaultTheme-BC4DFfCk.js";import"./withStyles-eF3Zax-M.js";import"./hoist-non-react-statics.cjs-DlMN-SZi.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-D_YgPIMQ.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-fiJl_Gvd.js";import"./ownerWindow-BCxlYCSn.js";import"./useIsFocusVisible-Sgmp0f7s.js";import"./index-DBvFAGNd.js";import"./useControlled-i6Pam0ca.js";import"./unstable_useId-BAMTp7ON.js";import"./Paper-D1gKpVrP.js";import"./Grow-DbwKXL8U.js";import"./useTheme-D_a2aLgU.js";import"./utils-DlGjxGZ7.js";import"./TransitionGroupContext-BUwkeBv7.js";import"./ButtonBase-Bv9QgeU2.js";import"./lodash-D8aMxhkM.js";import"./index-CEhUYg2U.js";import"./useAnalytics-BqSe3k6a.js";import"./ConfigApi-1QFqvuIK.js";import"./ApiProvider-B3DrBnW0.js";import"./index-B0bGgVUV.js";const E=I(e=>({root:{padding:e.spacing(0),marginBottom:e.spacing(0),marginTop:e.spacing(0),display:"flex",flexFlow:"row nowrap"},topPosition:{position:"relative",marginBottom:e.spacing(6),marginTop:-e.spacing(3),zIndex:"unset"},icon:{fontSize:e.typography.h6.fontSize},content:{width:"100%",maxWidth:"inherit",flexWrap:"nowrap",color:e.palette.banner.text},message:{display:"flex",alignItems:"center","& a":{color:e.palette.banner.link}},button:{color:e.palette.banner.closeButtonColor??"inherit"},info:{backgroundColor:e.palette.banner.info},error:{backgroundColor:e.palette.banner.error},warning:{backgroundColor:e.palette.banner.warning??e.palette.banner.error}}),{name:"BackstageDismissableBanner"}),o=e=>{const{variant:w,message:B,id:p,fixed:l=!1}=e,i=E(),t=L(x).forBucket("notifications"),n=q(t.observe$("dismissedBanners"),t.snapshot("dismissedBanners")),m=_.useMemo(()=>new Set(n.value??[]),[n.value]),S=n.presence==="unknown",j=()=>{t.set("dismissedBanners",[...m,p])};return r.jsx(N,{anchorOrigin:l?{vertical:"bottom",horizontal:"center"}:{vertical:"top",horizontal:"center"},open:!S&&!m.has(p),classes:{root:d(i.root,!l&&i.topPosition)},children:r.jsx(W,{classes:{root:d(i.content,i[w]),message:i.message},message:B,action:[r.jsx(C,{title:"Permanently dismiss this message",className:i.button,onClick:j,children:r.jsx(D,{className:i.icon})},"dismiss")]})})};o.__docgenInfo={description:"@public",methods:[],displayName:"DismissableBanner",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};const qe={title:"Feedback/DismissableBanner",component:o,argTypes:{variant:{options:["info","error","warning"],control:{type:"select"}}}},T={width:"70%"},M=()=>A.create({errorApi:new P}),h=[[x,M()]],k={message:"This is a dismissable banner",variant:"info",fixed:!1},s=e=>r.jsx("div",{style:T,children:r.jsx(v,{apis:h,children:r.jsx(o,{...e,id:"default_dismissable"})})});s.args=k;const a=e=>r.jsx("div",{style:T,children:r.jsx(v,{apis:h,children:r.jsx(o,{...e,message:r.jsxs(z,{children:["This is a dismissable banner with a link:"," ",r.jsx(R,{to:"http://example.com",color:"textPrimary",children:"example.com"})]}),id:"linked_dismissable"})})});a.args=k;s.__docgenInfo={description:"",methods:[],displayName:"Default",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};a.__docgenInfo={description:"",methods:[],displayName:"WithLink",props:{variant:{required:!0,tsType:{name:"union",raw:"'info' | 'error' | 'warning'",elements:[{name:"literal",value:"'info'"},{name:"literal",value:"'error'"},{name:"literal",value:"'warning'"}]},description:""},message:{required:!0,tsType:{name:"ReactNode"},description:""},id:{required:!0,tsType:{name:"string"},description:""},fixed:{required:!1,tsType:{name:"boolean"},description:""}}};var c,u,g;s.parameters={...s.parameters,docs:{...(c=s.parameters)==null?void 0:c.docs,source:{originalSource:`(args: Props) => <div style={containerStyle}>
    <TestApiProvider apis={apis}>
      <DismissableBanner {...args} id="default_dismissable" />
    </TestApiProvider>
  </div>`,...(g=(u=s.parameters)==null?void 0:u.docs)==null?void 0:g.source}}};var f,b,y;a.parameters={...a.parameters,docs:{...(f=a.parameters)==null?void 0:f.docs,source:{originalSource:`(args: Props) => <div style={containerStyle}>
    <TestApiProvider apis={apis}>
      <DismissableBanner {...args} message={<Typography>
            This is a dismissable banner with a link:{' '}
            <Link to="http://example.com" color="textPrimary">
              example.com
            </Link>
          </Typography>} id="linked_dismissable" />
    </TestApiProvider>
  </div>`,...(y=(b=a.parameters)==null?void 0:b.docs)==null?void 0:y.source}}};const Ae=["Default","WithLink"];export{s as Default,a as WithLink,Ae as __namedExportsOrder,qe as default};
