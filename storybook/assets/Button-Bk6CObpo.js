import{c as y,$ as O,g as j,d as A,b as L}from"./utils-Dc-c3eC3.js";import{$ as S}from"./Label-Bwu2jGwM.js";import{b as B,a as D,d as _,c as k}from"./useFocusRing-BPooT00c.js";import{r as g,a3 as E}from"./iframe-B6vHPHUS.js";import{$ as U}from"./useLabel-BjKVVapu.js";import{$ as W}from"./context-DsQFltCn.js";import{$ as H}from"./Hidden-ByRJzAKI.js";import{$ as Z}from"./usePress-D5zWsAX_.js";function R(a,e=-1/0,t=1/0){return Math.min(Math.max(a,e),t)}const I=7e3;let f=null;function F(a,e="assertive",t=I){f?f.announce(a,e,t):(f=new z,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?f.announce(a,e,t):setTimeout(()=>{f?.isAttached()&&f?.announce(a,e,t)},100))}class z{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",i=I){var r,n;if(!this.node)return;let s=document.createElement("div");typeof e=="object"?(s.setAttribute("role","img"),s.setAttribute("aria-labelledby",e["aria-labelledby"])):s.textContent=e,t==="assertive"?(r=this.assertiveLog)===null||r===void 0||r.appendChild(s):(n=this.politeLog)===null||n===void 0||n.appendChild(s),e!==""&&setTimeout(()=>{s.remove()},i)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}let T=new Map,C=!1;try{C=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let w=!1;try{w=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const M={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class G{format(e){let t="";if(!C&&this.options.signDisplay!=null?t=K(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!w){var i;let{unit:r,unitDisplay:n="short",locale:s}=this.resolvedOptions();if(!r)return t;let o=(i=M[r])===null||i===void 0?void 0:i[n];t+=o[s]||o.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(e),r=this.numberFormatter.formatToParts(t);return[...i.map(n=>({...n,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...r.map(n=>({...n,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!C&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!w&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=J(e,t),this.options=t}}function J(a,e={}){let{numberingSystem:t}=e;if(t&&a.includes("-nu-")&&(a.includes("-u-")||(a+="-u-"),a+=`-nu-${t}`),e.style==="unit"&&!w){var i;let{unit:s,unitDisplay:o="short"}=e;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=M[s])===null||i===void 0)&&i[o]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${o}`);e={...e,style:"decimal"}}let r=a+(e?Object.entries(e).sort((s,o)=>s[0]<o[0]?-1:1).join():"");if(T.has(r))return T.get(r);let n=new Intl.NumberFormat(a,e);return T.set(r,n),n}function K(a,e,t){if(e==="auto")return a.format(t);if(e==="never")return a.format(Math.abs(t));{let i=!1;if(e==="always"?i=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):i=t>0),i){let r=a.format(-t),n=a.format(t),s=r.replace(n,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),r.replace(n,"!!!").replace(s,"+").replace("!!!",n)}else return a.format(t)}}function Y(a={}){let{locale:e}=W();return g.useMemo(()=>new G(e,a),[e,a])}function q(a,e){let{elementType:t="button",isDisabled:i,onPress:r,onPressStart:n,onPressEnd:s,onPressUp:o,onPressChange:l,preventFocusOnPress:u,allowFocusWhenDisabled:$,onClick:b,href:c,target:m,rel:h,type:p="button"}=a,d;t==="button"?d={type:p,disabled:i,form:a.form,formAction:a.formAction,formEncType:a.formEncType,formMethod:a.formMethod,formNoValidate:a.formNoValidate,formTarget:a.formTarget,name:a.name,value:a.value}:d={role:"button",href:t==="a"&&!i?c:void 0,target:t==="a"?m:void 0,type:t==="input"?p:void 0,disabled:t==="input"?i:void 0,"aria-disabled":!i||t==="input"?void 0:i,rel:t==="a"?h:void 0};let{pressProps:P,isPressed:x}=Z({onPressStart:n,onPressEnd:s,onPressChange:l,onPress:r,onPressUp:o,onClick:b,isDisabled:i,preventFocusOnPress:u,ref:e}),{focusableProps:v}=B(a,e);$&&(v.tabIndex=i?-1:v.tabIndex);let N=y(v,P,D(a,{labelable:!0}));return{isPressed:x,buttonProps:y(d,N,{"aria-haspopup":a["aria-haspopup"],"aria-expanded":a["aria-expanded"],"aria-controls":a["aria-controls"],"aria-pressed":a["aria-pressed"],"aria-current":a["aria-current"],"aria-disabled":a["aria-disabled"]})}}function Q(a){let{value:e=0,minValue:t=0,maxValue:i=100,valueLabel:r,isIndeterminate:n,formatOptions:s={style:"percent"}}=a,o=D(a,{labelable:!0}),{labelProps:l,fieldProps:u}=U({...a,labelElementType:"span"});e=R(e,t,i);let $=(e-t)/(i-t),b=Y(s);if(!n&&!r){let c=s.style==="percent"?$:e;r=b.format(c)}return{progressBarProps:y(o,{...u,"aria-valuenow":n?void 0:e,"aria-valuemin":t,"aria-valuemax":i,"aria-valuetext":n?void 0:r,role:"progressbar"}),labelProps:l}}const V=g.createContext(null),de=g.forwardRef(function(e,t){[e,t]=O(e,t,V);let{value:i=0,minValue:r=0,maxValue:n=100,isIndeterminate:s=!1}=e;i=R(i,r,n);let[o,l]=j(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:u,labelProps:$}=Q({...e,label:l}),b=s?void 0:(i-r)/(n-r)*100,c=A({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:b,valueText:u["aria-valuetext"],isIndeterminate:s}}),m=D(e,{global:!0});return E.createElement("div",{...y(m,c,u),ref:t,slot:e.slot||void 0},E.createElement(S.Provider,{value:{...$,ref:o,elementType:"span"}},c.children))}),X=g.createContext({}),fe=H(function(e,t){[e,t]=O(e,t,X);let i=e,{isPending:r}=i,{buttonProps:n,isPressed:s}=q(e,t);n=ee(n,r);let{focusProps:o,isFocused:l,isFocusVisible:u}=_(e),{hoverProps:$,isHovered:b}=k({...e,isDisabled:e.isDisabled||r}),c={isHovered:b,isPressed:(i.isPressed||s)&&!r,isFocused:l,isFocusVisible:u,isDisabled:e.isDisabled||!1,isPending:r??!1},m=A({...e,values:c,defaultClassName:"react-aria-Button"}),h=L(n.id),p=L(),d=n["aria-labelledby"];r&&(d?d=`${d} ${p}`:n["aria-label"]&&(d=`${h} ${p}`));let P=g.useRef(r);g.useEffect(()=>{let v={"aria-labelledby":d||h};(!P.current&&l&&r||P.current&&l&&!r)&&F(v,"assertive"),P.current=r},[r,l,d,h]);let x=D(e,{global:!0});return delete x.onClick,E.createElement("button",{...y(x,m,n,o,$),type:n.type==="submit"&&r?"button":n.type,id:h,ref:t,"aria-labelledby":d,slot:e.slot||void 0,"aria-disabled":r?"true":n["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":c.isPressed||void 0,"data-hovered":b||void 0,"data-focused":l||void 0,"data-pending":r||void 0,"data-focus-visible":u||void 0},E.createElement(V.Provider,{value:{id:p}},m.children))});function ee(a,e){if(e){for(const t in a)t.startsWith("on")&&!(t.includes("Focus")||t.includes("Blur"))&&(a[t]=void 0);a.href=void 0,a.target=void 0}return a}export{fe as $,de as a,X as b,R as c,F as d};
