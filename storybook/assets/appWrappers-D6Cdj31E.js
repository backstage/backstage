import{U as ge,i as ri,bC as ne,bD as Oi,r as D,j as m,J as ye,Y as L,$ as Ct,V as ti,a as ni,c as ai,as as ii,bE as Fi,aY as ji,bF as $i,bG as si,bH as Bi,L as ce,b9 as oi,at as Di,aA as Mi,aB as Ui,aC as Li,aD as Ni,bI as Gi,bJ as Nt,bK as Hi,bL as Ki,bM as Wi,bN as K,bO as zi,bP as Vi,bQ as Ji,bR as Xi,bS as Yi,bT as Zi,bU as Qi,bV as es,bW as rs,bX as ts,bY as ns,bZ as as,b_ as is,a0 as ss,b$ as os}from"./iframe-CXVefQjv.js";import{u as us,W as cs,s as ui,M as ls}from"./useObservable-D7_Ugrt_.js";import{A as ps,u as fs,a as ds}from"./useAnalytics-Bx4_U39Z.js";import{u as hs}from"./useAsync-RkiDaN6_.js";import{a as le,g as N}from"./componentData-CjALqQ4I.js";import{b as me,c as W,d as ve,e as gs,r as ys,a as ci}from"./isSymbol-DYihM2bc.js";import{r as It}from"./isObject--vsEa_js.js";import{a as J,r as ms}from"./toString-jlmj72dF.js";import{l as vs,a as pe,u as bs,m as li,R as Gt,n as ws,M as _s}from"./index-B97xvfin.js";import{u as Rs}from"./useApp-DMj12Ulj.js";class Ie{constructor(e){this.factories=e}static validateFactories(e,r){for(const n of r){const a=[n],i=new Set;for(;a.length;){const s=a.shift(),o=e.get(s);if(o)for(const u of Object.values(o.deps)){if(u.id===n.id)throw new Error(`Circular dependency of api factory for ${n}`);i.has(u)||(i.add(u),a.push(u))}}}}apis=new Map;get(e){return this.load(e)}load(e,r=[]){const n=this.apis.get(e.id);if(n)return n;const a=this.factories.get(e);if(!a)return;if(r.includes(a.api))throw new Error(`Circular dependency of api factory for ${a.api}`);const i=this.loadDeps(e,a.deps,[...r,a.api]),s=a.factory(i);return this.apis.set(e.id,s),s}loadDeps(e,r,n){const a={};for(const i in r)if(r.hasOwnProperty(i)){const s=r[i],o=this.load(s,n);if(!o)throw new Error(`No API factory available for dependency ${s} of dependent ${e}`);a[i]=o}return a}}const As={default:10,app:50,static:100};class qs{factories=new Map;register(e,r){const n=As[e],a=this.factories.get(r.api.id);return a&&a.priority>=n?!1:(this.factories.set(r.api.id,{priority:n,factory:r}),!0)}get(e){const r=this.factories.get(e.id);if(r)return r.factory}getAllApis(){const e=new Set;for(const{factory:r}of this.factories.values())e.add(r.api);return e}}function j(t,e){return"id"in t?{api:t,deps:{},factory:()=>e}:t}const Ht=ge({id:"core.applanguage"}),Et=ge({id:"core.apptheme"}),G=ge({id:"core.discovery"}),pi=ge({id:"core.fetch"}),Ps=ri("route-ref-type",()=>Symbol("route-ref-type"));class Ts{[Ps]="absolute";id;params;constructor(e,r){this.id=e,this.params=r}get title(){return this.id}toString(){return this.#e?`routeRef{id=${this.#e},legacyId=${this.id}}`:`routeRef{type=absolute,id=${this.id}}`}$$type="@backstage/RouteRef";version="v1";T=void 0;alias=void 0;#e=void 0;getParams(){return this.params}getDescription(){return this.#e?this.#e:this.id}setId(e){if(!e)throw new Error("RouteRef id must be a non-empty string");if(this.#e&&this.#e!==e)throw new Error(`RouteRef was referenced twice as both '${this.#e}' and '${e}'`);this.#e=e}}function Cs(t){return new Ts(t.id,t.params??[])}const Is={id:"microsoft",title:"Microsoft",icon:()=>null};class H{oauth2;configApi;environment;provider;oauthRequestApi;discoveryApi;scopeTransform;static MicrosoftGraphID="00000003-0000-0000-c000-000000000000";static create(e){return new H(e)}constructor(e){const{configApi:r,environment:n="development",provider:a=Is,oauthRequestApi:i,discoveryApi:s,defaultScopes:o=["openid","offline_access","profile","email","User.Read"],scopeTransform:u=l=>l.concat("offline_access")}=e;this.configApi=r,this.environment=n,this.provider=a,this.oauthRequestApi=i,this.discoveryApi=s,this.scopeTransform=u,this.oauth2={[H.MicrosoftGraphID]:ne.create({configApi:this.configApi,discoveryApi:this.discoveryApi,oauthRequestApi:this.oauthRequestApi,provider:this.provider,environment:this.environment,scopeTransform:this.scopeTransform,defaultScopes:o})}}microsoftGraph(){return this.oauth2[H.MicrosoftGraphID]}static resourceForScopes(e){const r=[...new Set(e.split(" ").map(H.resourceForScope).filter(a=>a!=="openid"))];if(r.length>1)return Promise.reject(new Error(`Requested access token with scopes from multiple Azure resources: ${r.join(", ")}. Access tokens can only have a single audience.`));const n=r[0]??H.MicrosoftGraphID;return Promise.resolve(n)}static resourceForScope(e){const r=e.match(/^(?<resourceURI>.*)\/(?<scp>[^\/]*)$/)?.groups;if(r){const{resourceURI:n}=r;return n.replace(/^api:\/\//,"")}switch(e){case"email":case"openid":case"offline_access":case"profile":return"openid";default:return H.MicrosoftGraphID}}async getAccessToken(e,r){const n=e===void 0?H.MicrosoftGraphID:await H.resourceForScopes(Array.isArray(e)?e.join(" "):e);return n in this.oauth2||(this.oauth2[n]=ne.create({configApi:this.configApi,discoveryApi:this.discoveryApi,oauthRequestApi:this.oauthRequestApi,provider:this.provider,environment:this.environment,scopeTransform:this.scopeTransform})),this.oauth2[n].getAccessToken(e,r)}getIdToken(e){return this.microsoftGraph().getIdToken(e)}getProfile(e){return this.microsoftGraph().getProfile(e)}getBackstageIdentity(e){return this.microsoftGraph().getBackstageIdentity(e)}signIn(){return this.microsoftGraph().signIn()}signOut(){return this.microsoftGraph().signOut()}sessionState$(){return this.microsoftGraph().sessionState$()}}const Es={id:"onelogin",title:"onelogin",icon:()=>null},Ss=new Set(["openid","profile","email","phone","address","groups","offline_access"]),Kt="onelogin.";class ks{static create(e){const{configApi:r,discoveryApi:n,environment:a="development",provider:i=Es,oauthRequestApi:s}=e;return ne.create({configApi:r,discoveryApi:n,oauthRequestApi:s,provider:i,environment:a,defaultScopes:["openid","email","profile","offline_access"],scopeTransform(o){return o.map(u=>Ss.has(u)||u.startsWith(Kt)?u:`${Kt}${u}`)}})}}const xs={id:"bitbucket",title:"Bitbucket",icon:()=>null};class Os{static create(e){const{configApi:r,discoveryApi:n,environment:a="development",provider:i=xs,oauthRequestApi:s,defaultScopes:o=["account"]}=e;return ne.create({configApi:r,discoveryApi:n,oauthRequestApi:s,provider:i,environment:a,defaultScopes:o})}}const Fs={id:"atlassian",title:"Atlassian",icon:()=>null};class js{static create(e){const{configApi:r,discoveryApi:n,environment:a="development",provider:i=Fs,oauthRequestApi:s}=e;return ne.create({configApi:r,discoveryApi:n,oauthRequestApi:s,provider:i,environment:a})}}class $s{captureEvent(e){}}const Z="theme";class St{constructor(e){this.themes=e}static createWithStorage(e){const r=new St(e);if(!window.localStorage)return r;const n=window.localStorage.getItem(Z)??void 0;r.setActiveThemeId(n);const a=r.activeThemeId$().subscribe(s=>{s?window.localStorage.setItem(Z,s):window.localStorage.removeItem(Z)}),i=s=>{if(s.key===Z){const o=localStorage.getItem(Z)??void 0;r.setActiveThemeId(o)}};return window.addEventListener("storage",i),r.#e=a,r.#r=i,r}activeThemeId;subject=new Oi(void 0);#e;#r;getInstalledThemes(){return this.themes.slice()}activeThemeId$(){return this.subject}getActiveThemeId(){return this.activeThemeId}setActiveThemeId(e){this.activeThemeId=e,this.subject.next(e)}dispose(){this.#e&&(this.#e.unsubscribe(),this.#e=void 0),this.#r&&(window.removeEventListener("storage",this.#r),this.#r=void 0)}}const se="Invalid discovery URL pattern,";class kt{constructor(e){this.parts=e}static compile(e){const r=e.split(/\{\{\s*pluginId\s*\}\}/),n=r.join("pluginId");let a;try{a=new URL(n)}catch{throw new Error(`${se} URL '${n}' is invalid`)}if(a.hash)throw new Error(`${se} URL must not have a hash`);if(a.search)throw new Error(`${se} URL must not have a query`);if(n.endsWith("/"))throw new Error(`${se} URL must not end with a slash`);return new kt(r)}async getBaseUrl(e){return this.parts.join(encodeURIComponent(e))}}class Bs{static forward(e,r){window.addEventListener("unhandledrejection",n=>{e.post(n.reason,r)})}}function Ds(t){let e=t.baseImplementation||globalThis.fetch;const r=[t.middleware??[]].flat().reverse();for(const n of r)e=n.apply(e);return{fetch:e}}class be{static create(e){const r=Ms(e),n=e.header?.name||"authorization",a=e.header?.value||(i=>`Bearer ${i}`);return new be(e.identityApi,r,n,a)}static getDiscoveryUrlPrefixes(e){return(e.getOptionalConfigArray("discovery.endpoints")||[]).flatMap(n=>{const a=typeof n.get("target")=="object"?n.getString("target.external"):n.getString("target");return n.getStringArray("plugins").map(s=>a.replace(/\{\{\s*pluginId\s*\}\}/g,s))})}identityApi;allowUrl;headerName;headerValue;constructor(e,r,n,a){this.identityApi=e,this.allowUrl=r,this.headerName=n,this.headerValue=a}apply(e){return async(r,n)=>{const a=new Request(r,n),{token:i}=await this.identityApi.getCredentials();return a.headers.get(this.headerName)||typeof i!="string"||!i||!this.allowUrl(a.url)?e(r,n):(a.headers.set(this.headerName,this.headerValue(i)),e(a))}}}function Ms(t){return t.allowUrl?t.allowUrl:t.urlPrefixAllowlist?Wt(t.urlPrefixAllowlist):t.config?Wt([t.config.getString("backend.baseUrl"),...be.getDiscoveryUrlPrefixes(t.config)]):()=>!1}function Wt(t){const e=t.map(r=>r.replace(/\/$/,""));return r=>e.some(n=>r===n||r.startsWith(`${n}/`))}function Us(t,e){return!e||e==="/"?t:`${t.replace(/\/$/,"")}/${e.replace(/^\//,"")}`}class Ls{constructor(e){this.discoveryApi=e}apply(e){return async(r,n)=>{const a=new Request(r,n),i="plugin://";if(!a.url.startsWith(i))return e(r,n);const{hostname:s,pathname:o,search:u,hash:l,username:p,password:d}=new URL(`http://${a.url.substring(i.length)}`);let h=await this.discoveryApi.getBaseUrl(s);if(p||d){const b=new URL(h),g=`${p}${d?`:${d}`:""}@`;h=`${b.protocol}//${g}${b.host}${b.pathname}`}const y=`${Us(h,o)}${u}${l}`;return e(y,typeof r=="string"||Ns(r)?n:r)}}}function Ns(t){return typeof t=="object"&&t?.constructor===URL}class fi{static resolvePluginProtocol(e){return new Ls(e.discoveryApi)}static injectIdentityAuth(e){return be.create(e)}constructor(){}}const di=D.createContext(void 0);function fe(){const[t]=vs(m.jsx(pe,{index:!0,element:m.jsx("div",{})}));return!t.index}const Gs=(t,e)=>{try{const n=li(e,{pathname:t})?.filter(u=>u?.route.routeRefs?.size>0).pop(),a=n?.route;if(!a||a.path===""&&t!=="/")return;let i;a.routeRefs.size===1&&(i=a.routeRefs.values().next().value);let s;a.plugins.size===1&&(s=a.plugins.values().next().value);const o=Object.entries(n?.params||{}).reduce((u,[l,p])=>(p!==void 0&&l!=="*"&&(u[l]=p),u),{});return{extension:"App",pluginId:s?.getId()||"root",...i?{routeRef:i.id}:{},_routeNodeType:a.element,params:o}}catch{return}},Hs=({pathname:t,search:e,hash:r,attributes:n})=>{const a=fs();return D.useEffect(()=>{a.captureEvent("navigate",`${t}${e}${r}`,{attributes:n})},[a,t,e,r,n]),null},ee=({routeObjects:t})=>{const{pathname:e,search:r,hash:n}=bs(),{params:a,...i}=Gs(e,t)||{params:{}};return m.jsx(ps,{attributes:i,children:m.jsx(Hs,{pathname:e,search:r,hash:n,attributes:a})})};ee.__docgenInfo={description:`Logs a "navigate" event with appropriate plugin-level analytics context
attributes each time the user navigates to a page.`,methods:[],displayName:"RouteTracker",props:{routeObjects:{required:!0,tsType:{name:"Array",elements:[{name:"BackstageRouteObject"}],raw:"BackstageRouteObject[]"},description:""}}};function Ks(t){return fe()?xt(t):""}function xt(t){let{pathname:e}=new URL(t.getOptionalString("app.baseUrl")??"/","http://sample.dev");return e=e.replace(/\/*$/,""),e}function zt({component:t,appIdentityProxy:e,children:r}){const[n,a]=D.useState(),i=ye(L),s=xt(i);return n?(e.setTarget(n,{signOutTargetUrl:s||"/"}),m.jsx(m.Fragment,{children:r})):m.jsx(t,{onSignInSuccess:a})}function Ot(t){const{Router:e,SignInPage:r}=Rs().getComponents(),n=ye(L),a=xt(n),i=`${a}/*`,s=D.useContext(di);if(!s)throw new Error("AppRouter must be rendered within the AppProvider");const{routeObjects:o,appIdentityProxy:u}=s;return r?fe()?m.jsxs(e,{children:[m.jsx(ee,{routeObjects:o}),m.jsx(zt,{component:r,appIdentityProxy:u,children:m.jsx(Gt,{children:m.jsx(pe,{path:i,element:m.jsx(m.Fragment,{children:t.children})})})})]}):m.jsxs(e,{basename:a,children:[m.jsx(ee,{routeObjects:o}),m.jsx(zt,{component:r,appIdentityProxy:u,children:t.children})]}):(u.setTarget({getUserId:()=>"guest",getIdToken:async()=>{},getProfile:()=>({email:"guest@example.com",displayName:"Guest"}),getProfileInfo:async()=>({email:"guest@example.com",displayName:"Guest"}),getBackstageIdentity:async()=>({type:"user",userEntityRef:"user:default/guest",ownershipEntityRefs:["user:default/guest"]}),getCredentials:async()=>({}),signOut:async()=>{}},{signOutTargetUrl:a||"/"}),fe()?m.jsxs(e,{children:[m.jsx(ee,{routeObjects:o}),m.jsx(Gt,{children:m.jsx(pe,{path:i,element:m.jsx(m.Fragment,{children:t.children})})})]}):m.jsxs(e,{basename:a,children:[m.jsx(ee,{routeObjects:o}),t.children]}))}le(Ot,"core.type","AppRouter");Ot.__docgenInfo={description:`App router and sign-in page wrapper.

@public
@remarks

The AppRouter provides the routing context and renders the sign-in page.
Until the user has successfully signed in, this component will render
the sign-in page. Once the user has signed-in, it will instead render
the app, while providing routing and route tracking for the app.`,methods:[],displayName:"AppRouter",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};function Ws(t){const e={};for(const n in t.collectors)t.collectors.hasOwnProperty(n)&&(e[n]=t.collectors[n]());const r=[{node:D.Children.toArray(t.root),parent:void 0,contexts:{}}];for(;r.length!==0;){const{node:n,parent:a,contexts:i}=r.shift();D.Children.forEach(n,s=>{if(!D.isValidElement(s))return;const o={};for(const u in e)if(e.hasOwnProperty(u)){const l=e[u];o[u]=l.visit(l.accumulator,s,a,i[u])}for(const u of t.discoverers){const l=u(s);l&&r.push({node:l,parent:s,contexts:o})}})}return Object.fromEntries(Object.entries(e).map(([n,a])=>[n,a.accumulator]))}function we(t,e){return()=>({accumulator:t(),visit:e})}function zs(t){return t.props?.children}function Vs(t){if(t.props?.path&&t.props?.element)return t.props?.element}const Js=we(()=>new Set,(t,e)=>{const r=N(e,"core.plugin");r&&t.add(r)}),Ft=t=>{const{children:e}=t,r=ye(Ct),n="with"in t?r.isActive(t.with):!r.isActive(t.without);return m.jsx(m.Fragment,{children:n?e:null})};le(Ft,"core.featureFlagged",!0);Ft.__docgenInfo={description:`Enables or disables rendering of its children based on the state of a given
feature flag.

@public`,methods:[],displayName:"FeatureFlagged",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const de={caseSensitive:!1,path:"*",element:"match-all",routeRefs:new Set,plugins:new Set};function oe(t){const e=t;return e?.type?e.type.displayName??e.type.name??String(e.type):String(e)}const hi=t=>{const e=new Set;return t&&e.add(t),e};function gi(t,e=new Array){return D.Children.forEach(t,r=>{if(!D.isValidElement(r))return;const n=N(r,"core.mountPoint");if(n){const a=N(r,"core.plugin");e.push({routeRef:n,plugin:a})}gi(r.props.children,e)}),e}const Xs=we(()=>({paths:new Map,parents:new Map,objects:new Array}),(t,e,r,n)=>{if(n?.isElementAncestor)return n;if(r?.props.element===e)return{...n,isElementAncestor:!0};const a=e.props?.path,i=N(e,"core.mountPoint");if(i&&a)throw new Error(`Path property may not be set directly on a routable extension "${oe(e)}"`);const s=n?.obj?.children??t.objects;if(a!==void 0){if(typeof a!="string")throw new Error(`Element path must be a string at "${oe(e)}"`);const o=a.startsWith("/")?a.slice(1):a,u=e.props.element;if(N(e,"core.gatherMountPoints")){if(u)throw new Error(`Mount point gatherers may not have an element prop "${oe(e)}"`);const l={path:o,element:"gathered",routeRefs:new Set,caseSensitive:!!e.props?.caseSensitive,children:[de],plugins:new Set};return s.push(l),{obj:l,gatherPath:o,routeRef:n?.routeRef,gatherRouteRef:n?.routeRef}}if(u){const[l,...p]=gi(u);if(p.length>0)throw new Error(`Route element with path "${a}" may not contain multiple routable extensions`);if(!l)return n;const{routeRef:d,plugin:h}=l,y={path:o,element:"mounted",routeRefs:new Set([d]),caseSensitive:!!e.props?.caseSensitive,children:[de],plugins:hi(h)};return s.push(y),t.paths.set(d,o),t.parents.set(d,n?.routeRef),{obj:y,routeRef:d??n?.routeRef,gatherPath:o,gatherRouteRef:n?.gatherRouteRef}}}if(i){if(n?.gatherPath===void 0)throw new Error(`Routable extension "${oe(e)}" with mount point "${i}" must be assigned a path`);n?.obj?.routeRefs.add(i);const o=N(e,"core.plugin");return o&&n?.obj?.plugins.add(o),t.paths.set(i,n.gatherPath),t.parents.set(i,n?.gatherRouteRef),{...n,routeRef:i}}return n}),Ys=we(()=>({paths:new Map,parents:new Map,objects:new Array}),(t,e,r,n)=>{if(r?.props.element===e)return n;let a=n?.obj,i=n?.routeRef,s=n?.sticky;const o=e.props?.path,u=a?.children??t.objects,l=!!e.props?.caseSensitive;let p=n?.path;if(N(e,"core.gatherMountPoints")){if(!o)throw new Error("Mount point gatherer must have a path");p=o}const d=e.props?.element;let h=N(e,"core.mountPoint");if(!h&&D.isValidElement(d)&&(h=N(d,"core.mountPoint")),h){let b=o;if(p&&(b?p=void 0:b=p),!b)throw new Error("Mounted routable extension must have a path");t.paths.set(h,b),i&&s?(t.parents.set(h,i),o&&(i=h,s=!1)):(t.parents.set(h,i),i=h),o?(a={caseSensitive:l,path:o,element:"mounted",routeRefs:new Set([h]),children:[de],plugins:hi(N(e.props.element,"core.plugin"))},u.push(a)):a?.routeRefs.add(h)}if(N(e,"core.gatherMountPoints")&&(s=!0),N(e,"core.gatherMountPoints")){if(!o)throw new Error("Mount point gatherer must have a path");h||(a={caseSensitive:l,path:o,element:"gathered",routeRefs:new Set,children:[de],plugins:n?.obj?.plugins||new Set},u.push(a))}return{obj:a,path:p,routeRef:i,sticky:s}}),Zs=we(()=>new Set,(t,e)=>{if(e.type===Ft){const r=e.props;t.add("with"in r?r.with:r.without)}}),ae=ri("route-ref-type",()=>Symbol("route-ref-type"));function Vt(t){return t[ae]==="absolute"}function Jt(t){return t[ae]==="sub"}function Qs(t){return t[ae]==="external"}function _e(...t){const e=t.join("/").replace(/\/\/+/g,"/");return e!=="/"&&e.endsWith("/")?e.slice(0,-1):e}var Ee,Xt;function yi(){if(Xt)return Ee;Xt=1;var t=me(),e=It(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var u=t(o);return u==n||u==a||u==r||u==i}return Ee=s,Ee}var Se,Yt;function eo(){if(Yt)return Se;Yt=1;var t=W(),e=t["__core-js_shared__"];return Se=e,Se}var ke,Zt;function ro(){if(Zt)return ke;Zt=1;var t=eo(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return ke=r,ke}var xe,Qt;function mi(){if(Qt)return xe;Qt=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return xe=r,xe}var Oe,en;function to(){if(en)return Oe;en=1;var t=yi(),e=ro(),r=It(),n=mi(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,l=o.hasOwnProperty,p=RegExp("^"+u.call(l).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!r(h)||e(h))return!1;var y=t(h)?p:i;return y.test(n(h))}return Oe=d,Oe}var Fe,rn;function no(){if(rn)return Fe;rn=1;function t(e,r){return e?.[r]}return Fe=t,Fe}var je,tn;function X(){if(tn)return je;tn=1;var t=to(),e=no();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return je=r,je}var $e,nn;function ao(){if(nn)return $e;nn=1;var t=X(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return $e=e,$e}var Be,an;function io(){if(an)return Be;an=1;var t=ao();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Be=e,Be}var De,sn;function so(){if(sn)return De;sn=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),o=a(r),u=o.length;u--;){var l=o[e?u:++i];if(n(s[l],l,s)===!1)break}return r}}return De=t,De}var Me,on;function oo(){if(on)return Me;on=1;var t=so(),e=t();return Me=e,Me}var Ue,un;function uo(){if(un)return Ue;un=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Ue=t,Ue}var Le,cn;function co(){if(cn)return Le;cn=1;var t=me(),e=ve(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Le=n,Le}var Ne,ln;function vi(){if(ln)return Ne;ln=1;var t=co(),e=ve(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return Ne=i,Ne}var re={exports:{}},Ge,pn;function lo(){if(pn)return Ge;pn=1;function t(){return!1}return Ge=t,Ge}re.exports;var fn;function bi(){return fn||(fn=1,(function(t,e){var r=W(),n=lo(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?r.Buffer:void 0,u=o?o.isBuffer:void 0,l=u||n;t.exports=l})(re,re.exports)),re.exports}var He,dn;function wi(){if(dn)return He;dn=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return He=r,He}var Ke,hn;function jt(){if(hn)return Ke;hn=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Ke=e,Ke}var We,gn;function po(){if(gn)return We;gn=1;var t=me(),e=jt(),r=ve(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",u="[object Function]",l="[object Map]",p="[object Number]",d="[object Object]",h="[object RegExp]",y="[object Set]",b="[object String]",g="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",v="[object Float32Array]",E="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",A="[object Int32Array]",q="[object Uint8Array]",$="[object Uint8ClampedArray]",k="[object Uint16Array]",U="[object Uint32Array]",P={};P[v]=P[E]=P[C]=P[O]=P[A]=P[q]=P[$]=P[k]=P[U]=!0,P[n]=P[a]=P[w]=P[i]=P[_]=P[s]=P[o]=P[u]=P[l]=P[p]=P[d]=P[h]=P[y]=P[b]=P[g]=!1;function F(M){return r(M)&&e(M.length)&&!!P[t(M)]}return We=F,We}var ze,yn;function fo(){if(yn)return ze;yn=1;function t(e){return function(r){return e(r)}}return ze=t,ze}var te={exports:{}};te.exports;var mn;function ho(){return mn||(mn=1,(function(t,e){var r=gs(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,o=(function(){try{var u=a&&a.require&&a.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(te,te.exports)),te.exports}var Ve,vn;function _i(){if(vn)return Ve;vn=1;var t=po(),e=fo(),r=ho(),n=r&&r.isTypedArray,a=n?e(n):t;return Ve=a,Ve}var Je,bn;function go(){if(bn)return Je;bn=1;var t=uo(),e=vi(),r=J(),n=bi(),a=wi(),i=_i(),s=Object.prototype,o=s.hasOwnProperty;function u(l,p){var d=r(l),h=!d&&e(l),y=!d&&!h&&n(l),b=!d&&!h&&!y&&i(l),g=d||h||y||b,w=g?t(l.length,String):[],_=w.length;for(var v in l)(p||o.call(l,v))&&!(g&&(v=="length"||y&&(v=="offset"||v=="parent")||b&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||a(v,_)))&&w.push(v);return w}return Je=u,Je}var Xe,wn;function yo(){if(wn)return Xe;wn=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Xe=e,Xe}var Ye,_n;function mo(){if(_n)return Ye;_n=1;function t(e,r){return function(n){return e(r(n))}}return Ye=t,Ye}var Ze,Rn;function vo(){if(Rn)return Ze;Rn=1;var t=mo(),e=t(Object.keys,Object);return Ze=e,Ze}var Qe,An;function bo(){if(An)return Qe;An=1;var t=yo(),e=vo(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return Qe=a,Qe}var er,qn;function wo(){if(qn)return er;qn=1;var t=yi(),e=jt();function r(n){return n!=null&&e(n.length)&&!t(n)}return er=r,er}var rr,Pn;function $t(){if(Pn)return rr;Pn=1;var t=go(),e=bo(),r=wo();function n(a){return r(a)?t(a):e(a)}return rr=n,rr}var tr,Tn;function _o(){if(Tn)return tr;Tn=1;var t=oo(),e=$t();function r(n,a){return n&&t(n,a,e)}return tr=r,tr}var nr,Cn;function Ro(){if(Cn)return nr;Cn=1;function t(){this.__data__=[],this.size=0}return nr=t,nr}var ar,In;function Ri(){if(In)return ar;In=1;function t(e,r){return e===r||e!==e&&r!==r}return ar=t,ar}var ir,En;function Re(){if(En)return ir;En=1;var t=Ri();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return ir=e,ir}var sr,Sn;function Ao(){if(Sn)return sr;Sn=1;var t=Re(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return sr=n,sr}var or,kn;function qo(){if(kn)return or;kn=1;var t=Re();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return or=e,or}var ur,xn;function Po(){if(xn)return ur;xn=1;var t=Re();function e(r){return t(this.__data__,r)>-1}return ur=e,ur}var cr,On;function To(){if(On)return cr;On=1;var t=Re();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return cr=e,cr}var lr,Fn;function Ae(){if(Fn)return lr;Fn=1;var t=Ro(),e=Ao(),r=qo(),n=Po(),a=To();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,lr=i,lr}var pr,jn;function Co(){if(jn)return pr;jn=1;var t=Ae();function e(){this.__data__=new t,this.size=0}return pr=e,pr}var fr,$n;function Io(){if($n)return fr;$n=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return fr=t,fr}var dr,Bn;function Eo(){if(Bn)return dr;Bn=1;function t(e){return this.__data__.get(e)}return dr=t,dr}var hr,Dn;function So(){if(Dn)return hr;Dn=1;function t(e){return this.__data__.has(e)}return hr=t,hr}var gr,Mn;function Bt(){if(Mn)return gr;Mn=1;var t=X(),e=W(),r=t(e,"Map");return gr=r,gr}var yr,Un;function qe(){if(Un)return yr;Un=1;var t=X(),e=t(Object,"create");return yr=e,yr}var mr,Ln;function ko(){if(Ln)return mr;Ln=1;var t=qe();function e(){this.__data__=t?t(null):{},this.size=0}return mr=e,mr}var vr,Nn;function xo(){if(Nn)return vr;Nn=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return vr=t,vr}var br,Gn;function Oo(){if(Gn)return br;Gn=1;var t=qe(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return n.call(s,i)?s[i]:void 0}return br=a,br}var wr,Hn;function Fo(){if(Hn)return wr;Hn=1;var t=qe(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return wr=n,wr}var _r,Kn;function jo(){if(Kn)return _r;Kn=1;var t=qe(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return _r=r,_r}var Rr,Wn;function $o(){if(Wn)return Rr;Wn=1;var t=ko(),e=xo(),r=Oo(),n=Fo(),a=jo();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Rr=i,Rr}var Ar,zn;function Bo(){if(zn)return Ar;zn=1;var t=$o(),e=Ae(),r=Bt();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ar=n,Ar}var qr,Vn;function Do(){if(Vn)return qr;Vn=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return qr=t,qr}var Pr,Jn;function Pe(){if(Jn)return Pr;Jn=1;var t=Do();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Pr=e,Pr}var Tr,Xn;function Mo(){if(Xn)return Tr;Xn=1;var t=Pe();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Tr=e,Tr}var Cr,Yn;function Uo(){if(Yn)return Cr;Yn=1;var t=Pe();function e(r){return t(this,r).get(r)}return Cr=e,Cr}var Ir,Zn;function Lo(){if(Zn)return Ir;Zn=1;var t=Pe();function e(r){return t(this,r).has(r)}return Ir=e,Ir}var Er,Qn;function No(){if(Qn)return Er;Qn=1;var t=Pe();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Er=e,Er}var Sr,ea;function Dt(){if(ea)return Sr;ea=1;var t=Bo(),e=Mo(),r=Uo(),n=Lo(),a=No();function i(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var l=s[o];this.set(l[0],l[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Sr=i,Sr}var kr,ra;function Go(){if(ra)return kr;ra=1;var t=Ae(),e=Bt(),r=Dt(),n=200;function a(i,s){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<n-1)return u.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(u)}return o.set(i,s),this.size=o.size,this}return kr=a,kr}var xr,ta;function Ai(){if(ta)return xr;ta=1;var t=Ae(),e=Co(),r=Io(),n=Eo(),a=So(),i=Go();function s(o){var u=this.__data__=new t(o);this.size=u.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,xr=s,xr}var Or,na;function Ho(){if(na)return Or;na=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Or=e,Or}var Fr,aa;function Ko(){if(aa)return Fr;aa=1;function t(e){return this.__data__.has(e)}return Fr=t,Fr}var jr,ia;function Wo(){if(ia)return jr;ia=1;var t=Dt(),e=Ho(),r=Ko();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,jr=n,jr}var $r,sa;function zo(){if(sa)return $r;sa=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return $r=t,$r}var Br,oa;function Vo(){if(oa)return Br;oa=1;function t(e,r){return e.has(r)}return Br=t,Br}var Dr,ua;function qi(){if(ua)return Dr;ua=1;var t=Wo(),e=zo(),r=Vo(),n=1,a=2;function i(s,o,u,l,p,d){var h=u&n,y=s.length,b=o.length;if(y!=b&&!(h&&b>y))return!1;var g=d.get(s),w=d.get(o);if(g&&w)return g==o&&w==s;var _=-1,v=!0,E=u&a?new t:void 0;for(d.set(s,o),d.set(o,s);++_<y;){var C=s[_],O=o[_];if(l)var A=h?l(O,C,_,o,s,d):l(C,O,_,s,o,d);if(A!==void 0){if(A)continue;v=!1;break}if(E){if(!e(o,function(q,$){if(!r(E,$)&&(C===q||p(C,q,u,l,d)))return E.push($)})){v=!1;break}}else if(!(C===O||p(C,O,u,l,d))){v=!1;break}}return d.delete(s),d.delete(o),v}return Dr=i,Dr}var Mr,ca;function Jo(){if(ca)return Mr;ca=1;var t=W(),e=t.Uint8Array;return Mr=e,Mr}var Ur,la;function Xo(){if(la)return Ur;la=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Ur=t,Ur}var Lr,pa;function Yo(){if(pa)return Lr;pa=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Lr=t,Lr}var Nr,fa;function Zo(){if(fa)return Nr;fa=1;var t=ys(),e=Jo(),r=Ri(),n=qi(),a=Xo(),i=Yo(),s=1,o=2,u="[object Boolean]",l="[object Date]",p="[object Error]",d="[object Map]",h="[object Number]",y="[object RegExp]",b="[object Set]",g="[object String]",w="[object Symbol]",_="[object ArrayBuffer]",v="[object DataView]",E=t?t.prototype:void 0,C=E?E.valueOf:void 0;function O(A,q,$,k,U,P,F){switch($){case v:if(A.byteLength!=q.byteLength||A.byteOffset!=q.byteOffset)return!1;A=A.buffer,q=q.buffer;case _:return!(A.byteLength!=q.byteLength||!P(new e(A),new e(q)));case u:case l:case h:return r(+A,+q);case p:return A.name==q.name&&A.message==q.message;case y:case g:return A==q+"";case d:var M=a;case b:var z=k&s;if(M||(M=i),A.size!=q.size&&!z)return!1;var c=F.get(A);if(c)return c==q;k|=o,F.set(A,q);var f=n(M(A),M(q),k,U,P,F);return F.delete(A),f;case w:if(C)return C.call(A)==C.call(q)}return!1}return Nr=O,Nr}var Gr,da;function Qo(){if(da)return Gr;da=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Gr=t,Gr}var Hr,ha;function eu(){if(ha)return Hr;ha=1;var t=Qo(),e=J();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return Hr=r,Hr}var Kr,ga;function ru(){if(ga)return Kr;ga=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var o=e[n];r(o,n,e)&&(s[i++]=o)}return s}return Kr=t,Kr}var Wr,ya;function tu(){if(ya)return Wr;ya=1;function t(){return[]}return Wr=t,Wr}var zr,ma;function nu(){if(ma)return zr;ma=1;var t=ru(),e=tu(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(o){return n.call(s,o)}))}:e;return zr=i,zr}var Vr,va;function au(){if(va)return Vr;va=1;var t=eu(),e=nu(),r=$t();function n(a){return t(a,r,e)}return Vr=n,Vr}var Jr,ba;function iu(){if(ba)return Jr;ba=1;var t=au(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o,u,l,p){var d=o&e,h=t(i),y=h.length,b=t(s),g=b.length;if(y!=g&&!d)return!1;for(var w=y;w--;){var _=h[w];if(!(d?_ in s:n.call(s,_)))return!1}var v=p.get(i),E=p.get(s);if(v&&E)return v==s&&E==i;var C=!0;p.set(i,s),p.set(s,i);for(var O=d;++w<y;){_=h[w];var A=i[_],q=s[_];if(u)var $=d?u(q,A,_,s,i,p):u(A,q,_,i,s,p);if(!($===void 0?A===q||l(A,q,o,u,p):$)){C=!1;break}O||(O=_=="constructor")}if(C&&!O){var k=i.constructor,U=s.constructor;k!=U&&"constructor"in i&&"constructor"in s&&!(typeof k=="function"&&k instanceof k&&typeof U=="function"&&U instanceof U)&&(C=!1)}return p.delete(i),p.delete(s),C}return Jr=a,Jr}var Xr,wa;function su(){if(wa)return Xr;wa=1;var t=X(),e=W(),r=t(e,"DataView");return Xr=r,Xr}var Yr,_a;function ou(){if(_a)return Yr;_a=1;var t=X(),e=W(),r=t(e,"Promise");return Yr=r,Yr}var Zr,Ra;function uu(){if(Ra)return Zr;Ra=1;var t=X(),e=W(),r=t(e,"Set");return Zr=r,Zr}var Qr,Aa;function cu(){if(Aa)return Qr;Aa=1;var t=X(),e=W(),r=t(e,"WeakMap");return Qr=r,Qr}var et,qa;function lu(){if(qa)return et;qa=1;var t=su(),e=Bt(),r=ou(),n=uu(),a=cu(),i=me(),s=mi(),o="[object Map]",u="[object Object]",l="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",y=s(t),b=s(e),g=s(r),w=s(n),_=s(a),v=i;return(t&&v(new t(new ArrayBuffer(1)))!=h||e&&v(new e)!=o||r&&v(r.resolve())!=l||n&&v(new n)!=p||a&&v(new a)!=d)&&(v=function(E){var C=i(E),O=C==u?E.constructor:void 0,A=O?s(O):"";if(A)switch(A){case y:return h;case b:return o;case g:return l;case w:return p;case _:return d}return C}),et=v,et}var rt,Pa;function pu(){if(Pa)return rt;Pa=1;var t=Ai(),e=qi(),r=Zo(),n=iu(),a=lu(),i=J(),s=bi(),o=_i(),u=1,l="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype,y=h.hasOwnProperty;function b(g,w,_,v,E,C){var O=i(g),A=i(w),q=O?p:a(g),$=A?p:a(w);q=q==l?d:q,$=$==l?d:$;var k=q==d,U=$==d,P=q==$;if(P&&s(g)){if(!s(w))return!1;O=!0,k=!1}if(P&&!k)return C||(C=new t),O||o(g)?e(g,w,_,v,E,C):r(g,w,q,_,v,E,C);if(!(_&u)){var F=k&&y.call(g,"__wrapped__"),M=U&&y.call(w,"__wrapped__");if(F||M){var z=F?g.value():g,c=M?w.value():w;return C||(C=new t),E(z,c,_,v,C)}}return P?(C||(C=new t),n(g,w,_,v,E,C)):!1}return rt=b,rt}var tt,Ta;function Pi(){if(Ta)return tt;Ta=1;var t=pu(),e=ve();function r(n,a,i,s,o){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,o)}return tt=r,tt}var nt,Ca;function fu(){if(Ca)return nt;Ca=1;var t=Ai(),e=Pi(),r=1,n=2;function a(i,s,o,u){var l=o.length,p=l,d=!u;if(i==null)return!p;for(i=Object(i);l--;){var h=o[l];if(d&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++l<p;){h=o[l];var y=h[0],b=i[y],g=h[1];if(d&&h[2]){if(b===void 0&&!(y in i))return!1}else{var w=new t;if(u)var _=u(b,g,y,i,s,w);if(!(_===void 0?e(g,b,r|n,u,w):_))return!1}}return!0}return nt=a,nt}var at,Ia;function Ti(){if(Ia)return at;Ia=1;var t=It();function e(r){return r===r&&!t(r)}return at=e,at}var it,Ea;function du(){if(Ea)return it;Ea=1;var t=Ti(),e=$t();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],o=n[s];a[i]=[s,o,t(o)]}return a}return it=r,it}var st,Sa;function Ci(){if(Sa)return st;Sa=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return st=t,st}var ot,ka;function hu(){if(ka)return ot;ka=1;var t=fu(),e=du(),r=Ci();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return ot=n,ot}var ut,xa;function Mt(){if(xa)return ut;xa=1;var t=J(),e=ci(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return ut=a,ut}var ct,Oa;function gu(){if(Oa)return ct;Oa=1;var t=Dt(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],u=i.cache;if(u.has(o))return u.get(o);var l=n.apply(this,s);return i.cache=u.set(o,l)||u,l};return i.cache=new(r.Cache||t),i}return r.Cache=t,ct=r,ct}var lt,Fa;function yu(){if(Fa)return lt;Fa=1;var t=gu(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return lt=r,lt}var pt,ja;function mu(){if(ja)return pt;ja=1;var t=yu(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,u,l){i.push(u?l.replace(r,"$1"):o||s)}),i});return pt=n,pt}var ft,$a;function Ii(){if($a)return ft;$a=1;var t=J(),e=Mt(),r=mu(),n=ms();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return ft=a,ft}var dt,Ba;function Te(){if(Ba)return dt;Ba=1;var t=ci();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return dt=e,dt}var ht,Da;function Ei(){if(Da)return ht;Da=1;var t=Ii(),e=Te();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return ht=r,ht}var gt,Ma;function vu(){if(Ma)return gt;Ma=1;var t=Ei();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return gt=e,gt}var yt,Ua;function bu(){if(Ua)return yt;Ua=1;function t(e,r){return e!=null&&r in Object(e)}return yt=t,yt}var mt,La;function wu(){if(La)return mt;La=1;var t=Ii(),e=vi(),r=J(),n=wi(),a=jt(),i=Te();function s(o,u,l){u=t(u,o);for(var p=-1,d=u.length,h=!1;++p<d;){var y=i(u[p]);if(!(h=o!=null&&l(o,y)))break;o=o[y]}return h||++p!=d?h:(d=o==null?0:o.length,!!d&&a(d)&&n(y,d)&&(r(o)||e(o)))}return mt=s,mt}var vt,Na;function _u(){if(Na)return vt;Na=1;var t=bu(),e=wu();function r(n,a){return n!=null&&e(n,a,t)}return vt=r,vt}var bt,Ga;function Ru(){if(Ga)return bt;Ga=1;var t=Pi(),e=vu(),r=_u(),n=Mt(),a=Ti(),i=Ci(),s=Te(),o=1,u=2;function l(p,d){return n(p)&&a(d)?i(s(p),d):function(h){var y=e(h,p);return y===void 0&&y===d?r(h,p):t(d,y,o|u)}}return bt=l,bt}var wt,Ha;function Au(){if(Ha)return wt;Ha=1;function t(e){return e}return wt=t,wt}var _t,Ka;function qu(){if(Ka)return _t;Ka=1;function t(e){return function(r){return r?.[e]}}return _t=t,_t}var Rt,Wa;function Pu(){if(Wa)return Rt;Wa=1;var t=Ei();function e(r){return function(n){return t(n,r)}}return Rt=e,Rt}var At,za;function Tu(){if(za)return At;za=1;var t=qu(),e=Pu(),r=Mt(),n=Te();function a(i){return r(i)?t(n(i)):e(i)}return At=a,At}var qt,Va;function Cu(){if(Va)return qt;Va=1;var t=hu(),e=Ru(),r=Au(),n=J(),a=Tu();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return qt=i,qt}var Pt,Ja;function Iu(){if(Ja)return Pt;Ja=1;var t=io(),e=_o(),r=Cu();function n(a,i){var s={};return i=r(i,3),e(a,function(o,u,l){t(s,u,i(o,u,l))}),s}return Pt=n,Pt}var Eu=Iu();const Su=ti(Eu);function ku(t,e,r){let n,a="";if(Vt(t))n=t;else if(Jt(t))n=t.parent,a=t.path;else if(Qs(t)){const o=r.get(t);if(!o)return[void 0,""];if(Vt(o))n=o;else if(Jt(o))n=o.parent,a=o.path;else throw new Error(`ExternalRouteRef was bound to invalid target, ${o}`)}else throw t[ae]?new Error(`Unknown or invalid route ref type, ${t[ae]}`):new Error(`Unknown object passed to useRouteRef, got ${t}`);if(!n)return[void 0,""];const i=e.get(n);if(i===void 0)return[void 0,""];const s=_e(i,a);return[n,s]}function xu(t,e,r,n,a){const i=li(a,e)??[],s=Array();let o=-1;for(let p=t;p&&(o=i.findIndex(d=>d.route.routeRefs.has(p)),o===-1);p=n.get(p))s.unshift(p);s.length===0&&(o-=1);const u=o===-1?"":i[o].pathname,l=s.slice(0,-1).map(p=>{const d=r.get(p);if(d===void 0)throw new Error(`No path for ${p}`);if(d.includes(":"))throw new Error(`Cannot route to ${t} with parent ${p} as it has parameters`);return d});return`${_e(u,...l)}/`}class Ou{routePaths;routeParents;routeObjects;routeBindings;appBasePath;constructor(e,r,n,a,i){this.routePaths=e,this.routeParents=r,this.routeObjects=n,this.routeBindings=a,this.appBasePath=i}resolve(e,r){const[n,a]=ku(e,this.routePaths,this.routeBindings);if(!n)return;let i;typeof r=="string"?i=this.trimPath(r):r.pathname?i={...r,pathname:this.trimPath(r.pathname)}:i=r;const s=this.appBasePath+xu(n,i,this.routePaths,this.routeParents,this.routeObjects);return(...[u])=>{const l=u&&Su(u,p=>typeof p=="string"?p.replaceAll(/[&?#;\/]/g,d=>encodeURIComponent(d)):p);return _e(s,ws(a,l))}}trimPath(e){return e&&(e.startsWith(this.appBasePath)?e.slice(this.appBasePath.length):e)}}const Fu=ai("routing-context"),Si=({routePaths:t,routeParents:e,routeObjects:r,routeBindings:n,basePath:a="",children:i})=>{const s=new Ou(t,e,r,n,a),o=ni({1:s});return m.jsx(Fu.Provider,{value:o,children:i})};Si.__docgenInfo={description:"",methods:[],displayName:"RoutingProvider",props:{routePaths:{required:!0,tsType:{name:"Map",elements:[{name:"signature",type:"object",raw:`{
  /** @deprecated access to this property will be removed in the future */
  $$routeRefType: 'absolute'; // See routeRefType above

  /** @deprecated access to this property will be removed in the future */
  params: ParamKeys<Params>;

  /** Compatibility field for new frontend system */
  readonly $$type: '@backstage/RouteRef';
  /** Compatibility field for new frontend system */
  readonly T: Params;
}`,signature:{properties:[{key:"$$routeRefType",value:{name:"literal",value:"'absolute'",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"params",value:{name:"unknown",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"$$type",value:{name:"literal",value:"'@backstage/RouteRef'",required:!0},description:"Compatibility field for new frontend system"},{key:"T",value:{name:"Params",required:!0},description:"Compatibility field for new frontend system"}]}},{name:"string"}],raw:"Map<RouteRef, string>"},description:""},routeParents:{required:!0,tsType:{name:"Map",elements:[{name:"signature",type:"object",raw:`{
  /** @deprecated access to this property will be removed in the future */
  $$routeRefType: 'absolute'; // See routeRefType above

  /** @deprecated access to this property will be removed in the future */
  params: ParamKeys<Params>;

  /** Compatibility field for new frontend system */
  readonly $$type: '@backstage/RouteRef';
  /** Compatibility field for new frontend system */
  readonly T: Params;
}`,signature:{properties:[{key:"$$routeRefType",value:{name:"literal",value:"'absolute'",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"params",value:{name:"unknown",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"$$type",value:{name:"literal",value:"'@backstage/RouteRef'",required:!0},description:"Compatibility field for new frontend system"},{key:"T",value:{name:"Params",required:!0},description:"Compatibility field for new frontend system"}]}},{name:"union",raw:"RouteRef | undefined",elements:[{name:"signature",type:"object",raw:`{
  /** @deprecated access to this property will be removed in the future */
  $$routeRefType: 'absolute'; // See routeRefType above

  /** @deprecated access to this property will be removed in the future */
  params: ParamKeys<Params>;

  /** Compatibility field for new frontend system */
  readonly $$type: '@backstage/RouteRef';
  /** Compatibility field for new frontend system */
  readonly T: Params;
}`,signature:{properties:[{key:"$$routeRefType",value:{name:"literal",value:"'absolute'",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"params",value:{name:"unknown",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"$$type",value:{name:"literal",value:"'@backstage/RouteRef'",required:!0},description:"Compatibility field for new frontend system"},{key:"T",value:{name:"Params",required:!0},description:"Compatibility field for new frontend system"}]}},{name:"undefined"}]}],raw:"Map<RouteRef, RouteRef | undefined>"},description:""},routeObjects:{required:!0,tsType:{name:"Array",elements:[{name:"BackstageRouteObject"}],raw:"BackstageRouteObject[]"},description:""},routeBindings:{required:!0,tsType:{name:"Map",elements:[{name:"signature",type:"object",raw:`{
  /** @deprecated access to this property will be removed in the future */
  $$routeRefType: 'external'; // See routeRefType above

  /** @deprecated access to this property will be removed in the future */
  params: ParamKeys<Params>;

  optional?: Optional;

  /** Compatibility field for new frontend system */
  readonly $$type: '@backstage/ExternalRouteRef';
  /** Compatibility field for new frontend system */
  readonly T: Params;
}`,signature:{properties:[{key:"$$routeRefType",value:{name:"literal",value:"'external'",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"params",value:{name:"unknown",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"optional",value:{name:"Optional",required:!1}},{key:"$$type",value:{name:"literal",value:"'@backstage/ExternalRouteRef'",required:!0},description:"Compatibility field for new frontend system"},{key:"T",value:{name:"Params",required:!0},description:"Compatibility field for new frontend system"}]}},{name:"union",raw:"RouteRef | SubRouteRef",elements:[{name:"signature",type:"object",raw:`{
  /** @deprecated access to this property will be removed in the future */
  $$routeRefType: 'absolute'; // See routeRefType above

  /** @deprecated access to this property will be removed in the future */
  params: ParamKeys<Params>;

  /** Compatibility field for new frontend system */
  readonly $$type: '@backstage/RouteRef';
  /** Compatibility field for new frontend system */
  readonly T: Params;
}`,signature:{properties:[{key:"$$routeRefType",value:{name:"literal",value:"'absolute'",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"params",value:{name:"unknown",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"$$type",value:{name:"literal",value:"'@backstage/RouteRef'",required:!0},description:"Compatibility field for new frontend system"},{key:"T",value:{name:"Params",required:!0},description:"Compatibility field for new frontend system"}]},required:!0},{name:"signature",type:"object",raw:`{
  /** @deprecated access to this property will be removed in the future */
  $$routeRefType: 'sub'; // See routeRefType above

  /** @deprecated access to this property will be removed in the future */
  parent: RouteRef;

  path: string;

  /** @deprecated access to this property will be removed in the future */
  params: ParamKeys<Params>;

  /** Compatibility field for new frontend system */
  readonly $$type: '@backstage/SubRouteRef';
  /** Compatibility field for new frontend system */
  readonly T: Params;
}`,signature:{properties:[{key:"$$routeRefType",value:{name:"literal",value:"'sub'",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"parent",value:{name:"signature",type:"object",raw:`{
  /** @deprecated access to this property will be removed in the future */
  $$routeRefType: 'absolute'; // See routeRefType above

  /** @deprecated access to this property will be removed in the future */
  params: ParamKeys<Params>;

  /** Compatibility field for new frontend system */
  readonly $$type: '@backstage/RouteRef';
  /** Compatibility field for new frontend system */
  readonly T: Params;
}`,signature:{properties:[{key:"$$routeRefType",value:{name:"literal",value:"'absolute'",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"params",value:{name:"unknown",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"$$type",value:{name:"literal",value:"'@backstage/RouteRef'",required:!0},description:"Compatibility field for new frontend system"},{key:"T",value:{name:"Params",required:!0},description:"Compatibility field for new frontend system"}]},required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"path",value:{name:"string",required:!0}},{key:"params",value:{name:"unknown",required:!0},description:"@deprecated access to this property will be removed in the future"},{key:"$$type",value:{name:"literal",value:"'@backstage/SubRouteRef'",required:!0},description:"Compatibility field for new frontend system"},{key:"T",value:{name:"Params",required:!0},description:"Compatibility field for new frontend system"}]}}]}],raw:"Map<ExternalRouteRef, RouteRef | SubRouteRef>"},description:""},basePath:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};function ju(t,e){const r=new Set(e.values());r.delete(void 0);for(const n of e.keys()){if(r.has(n))continue;let a=n,i="";for(;a;){const o=t.get(a);if(o===void 0)throw new Error(`No path for ${a}`);i=_e(o,i),a=e.get(a)}const s=i.match(/:(\w+)/g);if(s){for(let o=0;o<s.length;o++)for(let u=o+1;u<s.length;u++)if(s[u]===s[o])throw new Error(`Parameter ${s[u]} is duplicated in path ${i}`)}}}function $u(t,e){for(const r of e)if(r.externalRoutes){for(const[n,a]of Object.entries(r.externalRoutes))if(!a.optional&&!t.has(a))throw new Error(`External route '${n}' of the '${r.getId()}' plugin must be bound to a target route. See https://backstage.io/link?bind-routes for details.`)}}const Bu=ai("app-context"),ki=({appContext:t,children:e})=>{const r=ni({1:t});return m.jsx(Bu.Provider,{value:r,children:e})};ki.__docgenInfo={description:"",methods:[],displayName:"AppContextProvider",props:{appContext:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * Get a list of all plugins that are installed in the app.
   */
  getPlugins(): BackstagePlugin[];

  /**
   * Get a common or custom icon for this app.
   */
  getSystemIcon(key: string): IconComponent | undefined;

  /**
   * Get a list of common and custom icons for this app.
   */
  getSystemIcons(): Record<string, IconComponent>;

  /**
   * Get the components registered for various purposes in the app.
   */
  getComponents(): AppComponents;
}`,signature:{properties:[{key:"getPlugins",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  getId(): string;
  getApis(): Iterable<AnyApiFactory>;
  /**
   * Returns all registered feature flags for this plugin.
   */
  getFeatureFlags(): Iterable<PluginFeatureFlagConfig>;
  provide<T>(extension: Extension<T>): T;
  routes: Routes;
  externalRoutes: ExternalRoutes;
}`,signature:{properties:[{key:"getId",value:{name:"string",required:!0}},{key:"getApis",value:{name:"Iterable",elements:[{name:"signature",type:"object",raw:`{
  api: ApiRef<Api>;
  deps: TypesToApiRefs<Deps>;
  factory(deps: Deps): Impl;
}`,signature:{properties:[{key:"api",value:{name:"signature",type:"object",raw:`{
  id: string;
  T: T;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"T",value:{name:"unknown",required:!0}}]},required:!0}},{key:"deps",value:{name:"signature",type:"object",raw:"{ [key in keyof T]: ApiRef<T[key]> }",signature:{properties:[{key:{name:"unknown",required:!0},value:{name:"signature",type:"object",raw:`{
  id: string;
  T: T;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"T",value:{name:"unknown",required:!0}}]},required:!0}}]},required:!0}},{key:"factory",value:{name:"unknown",required:!0}}]}}],raw:"Iterable<AnyApiFactory>",required:!0}},{key:"getFeatureFlags",value:{name:"Iterable",elements:[{name:"signature",type:"object",raw:`{
  /** Feature flag name */
  name: string;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0},description:"Feature flag name"}]}}],raw:"Iterable<PluginFeatureFlagConfig>",required:!0},description:"Returns all registered feature flags for this plugin."},{key:"provide",value:{name:"T",required:!0}},{key:"routes",value:{name:"Routes",required:!0}},{key:"externalRoutes",value:{name:"ExternalRoutes",required:!0}}]},required:!1}],raw:"BackstagePlugin[]",required:!0},description:"Get a list of all plugins that are installed in the app."},{key:"getSystemIcon",value:{name:"union",raw:"IconComponent | undefined",elements:[{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}`,signature:{properties:[{key:"fontSize",value:{name:"union",raw:"'medium' | 'large' | 'small' | 'inherit'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'small'"},{name:"literal",value:"'inherit'"}],required:!1}}]}}],raw:`ComponentType<{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}>`},{name:"undefined"}],required:!0},description:"Get a common or custom icon for this app."},{key:"getSystemIcons",value:{name:"Record",elements:[{name:"string"},{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}`,signature:{properties:[{key:"fontSize",value:{name:"union",raw:"'medium' | 'large' | 'small' | 'inherit'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'small'"},{name:"literal",value:"'inherit'"}],required:!1}}]}}],raw:`ComponentType<{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}>`}],raw:"Record<string, IconComponent>",required:!0},description:"Get a list of common and custom icons for this app."},{key:"getComponents",value:{name:"signature",type:"object",raw:`{
  NotFoundErrorPage: ComponentType<PropsWithChildren<{}>>;
  BootErrorPage: ComponentType<BootErrorPageProps>;
  Progress: ComponentType<PropsWithChildren<{}>>;
  Router: ComponentType<PropsWithChildren<{ basename?: string }>>;
  ErrorBoundaryFallback: ComponentType<ErrorBoundaryFallbackProps>;
  ThemeProvider?: ComponentType<PropsWithChildren<{}>>;

  /**
   * An optional sign-in page that will be rendered instead of the AppRouter at startup.
   *
   * If a sign-in page is set, it will always be shown before the app, and it is up
   * to the sign-in page to handle e.g. saving of login methods for subsequent visits.
   *
   * The sign-in page will be displayed until it has passed up a result to the parent,
   * and which point the AppRouter and all of its children will be rendered instead.
   */
  SignInPage?: ComponentType<SignInPageProps>;
}`,signature:{properties:[{key:"NotFoundErrorPage",value:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:"{}",signature:{properties:[]}}],raw:"PropsWithChildren<{}>"}],raw:"ComponentType<PropsWithChildren<{}>>",required:!0}},{key:"BootErrorPage",value:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  step: 'load-config' | 'load-chunk';
  error: Error;
}`,signature:{properties:[{key:"step",value:{name:"union",raw:"'load-config' | 'load-chunk'",elements:[{name:"literal",value:"'load-config'"},{name:"literal",value:"'load-chunk'"}],required:!0}},{key:"error",value:{name:"Error",required:!0}}]}}],raw:`PropsWithChildren<{
  step: 'load-config' | 'load-chunk';
  error: Error;
}>`}],raw:"ComponentType<BootErrorPageProps>",required:!0}},{key:"Progress",value:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:"{}",signature:{properties:[]}}],raw:"PropsWithChildren<{}>"}],raw:"ComponentType<PropsWithChildren<{}>>",required:!0}},{key:"Router",value:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:"{ basename?: string }",signature:{properties:[{key:"basename",value:{name:"string",required:!1}}]}}],raw:"PropsWithChildren<{ basename?: string }>"}],raw:"ComponentType<PropsWithChildren<{ basename?: string }>>",required:!0}},{key:"ErrorBoundaryFallback",value:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  plugin?: BackstagePlugin;
  error: Error;
  resetError: () => void;
}`,signature:{properties:[{key:"plugin",value:{name:"signature",type:"object",raw:`{
  getId(): string;
  getApis(): Iterable<AnyApiFactory>;
  /**
   * Returns all registered feature flags for this plugin.
   */
  getFeatureFlags(): Iterable<PluginFeatureFlagConfig>;
  provide<T>(extension: Extension<T>): T;
  routes: Routes;
  externalRoutes: ExternalRoutes;
}`,signature:{properties:[{key:"getId",value:{name:"string",required:!0}},{key:"getApis",value:{name:"Iterable",elements:[{name:"signature",type:"object",raw:`{
  api: ApiRef<Api>;
  deps: TypesToApiRefs<Deps>;
  factory(deps: Deps): Impl;
}`,signature:{properties:[{key:"api",value:{name:"signature",type:"object",raw:`{
  id: string;
  T: T;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"T",value:{name:"unknown",required:!0}}]},required:!0}},{key:"deps",value:{name:"signature",type:"object",raw:"{ [key in keyof T]: ApiRef<T[key]> }",signature:{properties:[{key:{name:"unknown",required:!0},value:{name:"signature",type:"object",raw:`{
  id: string;
  T: T;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"T",value:{name:"unknown",required:!0}}]},required:!0}}]},required:!0}},{key:"factory",value:{name:"unknown",required:!0}}]}}],raw:"Iterable<AnyApiFactory>",required:!0}},{key:"getFeatureFlags",value:{name:"Iterable",elements:[{name:"signature",type:"object",raw:`{
  /** Feature flag name */
  name: string;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0},description:"Feature flag name"}]}}],raw:"Iterable<PluginFeatureFlagConfig>",required:!0},description:"Returns all registered feature flags for this plugin."},{key:"provide",value:{name:"T",required:!0}},{key:"routes",value:{name:"Routes",required:!0}},{key:"externalRoutes",value:{name:"ExternalRoutes",required:!0}}]},required:!1}},{key:"error",value:{name:"Error",required:!0}},{key:"resetError",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}}],raw:`PropsWithChildren<{
  plugin?: BackstagePlugin;
  error: Error;
  resetError: () => void;
}>`}],raw:"ComponentType<ErrorBoundaryFallbackProps>",required:!0}},{key:"ThemeProvider",value:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:"{}",signature:{properties:[]}}],raw:"PropsWithChildren<{}>"}],raw:"ComponentType<PropsWithChildren<{}>>",required:!1}},{key:"SignInPage",value:{name:"ComponentType",elements:[{name:"PropsWithChildren",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Set the IdentityApi on successful sign-in. This should only be called once.
   */
  onSignInSuccess(identityApi: IdentityApi): void;
}`,signature:{properties:[{key:"onSignInSuccess",value:{name:"void",required:!0},description:"Set the IdentityApi on successful sign-in. This should only be called once."}]}}],raw:`PropsWithChildren<{
  /**
   * Set the IdentityApi on successful sign-in. This should only be called once.
   */
  onSignInSuccess(identityApi: IdentityApi): void;
}>`}],raw:"ComponentType<SignInPageProps>",required:!1},description:`An optional sign-in page that will be rendered instead of the AppRouter at startup.

If a sign-in page is set, it will always be shown before the app, and it is up
to the sign-in page to handle e.g. saving of login methods for subsequent visits.

The sign-in page will be displayed until it has passed up a result to the parent,
and which point the AppRouter and all of its children will be rendered instead.`}]},required:!0},description:"Get the components registered for various purposes in the app."}]}},description:""}}};const xi="app",Du=`${xi}-auth-cookie-expires-at`,Mu=5*6e4,Xa=5e3,Uu=2,Lu=5*6e4;function Nu({discoveryApi:t,fetchApi:e,errorApi:r}){let n=!1,a,i=!0,s=Xa;const o="BroadcastChannel"in window?new BroadcastChannel(Du):void 0,u=h=>{const y=(1+3*Math.random())*6e4;return Math.max(h-Date.now(),Mu)-y},l=async()=>{try{const y=`${await t.getBaseUrl(xi)}/.backstage/auth/v1/cookie`,b=await e.fetch(y,{credentials:"include"});if(!b.ok)throw new Error(`Request failed with status ${b.status} ${b.statusText}, see request towards ${y} for more details`);const g=await b.json();if(!g.expiresAt)throw new Error("No expiration date in response");const w=Date.parse(g.expiresAt);if(Number.isNaN(w))throw new Error("Invalid expiration date in response");i=!0,o?.postMessage({action:"COOKIE_REFRESH_SUCCESS",payload:{expiresAt:new Date(w).toISOString()}}),d(u(w))}catch(h){i?(i=!1,s=Xa):(s=Math.min(Lu,s*Uu),console.error("Session cookie refresh failed",h),r.post(new Error("Session refresh failed, see developer console for details"))),d(s)}},p=h=>{const{data:y}=h;if(!(y===null||typeof y!="object")&&"action"in y&&y.action==="COOKIE_REFRESH_SUCCESS"){const b=Date.parse(y.payload.expiresAt);if(Number.isNaN(b)){console.warn("Received invalid expiration from session refresh channel");return}d(u(b))}};function d(h){n||(a&&clearTimeout(a),a=setTimeout(l,h))}return o?.addEventListener("message",p),l(),()=>{n=!0,a&&clearTimeout(a),o?.removeEventListener("message",p),o?.close()}}function Ya(t){return new Error(`Tried to access IdentityApi ${t} before app was loaded`)}function Tt(t){console.warn(`WARNING: Call to ${t} is deprecated and will break in the future`)}class Gu{target;waitForTarget;resolveTarget=()=>{};signOutTargetUrl="/";#e;constructor(){this.waitForTarget=new Promise(e=>{this.resolveTarget=e})}setTarget(e,r){this.target=e,this.signOutTargetUrl=r.signOutTargetUrl,this.resolveTarget(e)}getUserId(){if(!this.target)throw Ya("getUserId");if(!this.target.getUserId)throw new Error("IdentityApi does not implement getUserId");return Tt("getUserId"),this.target.getUserId()}getProfile(){if(!this.target)throw Ya("getProfile");if(!this.target.getProfile)throw new Error("IdentityApi does not implement getProfile");return Tt("getProfile"),this.target.getProfile()}async getProfileInfo(){return this.waitForTarget.then(e=>e.getProfileInfo())}async getBackstageIdentity(){const e=await this.waitForTarget.then(r=>r.getBackstageIdentity());return e.userEntityRef.match(/^.*:.*\/.*$/)||console.warn(`WARNING: The App IdentityApi provided an invalid userEntityRef, '${e.userEntityRef}'. It must be a full Entity Reference of the form '<kind>:<namespace>/<name>'.`),e}async getCredentials(){return this.waitForTarget.then(e=>e.getCredentials())}async getIdToken(){return this.waitForTarget.then(e=>{if(!e.getIdToken)throw new Error("IdentityApi does not implement getIdToken");return Tt("getIdToken"),e.getIdToken()})}async signOut(){await this.waitForTarget.then(e=>e.signOut()),await this.#e?.(),this.navigateToUrl(this.signOutTargetUrl)}navigateToUrl(e){window.location.href=e}enableCookieAuth(e){if(this.#e)return;const r=Nu(e);this.#e=async()=>{r();const n=await e.discoveryApi.getBaseUrl("app");try{await fetch(`${n}/.backstage/auth/v1/cookie`,{method:"DELETE",credentials:"include"})}catch{}}}}function Hu(t,e,r){if(t!==void 0){const a=r.find(i=>i.id===t);if(a)return a}if(e){const a=r.find(i=>i.variant==="dark");if(a)return a}const n=r.find(a=>a.variant==="light");return n||r[0]}const Ku=()=>{const t=D.useMemo(()=>window.matchMedia("(prefers-color-scheme: dark)"),[]),[e,r]=D.useState(t.matches);return D.useEffect(()=>{const n=a=>{r(a.matches)};return t.addListener(n),()=>{t.removeListener(n)}},[t]),e};function Ut({children:t}){const e=ye(Et),r=us(e.activeThemeId$(),e.getActiveThemeId()),n=window.matchMedia?Ku():!1,a=Hu(r,n,e.getInstalledThemes());if(!a)throw new Error("App has no themes");return m.jsx(a.Provider,{children:t})}Ut.__docgenInfo={description:"",methods:[],displayName:"AppThemeProvider"};var Wu={};const zu=async()=>Vu();function Vu(t="__APP_INJECTED_RUNTIME_CONFIG__"){const e=new Array,r=Wu.APP_CONFIG;if(r){if(!Array.isArray(r))throw new Error("Static configuration has invalid format");e.push(...r)}const n=document.querySelectorAll('script[type="backstage.io/config"]');if(n.length>0)for(const i of n)try{const s=i.textContent;if(!s)throw new Error("tag is empty");let o;try{o=JSON.parse(s)}catch(u){throw new Error(`failed to parse config; ${u}`)}if(!Array.isArray(o))throw new Error("data is not an array");e.push(...o)}catch(s){throw new Error(`Failed to load config from script tag, ${s.message}`)}else if(t!=="__app_injected_runtime_config__".toLocaleUpperCase("en-US"))try{const i=JSON.parse(t);Array.isArray(i)?e.push(...i):e.push({data:i,context:"env"})}catch(i){throw new Error(`Failed to load runtime configuration, ${i}`)}const a=window.__APP_CONFIG__;return a&&e.push({context:"window",data:a}),e}class Ju{apis=[];add(e,r){return this.apis.push([e.id,r]),r}build(){return new Y(new Map(this.apis))}}class Y{constructor(e){this.apis=e}static builder(){return new Ju}static from(e){return new Y(new Map(e.map(([r,n])=>[r.id,n])))}static with(e,r){return new Y(new Map([[e.id,r]]))}with(e,r){return new Y(new Map([...this.apis,[e.id,r]]))}get(e){return this.apis.get(e.id)}}function Xu(t){const e=new Map,r=new Map;for(const n of t){for(const[a,i]of Object.entries(n.routes??{})){const s=`${n.getId()}.${a}`;if(e.has(s))throw new Error(`Unexpected duplicate route '${s}'`);e.set(s,i)}for(const[a,i]of Object.entries(n.externalRoutes??{})){const s=`${n.getId()}.${a}`;if(r.has(s))throw new Error(`Unexpected duplicate external route '${s}'`);r.set(s,i)}}return{routes:e,externalRoutes:r}}function Yu(t,e,r){const n=Xu(r),a=new Map,i=new Set;t&&t({bind:(u,l)=>{for(const[p,d]of Object.entries(l)){const h=u[p];if(!h)throw new Error(`Key ${p} is not an existing external route`);if(!d&&!h.optional)throw new Error(`External route ${p} is required but was ${d===!1?"disabled":"not provided"}`);d?a.set(h,d):d===!1&&i.add(h)}}});const s=e.getOptionalConfig("app.routes.bindings")?.get();if(s)for(const[o,u]of Object.entries(s)){if(!Zu(u))throw new Error(`Invalid config at app.routes.bindings['${o}'], value must be a non-empty string or false`);const l=n.externalRoutes.get(o);if(!l)throw new Error(`Invalid config at app.routes.bindings, '${o}' is not a valid external route`);if(!(a.has(l)||i.has(l)))if(u===!1)i.add(l);else{const p=n.routes.get(u);if(!p)throw new Error(`Invalid config at app.routes.bindings['${o}'], '${u}' is not a valid route`);a.set(l,p)}}for(const o of n.externalRoutes.values())if(!a.has(o)&&!i.has(o)){const u="getDefaultTarget"in o?o.getDefaultTarget():void 0;if(u){const l=n.routes.get(u);l&&a.set(o,l)}}return a}function Zu(t){return!!(t===!1||typeof t=="string"&&t)}function Za(t){const e=new URL(t);return e.protocol=document.location.protocol,e.hostname=document.location.hostname,e.port=document.location.port,e.toString().replace(/\/$/,"")}function Qu(t){const e=ii.fromConfigs(t),r=e.getOptionalString("app.baseUrl"),n=e.getOptionalString("backend.baseUrl");let a=t,i,s;if(r&&n){const o=new URL(r).origin,u=new URL(n).origin;if(o===u){const l=Za(n);n!==l&&(i=l)}}if(r){const o=Za(r);r!==o&&(s=o)}return(s||i)&&(a=a.concat({data:{app:s&&{baseUrl:s},backend:i&&{baseUrl:i}},context:"relative-resolver"})),a}function ec(){return(document.querySelector('meta[name="backstage-app-mode"]')?.getAttribute("content")??"public")==="protected"}function rc(t,e,r){const n=!!t,a=hs(t||(()=>Promise.resolve([])));let i;if(n&&a.loading){const{Progress:u}=e;i=m.jsx(u,{})}else if(a.error){const{BootErrorPage:u}=e;i=m.jsx(u,{step:"load-config",error:a.error})}const{ThemeProvider:s=Ut}=e;return i?{node:m.jsx(oi,{apis:Y.with(Et,r),children:m.jsx(s,{children:i})})}:{api:ii.fromConfigs(a.value?.length?Qu(a.value):[])}}class tc{constructor(e){this.app=e}getPlugins(){return this.app.getPlugins()}getSystemIcon(e){return this.app.getSystemIcon(e)}getSystemIcons(){return this.app.getSystemIcons()}getComponents(){return this.app.getComponents()}}class nc{apiHolder;configApi;apis;icons;plugins;featureFlags;components;themes;configLoader;defaultApis;bindRoutes;appLanguageApi;appThemeApi;translationResources;appIdentityProxy=new Gu;apiFactoryRegistry;constructor(e){this.apis=e.apis??[],this.icons=e.icons,this.plugins=new Set(e.plugins??[]),this.featureFlags=e.featureFlags??[],this.components=e.components,this.themes=e.themes,this.configLoader=e.configLoader??zu,this.defaultApis=e.defaultApis??[],this.bindRoutes=e.bindRoutes,this.apiFactoryRegistry=new qs,this.appLanguageApi=Fi.createWithStorage({defaultLanguage:e.__experimentalTranslations?.defaultLanguage,availableLanguages:e.__experimentalTranslations?.availableLanguages}),this.appThemeApi=St.createWithStorage(this.themes),this.translationResources=e.__experimentalTranslations?.resources??[]}getPlugins(){return Array.from(this.plugins)}getSystemIcon(e){return this.icons[e]}getSystemIcons(){return this.icons}getComponents(){return this.components}createRoot(e){const r=this.getProvider();return()=>m.jsx(r,{children:e})}#e=!1;getProvider(){if(this.#e)throw new Error("app.getProvider() or app.createRoot() has already been called, and can only be called once");this.#e=!0;const e=new tc(this);let r,n;return({children:i})=>{const s=D.useRef(!0),o=this.appThemeApi,{routing:u,featureFlags:l}=D.useMemo(()=>{const g=fe();g&&console.warn(`
DEPRECATION WARNING: React Router Beta is deprecated and support for it will be removed in a future release.
                     Please migrate to use React Router v6 stable.
                     See https://backstage.io/docs/tutorials/react-router-stable-migration
`);const w=Ws({root:i,discoverers:[zs,Vs],collectors:{routing:g?Ys:Xs,collectedPlugins:Js,featureFlags:Zs}});return w.collectedPlugins.forEach(_=>this.plugins.add(_)),this.verifyPlugins(this.plugins),this.getApiHolder(),w},[i]),p=rc(this.configLoader,this.components,o),d="api"in p;if(d){const{api:g}=p;this.configApi=g}if("node"in p)return p.node;if(n)throw n;if(!r)try{r=Yu(this.bindRoutes,p.api,this.plugins),ju(u.paths,u.parents),$u(r,this.plugins)}catch(g){throw n=g,g}if(d&&s.current){s.current=!1;const g=this.getApiHolder().get(Ct);if(g){for(const v of this.featureFlags)g.registerFlag({...v,pluginId:""});for(const v of this.plugins.values())if("getFeatureFlags"in v)for(const E of v.getFeatureFlags())g.registerFlag({name:E.name,pluginId:v.getId()});else for(const E of v.output())E.type==="feature-flag"&&g.registerFlag({name:E.name,pluginId:v.getId()});const w=g.getRegisteredFlags(),_=new Set(w.map(v=>v.name));for(const v of l)_.has(v)||g.registerFlag({name:v,pluginId:""})}}const{ThemeProvider:h=Ut,Progress:y}=this.components,b=this.getApiHolder();if(ec()){const g=b.get(ce),w=b.get(pi),_=b.get(G);if(!g||!w||!_)throw new Error("App is running in protected mode but missing required APIs");this.appIdentityProxy.enableCookieAuth({errorApi:g,fetchApi:w,discoveryApi:_})}return m.jsx(oi,{apis:b,children:m.jsx(ki,{appContext:e,children:m.jsx(h,{children:m.jsx(Si,{routePaths:u.paths,routeParents:u.parents,routeObjects:u.objects,routeBindings:r,basePath:Ks(p.api),children:m.jsx(di.Provider,{value:{routeObjects:u.objects,appIdentityProxy:this.appIdentityProxy},children:m.jsx(D.Suspense,{fallback:m.jsx(y,{}),children:i})})})})})})}}getRouter(){return Ot}getApiHolder(){if(this.apiHolder){for(const e of this.plugins)for(const r of e.getApis())this.apiFactoryRegistry.get(r.api)||this.apiFactoryRegistry.register("default",r);return Ie.validateFactories(this.apiFactoryRegistry,this.apiFactoryRegistry.getAllApis()),this.apiHolder}this.apiFactoryRegistry.register("static",{api:Et,deps:{},factory:()=>this.appThemeApi}),this.apiFactoryRegistry.register("static",{api:L,deps:{},factory:()=>{if(!this.configApi)throw new Error("Tried to access config API before config was loaded");return this.configApi}}),this.apiFactoryRegistry.register("static",{api:ji,deps:{},factory:()=>this.appIdentityProxy}),this.apiFactoryRegistry.register("static",{api:Ht,deps:{},factory:()=>this.appLanguageApi}),this.apiFactoryRegistry.register("default",{api:si,deps:{languageApi:Ht},factory:({languageApi:e})=>$i.create({languageApi:e,resources:this.translationResources})}),this.apiFactoryRegistry.register("default",{api:Ct,deps:{},factory:()=>new Bi});for(const e of this.defaultApis)this.apiFactoryRegistry.register("default",e);for(const e of this.plugins)for(const r of e.getApis())if(!this.apiFactoryRegistry.register("default",r))throw new Error(`Plugin ${e.getId()} tried to register duplicate or forbidden API factory for ${r.api}`);for(const e of this.apis)if(!this.apiFactoryRegistry.register("app",e))throw new Error(`Duplicate or forbidden API factory for ${e.api} in app`);return Ie.validateFactories(this.apiFactoryRegistry,this.apiFactoryRegistry.getAllApis()),this.apiHolder=new Ie(this.apiFactoryRegistry),this.apiHolder}verifyPlugins(e){const r=new Set;for(const n of e){const a=n.getId();if(r.has(a))throw new Error(`Duplicate plugin found '${a}'`);r.add(a)}}}function ac(t){return new nc(t)}var ue={exports:{}},Qa;function ic(){return Qa||(Qa=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,n=(function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i})();(function(i){(function(s){var o=typeof i<"u"&&i||typeof self<"u"&&self||typeof i<"u"&&i||{},u={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(c){return c&&DataView.prototype.isPrototypeOf(c)}if(u.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(c){return c&&p.indexOf(Object.prototype.toString.call(c))>-1};function h(c){if(typeof c!="string"&&(c=String(c)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(c)||c==="")throw new TypeError('Invalid character in header field name: "'+c+'"');return c.toLowerCase()}function y(c){return typeof c!="string"&&(c=String(c)),c}function b(c){var f={next:function(){var R=c.shift();return{done:R===void 0,value:R}}};return u.iterable&&(f[Symbol.iterator]=function(){return f}),f}function g(c){this.map={},c instanceof g?c.forEach(function(f,R){this.append(R,f)},this):Array.isArray(c)?c.forEach(function(f){if(f.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+f.length);this.append(f[0],f[1])},this):c&&Object.getOwnPropertyNames(c).forEach(function(f){this.append(f,c[f])},this)}g.prototype.append=function(c,f){c=h(c),f=y(f);var R=this.map[c];this.map[c]=R?R+", "+f:f},g.prototype.delete=function(c){delete this.map[h(c)]},g.prototype.get=function(c){return c=h(c),this.has(c)?this.map[c]:null},g.prototype.has=function(c){return this.map.hasOwnProperty(h(c))},g.prototype.set=function(c,f){this.map[h(c)]=y(f)},g.prototype.forEach=function(c,f){for(var R in this.map)this.map.hasOwnProperty(R)&&c.call(f,this.map[R],R,this)},g.prototype.keys=function(){var c=[];return this.forEach(function(f,R){c.push(R)}),b(c)},g.prototype.values=function(){var c=[];return this.forEach(function(f){c.push(f)}),b(c)},g.prototype.entries=function(){var c=[];return this.forEach(function(f,R){c.push([R,f])}),b(c)},u.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(c){if(!c._noBody){if(c.bodyUsed)return Promise.reject(new TypeError("Already read"));c.bodyUsed=!0}}function _(c){return new Promise(function(f,R){c.onload=function(){f(c.result)},c.onerror=function(){R(c.error)}})}function v(c){var f=new FileReader,R=_(f);return f.readAsArrayBuffer(c),R}function E(c){var f=new FileReader,R=_(f),I=/charset=([A-Za-z0-9_-]+)/.exec(c.type),x=I?I[1]:"utf-8";return f.readAsText(c,x),R}function C(c){for(var f=new Uint8Array(c),R=new Array(f.length),I=0;I<f.length;I++)R[I]=String.fromCharCode(f[I]);return R.join("")}function O(c){if(c.slice)return c.slice(0);var f=new Uint8Array(c.byteLength);return f.set(new Uint8Array(c)),f.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(c){this.bodyUsed=this.bodyUsed,this._bodyInit=c,c?typeof c=="string"?this._bodyText=c:u.blob&&Blob.prototype.isPrototypeOf(c)?this._bodyBlob=c:u.formData&&FormData.prototype.isPrototypeOf(c)?this._bodyFormData=c:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)?this._bodyText=c.toString():u.arrayBuffer&&u.blob&&l(c)?(this._bodyArrayBuffer=O(c.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(c)||d(c))?this._bodyArrayBuffer=O(c):this._bodyText=c=Object.prototype.toString.call(c):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof c=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(c)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var c=w(this);if(c)return c;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var c=w(this);return c||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var c=w(this);if(c)return c;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var q=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function $(c){var f=c.toUpperCase();return q.indexOf(f)>-1?f:c}function k(c,f){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');f=f||{};var R=f.body;if(c instanceof k){if(c.bodyUsed)throw new TypeError("Already read");this.url=c.url,this.credentials=c.credentials,f.headers||(this.headers=new g(c.headers)),this.method=c.method,this.mode=c.mode,this.signal=c.signal,!R&&c._bodyInit!=null&&(R=c._bodyInit,c.bodyUsed=!0)}else this.url=String(c);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new g(f.headers)),this.method=$(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal||(function(){if("AbortController"in o){var T=new AbortController;return T.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(f.cache==="no-store"||f.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var x=/\?/;this.url+=(x.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function U(c){var f=new FormData;return c.trim().split("&").forEach(function(R){if(R){var I=R.split("="),x=I.shift().replace(/\+/g," "),T=I.join("=").replace(/\+/g," ");f.append(decodeURIComponent(x),decodeURIComponent(T))}}),f}function P(c){var f=new g,R=c.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var x=I.split(":"),T=x.shift().trim();if(T){var ie=x.join(":").trim();try{f.append(T,ie)}catch(Ce){console.warn("Response "+Ce.message)}}}),f}A.call(k.prototype);function F(c,f){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=f.statusText===void 0?"":""+f.statusText,this.headers=new g(f.headers),this.url=f.url||"",this._initBody(c)}A.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},F.error=function(){var c=new F(null,{status:200,statusText:""});return c.ok=!1,c.status=0,c.type="error",c};var M=[301,302,303,307,308];F.redirect=function(c,f){if(M.indexOf(f)===-1)throw new RangeError("Invalid status code");return new F(null,{status:f,headers:{location:c}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(f,R){this.message=f,this.name=R;var I=Error(f);this.stack=I.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function z(c,f){return new Promise(function(R,I){var x=new k(c,f);if(x.signal&&x.signal.aborted)return I(new s.DOMException("Aborted","AbortError"));var T=new XMLHttpRequest;function ie(){T.abort()}T.onload=function(){var B={statusText:T.statusText,headers:P(T.getAllResponseHeaders()||"")};x.url.indexOf("file://")===0&&(T.status<200||T.status>599)?B.status=200:B.status=T.status,B.url="responseURL"in T?T.responseURL:B.headers.get("X-Request-URL");var V="response"in T?T.response:T.responseText;setTimeout(function(){R(new F(V,B))},0)},T.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},T.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request timed out"))},0)},T.onabort=function(){setTimeout(function(){I(new s.DOMException("Aborted","AbortError"))},0)};function Ce(B){try{return B===""&&o.location.href?o.location.href:B}catch{return B}}if(T.open(x.method,Ce(x.url),!0),x.credentials==="include"?T.withCredentials=!0:x.credentials==="omit"&&(T.withCredentials=!1),"responseType"in T&&(u.blob?T.responseType="blob":u.arrayBuffer&&(T.responseType="arraybuffer")),f&&typeof f.headers=="object"&&!(f.headers instanceof g||o.Headers&&f.headers instanceof o.Headers)){var Lt=[];Object.getOwnPropertyNames(f.headers).forEach(function(B){Lt.push(h(B)),T.setRequestHeader(B,y(f.headers[B]))}),x.headers.forEach(function(B,V){Lt.indexOf(V)===-1&&T.setRequestHeader(V,B)})}else x.headers.forEach(function(B,V){T.setRequestHeader(V,B)});x.signal&&(x.signal.addEventListener("abort",ie),T.onreadystatechange=function(){T.readyState===4&&x.signal.removeEventListener("abort",ie)}),T.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}return z.polyfill=!0,o.fetch||(o.fetch=z,o.Headers=g,o.Request=k,o.Response=F),s.Headers=g,s.Request=k,s.Response=F,s.fetch=z,s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e})(ue,ue.exports)),ue.exports}var sc=ic();class oc{implementation;constructor(e){this.implementation=uc(e)}get fetch(){return this.implementation.fetch}}function uc(t){return Ds({baseImplementation:cc(t),middleware:[lc(t),pc(t)].filter(e=>!!e)})}function cc(t){const e=t?.baseImplementation;if(e){if(e==="none")return()=>Promise.resolve(new sc.Response)}else return(r,n)=>globalThis.fetch(r,n);return e}function lc(t){const e=t?.resolvePluginProtocol;if(e)return fi.resolvePluginProtocol({discoveryApi:e.discoveryApi})}function pc(t){const e=t?.injectIdentityAuth;if(!e)return;const r="token"in e?{getCredentials:async()=>({token:e.token})}:e.identityApi;return fi.injectIdentityAuth({identityApi:r,allowUrl:()=>!0})}class he{namespace;data;bucketStorageApis;constructor(e,r,n){this.namespace=e,this.bucketStorageApis=r,this.data={...n}}static create(e){const r={};function n(a,i){for(const[s,o]of Object.entries(a))if(typeof o=="object"&&o!==null)n(o,`${i}/${s}`);else{const u=`${i}/${s.replace(/^\//,"")}`;r[u]=o}}return n(e??{},""),new he("",new Map,r)}forBucket(e){return this.bucketStorageApis.has(e)||this.bucketStorageApis.set(e,new he(`${this.namespace}/${e}`,this.bucketStorageApis,this.data)),this.bucketStorageApis.get(e)}snapshot(e){if(this.data.hasOwnProperty(this.getKeyName(e))){const r=this.data[this.getKeyName(e)];return{key:e,presence:"present",value:r}}return{key:e,presence:"absent",value:void 0}}async set(e,r){const n=JSON.parse(JSON.stringify(r),(a,i)=>(typeof i=="object"&&i!==null&&Object.freeze(i),i));this.data[this.getKeyName(e)]=n,this.notifyChanges({key:e,presence:"present",value:n})}async remove(e){delete this.data[this.getKeyName(e)],this.notifyChanges({key:e,presence:"absent",value:void 0})}observe$(e){return this.observable.filter(({key:r})=>r===e)}getKeyName(e){return`${this.namespace}/${encodeURIComponent(e)}`}notifyChanges(e){for(const r of this.subscribers)r.next(e)}subscribers=new Set;observable=new Di(e=>(this.subscribers.add(e),()=>{this.subscribers.delete(e)}))}var Q={},ei;function fc(){if(ei)return Q;ei=1;var t=Mi(),e=Ui();Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var r=e(Li()),n=t(Ni()),a=(0,n.default)(r.createElement("path",{d:"M22 11h-4.17l3.24-3.24-1.41-1.42L15 11h-2V9l4.66-4.66-1.42-1.41L13 6.17V2h-2v4.17L7.76 2.93 6.34 4.34 11 9v2H9L4.34 6.34 2.93 7.76 6.17 11H2v2h4.17l-3.24 3.24 1.41 1.42L9 13h2v2l-4.66 4.66 1.42 1.41L11 17.83V22h2v-4.17l3.24 3.24 1.42-1.41L13 15v-2h2l4.66 4.66 1.41-1.42L17.83 13H22z"}),"AcUnit");return Q.default=a,Q}var dc=fc();const S=ti(dc),hc=[j({api:G,deps:{configApi:L},factory:({configApi:t})=>kt.compile(`${t.getString("backend.baseUrl")}/api/{{ pluginId }}`)}),j(Nt,new Gi),j(ds,new $s),j({api:ce,deps:{alertApi:Nt},factory:({alertApi:t})=>{const e=new Hi(t,new Ki);return Bs.forward(e,{hidden:!1}),e}}),j({api:ui,deps:{errorApi:ce},factory:({errorApi:t})=>cs.create({errorApi:t})}),j(K,new Wi),j({api:Vi,deps:{discoveryApi:G,oauthRequestApi:K,configApi:L},factory:({discoveryApi:t,oauthRequestApi:e,configApi:r})=>zi.create({configApi:r,discoveryApi:t,oauthRequestApi:e,environment:r.getOptionalString("auth.environment")})}),j({api:Ji,deps:{discoveryApi:G,oauthRequestApi:K,configApi:L},factory:({discoveryApi:t,oauthRequestApi:e,configApi:r})=>H.create({configApi:r,discoveryApi:t,oauthRequestApi:e,environment:r.getOptionalString("auth.environment")})}),j({api:Yi,deps:{discoveryApi:G,oauthRequestApi:K,configApi:L},factory:({discoveryApi:t,oauthRequestApi:e,configApi:r})=>Xi.create({configApi:r,discoveryApi:t,oauthRequestApi:e,defaultScopes:["read:user"],environment:r.getOptionalString("auth.environment")})}),j({api:Qi,deps:{discoveryApi:G,oauthRequestApi:K,configApi:L},factory:({discoveryApi:t,oauthRequestApi:e,configApi:r})=>Zi.create({configApi:r,discoveryApi:t,oauthRequestApi:e,environment:r.getOptionalString("auth.environment")})}),j({api:rs,deps:{discoveryApi:G,oauthRequestApi:K,configApi:L},factory:({discoveryApi:t,oauthRequestApi:e,configApi:r})=>es.create({configApi:r,discoveryApi:t,oauthRequestApi:e,environment:r.getOptionalString("auth.environment")})}),j({api:ts,deps:{discoveryApi:G,oauthRequestApi:K,configApi:L},factory:({discoveryApi:t,oauthRequestApi:e,configApi:r})=>ks.create({configApi:r,discoveryApi:t,oauthRequestApi:e,environment:r.getOptionalString("auth.environment")})}),j({api:ns,deps:{discoveryApi:G,oauthRequestApi:K,configApi:L},factory:({discoveryApi:t,oauthRequestApi:e,configApi:r})=>Os.create({configApi:r,discoveryApi:t,oauthRequestApi:e,defaultScopes:["account"],environment:r.getOptionalString("auth.environment")})}),j({api:as,deps:{discoveryApi:G,oauthRequestApi:K,configApi:L},factory:({discoveryApi:t,oauthRequestApi:e,configApi:r})=>js.create({configApi:r,discoveryApi:t,oauthRequestApi:e,environment:r.getOptionalString("auth.environment")})})],gc=[j(ce,new ls),j(pi,new oc),j(ui,he.create()),j(si,is.create())],yc={"kind:api":S,"kind:component":S,"kind:domain":S,"kind:group":S,"kind:location":S,"kind:system":S,"kind:user":S,"kind:resource":S,"kind:template":S,brokenImage:S,catalog:S,scaffolder:S,techdocs:S,search:S,chat:S,dashboard:S,docs:S,email:S,github:S,group:S,help:S,user:S,warning:S,star:S,unstarred:S},mc=({error:t})=>{throw new Error(`Reached ErrorBoundaryFallback Page with error, ${t}`)},vc=()=>{throw new Error("Reached NotFound Page")},bc=({step:t,error:e})=>{throw new Error(`Reached BootError Page at step ${t} with error ${e}`)},wc=()=>m.jsx("div",{"data-testid":"progress"}),_c=t=>null;function Rc(t){return String(t).includes("{type=external,")}function Ac(t={}){const{routeEntries:e=["/"]}=t,r=new Map,n=ac({apis:gc,defaultApis:hc,configLoader:!1,components:{Progress:wc,BootErrorPage:bc,NotFoundErrorPage:vc,ErrorBoundaryFallback:mc,Router:({children:u})=>m.jsx(_s,{initialEntries:e,children:u}),...t.components},icons:{...yc,...t.icons},plugins:[],themes:[{id:"light",title:"Test App Theme",variant:"light",Provider:({children:u})=>m.jsx(ss,{theme:os.light,children:u})}],bindRoutes:({bind:u})=>{for(const[l,p]of r)u({ref:l},{ref:p})}}),a=Object.entries(t.mountedRoutes??{}).map(([u,l])=>{const p=()=>m.jsxs("div",{children:["Mounted at ",u]});if(Rc(l)){const d=Cs({id:"id"});r.set(l,d),le(p,"core.mountPoint",d)}else le(p,"core.mountPoint",l);return m.jsx(pe,{path:u,element:m.jsx(p,{})},u)}),i=n.getProvider(),s=n.getRouter();return({children:u})=>m.jsx(i,{children:m.jsxs(s,{children:[m.jsx(_c,{children:a}),u]})})}function qc(t,e={}){const r=Ac(e);let n;return t instanceof Function?n=D.createElement(t):n=t,m.jsx(r,{children:n})}qc.__docgenInfo={description:`Wraps a component inside a Backstage test app, providing a mocked theme
and app context, along with mocked APIs.

@param Component - A component or react node to render inside the test app.
@param options - Additional options for the rendering.
@public`,methods:[],displayName:"wrapInTestApp"};export{S as A,eu as B,Jo as C,lu as D,ho as E,Ai as F,au as G,bi as H,uu as I,Yo as J,Wo as K,Vo as L,yi as M,_i as N,oo as O,j as a,Ps as b,Cs as c,G as d,Pi as e,pi as f,vi as g,Qo as h,wo as i,_o as j,Ei as k,Cu as l,fo as m,Au as n,ao as o,Ri as p,wi as q,vu as r,io as s,$t as t,yo as u,go as v,qc as w,nu as x,mo as y,tu as z};
