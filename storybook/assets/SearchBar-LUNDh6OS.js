import{j as r}from"./jsx-runtime-hv06LKfz.js";import{S as K}from"./Search-Wq1g1XLo.js";import{r as t}from"./index-D8-PC79C.js";import{u as _}from"./useDebounce-DXlgMZDE.js";import{s as N}from"./translation-BIsYolyo.js";import{u as z,S as y}from"./SearchContext-DiK7zrkk.js";import{I as x}from"./InputAdornment-KP7I8p8p.js";import{B as V}from"./Button-aFPoPc-s.js";import{T as F}from"./TextField-DmWL4a35.js";import{I as L}from"./IconButton-tgA3biVt.js";import{A as M}from"./useAnalytics-Q-nz63z2.js";import{u as O}from"./ApiRef-ByCJBjX1.js";import{u as Q}from"./useTranslationRef-DKy5gnX5.js";import{u as U}from"./useApp-BOX1l_wP.js";import{c as W}from"./ConfigApi-ij0WO1-Y.js";import"./typeof-ZI2KZN5z.js";import"./createSvgIcon-Bpme_iea.js";import"./capitalize-fS9uM6tv.js";import"./defaultTheme-NkpNA350.js";import"./withStyles-BsQ9H3bp.js";import"./hoist-non-react-statics.cjs-DtcWCWp5.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-D-gz-Nq7.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-DKhW5xVU.js";import"./ownerWindow-CjzjL4wv.js";import"./useIsFocusVisible-BFy7UoKA.js";import"./index-DXvUqTe6.js";import"./index-BITTEREo.js";import"./useControlled-CliGfT3L.js";import"./unstable_useId-DQJte0g1.js";import"./TranslationApi-CV0OlCW4.js";import"./lodash-D1GzKnrP.js";import"./useAsync-7M-9CJJS.js";import"./useMountedState-YD35FCBK.js";import"./api-YILTVPsk.js";import"./useFormControl-Dd17crCt.js";import"./Typography-NhBf-tfS.js";import"./ButtonBase-DXo3xcpP.js";import"./TransitionGroupContext-CcnbR2YJ.js";import"./Select-aGy7NPFn.js";import"./index-DnL3XN75.js";import"./useTheme-Dk0AiudM.js";import"./Popover-CKCFsMrH.js";import"./Grow-BOepmPk1.js";import"./utils-DMni-BWz.js";import"./Modal-m69wb1rs.js";import"./classCallCheck-MFKM5G8b.js";import"./Portal-yuzZovYw.js";import"./Paper-BiLxp0Cg.js";import"./List-Bi5n8Alr.js";import"./ListContext-Brz5ktZ2.js";import"./formControlState-ByiNFc8I.js";import"./FormLabel-CjYxj4ka.js";import"./InputLabel-BbZEQtws.js";const B=t.forwardRef((d,h)=>{const{onChange:o,onKeyDown:n=()=>{},onClear:i=()=>{},onSubmit:s=()=>{},debounceTime:a=200,clearButton:f=!0,fullWidth:m=!0,value:g,label:b,placeholder:S,inputProps:C={},InputProps:v={},endAdornment:I,...A}=d,T=O(W),[p,c]=t.useState(""),u=t.useRef(""),{t:l}=Q(N);t.useEffect(()=>{c(e=>e===u.current?String(g):e)},[g,u]),_(()=>{u.current=p,o(p)},a,[p]);const R=t.useCallback(e=>{c(e.target.value)},[c]),j=t.useCallback(e=>{n&&n(e),s&&e.key==="Enter"&&s()},[n,s]),P=t.useCallback(()=>{u.current="",o(""),c(""),i&&i()},[o,i]),w=b?void 0:l("searchBar.title"),k=S??l("searchBar.placeholder",{org:T.getOptionalString("app.title")||"Backstage"}),E=U().getSystemIcon("search")||K,q=r.jsx(x,{position:"start",children:r.jsx(L,{"aria-label":"Query",size:"small",disabled:!0,children:r.jsx(E,{})})}),D=r.jsx(x,{position:"end",children:r.jsx(V,{"aria-label":l("searchBar.clearButtonTitle"),size:"small",onClick:P,onKeyDown:e=>{e.key==="Enter"&&e.stopPropagation()},children:l("searchBar.clearButtonTitle")})});return r.jsx(y,{inheritParentContextIfAvailable:!0,children:r.jsx(F,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:h,value:p,label:b,placeholder:k,InputProps:{startAdornment:q,endAdornment:f?D:I,...v},inputProps:{"aria-label":w,...C},fullWidth:m,onChange:R,onKeyDown:j,...A})})}),$=t.forwardRef((d,h)=>{const{value:o="",onChange:n,...i}=d,{term:s,setTerm:a}=z();t.useEffect(()=>{o&&a(String(o))},[o,a]);const f=t.useCallback(m=>{n?n(m):a(m)},[n,a]);return r.jsx(y,{inheritParentContextIfAvailable:!0,children:r.jsx(M,{attributes:{pluginId:"search",extension:"SearchBar"},children:r.jsx(B,{...i,ref:h,value:s,onChange:f})})})});B.__docgenInfo={description:`All search boxes exported by the search plugin are based on the <SearchBarBase />,
and this one is based on the <InputBase /> component from Material UI.
Recommended if you don't use Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBarBase",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},clearButton:{required:!1,tsType:{name:"boolean"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},endAdornment:{required:!1,tsType:{name:"ReactNode"},description:""}}};$.__docgenInfo={description:`Recommended search bar when you use the Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBar"};export{$ as SearchBar,B as SearchBarBase};
