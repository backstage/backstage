import{j as m}from"./jsx-runtime-hv06LKfz.js";import{r as f}from"./index-D8-PC79C.js";import{S as h,u as d,a as g}from"./SearchContext-DiK7zrkk.js";import{q as l}from"./index-DP9-3wfB.js";import{b as x,u as P}from"./index-B7KODvs-.js";import"./lodash-D1GzKnrP.js";import"./useAsync-7M-9CJJS.js";import"./useMountedState-YD35FCBK.js";import"./api-YILTVPsk.js";import"./ApiRef-ByCJBjX1.js";import"./ConfigApi-ij0WO1-Y.js";import"./useAnalytics-Q-nz63z2.js";const q=()=>{const e=P(),{term:t,setTerm:s,types:o,setTypes:a,pageCursor:i,setPageCursor:n,filters:p,setFilters:c}=d(),u=g(e.search);return f.useEffect(()=>{if(e.search===u)return;const r=l.parse(e.search.substring(1),{arrayLimit:0})||{};r.filters&&c(r.filters),r.query&&s(r.query),r.pageCursor&&n(r.pageCursor),r.types&&a(r.types)},[u,e,s,a,n,c]),f.useEffect(()=>{const r=l.stringify({query:t,types:o,pageCursor:i,filters:p},{arrayFormat:"brackets"}),y=`${window.location.pathname}?${r}`;window.history.replaceState(null,document.title,y)},[t,o,i,p]),null},w=()=>{const e=x();return m.jsxs(h,{children:[m.jsx(q,{}),e]})};w.__docgenInfo={description:"@public",methods:[],displayName:"SearchPage"};export{w as SearchPage};
