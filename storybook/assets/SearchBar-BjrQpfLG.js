import{r,j as t,n as K,k as _,c as N,I as z}from"./iframe-DqJQ9uPs.js";import{S as V}from"./Search-BFFjDBdX.js";import{u as F}from"./useDebounce-CUiC67Nq.js";import{s as L}from"./translation-Zm4WQ7LK.js";import{u as M,S as y}from"./SearchContext-CDPFSwZ_.js";import{I as x}from"./InputAdornment-COc8rih1.js";import{B as O}from"./Button-D9LFAX2g.js";import{T as Q}from"./TextField-DaWEjdom.js";import{A as U}from"./useAnalytics-CfDtSbQu.js";import{u as W}from"./useApp-ByL28iDl.js";import"./preload-helper-D9Z9MdNV.js";import"./lodash-CwBbdt2Q.js";import"./useAsync-DlfksqDa.js";import"./useMountedState-BU_XpB7e.js";import"./api-DFeRnRBI.js";import"./useFormControl-CUP8RVYe.js";import"./Select-BTs0VRvv.js";import"./index-DnL3XN75.js";import"./Popover-O0XQDvdf.js";import"./Modal-DbdYSBMO.js";import"./Portal-CAVLkONX.js";import"./List-HqDhN-yv.js";import"./ListContext-DWNGGGl9.js";import"./formControlState-ByiNFc8I.js";import"./FormLabel-CFDsgmCA.js";import"./InputLabel-DI2qx3ui.js";const B=r.forwardRef((m,h)=>{const{onChange:n,onKeyDown:a=()=>{},onClear:i=()=>{},onSubmit:s=()=>{},debounceTime:o=200,clearButton:f=!0,fullWidth:c=!0,value:g,label:b,placeholder:S,inputProps:C={},InputProps:v={},endAdornment:I,...A}=m,T=K(N),[l,u]=r.useState(""),d=r.useRef(""),{t:p}=_(L);r.useEffect(()=>{u(e=>e===d.current?String(g):e)},[g,d]),F(()=>{d.current=l,n(l)},o,[l]);const R=r.useCallback(e=>{u(e.target.value)},[u]),j=r.useCallback(e=>{a&&a(e),s&&e.key==="Enter"&&s()},[a,s]),P=r.useCallback(()=>{d.current="",n(""),u(""),i&&i()},[n,i]),w=b?void 0:p("searchBar.title"),k=S??p("searchBar.placeholder",{org:T.getOptionalString("app.title")||"Backstage"}),E=W().getSystemIcon("search")||V,q=t.jsx(x,{position:"start",children:t.jsx(z,{"aria-label":"Query",size:"small",disabled:!0,children:t.jsx(E,{})})}),D=t.jsx(x,{position:"end",children:t.jsx(O,{"aria-label":p("searchBar.clearButtonTitle"),size:"small",onClick:P,onKeyDown:e=>{e.key==="Enter"&&e.stopPropagation()},children:p("searchBar.clearButtonTitle")})});return t.jsx(y,{inheritParentContextIfAvailable:!0,children:t.jsx(Q,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:h,value:l,label:b,placeholder:k,InputProps:{startAdornment:q,endAdornment:f?D:I,...v},inputProps:{"aria-label":w,...C},fullWidth:c,onChange:R,onKeyDown:j,...A})})}),$=r.forwardRef((m,h)=>{const{value:n="",onChange:a,...i}=m,{term:s,setTerm:o}=M();r.useEffect(()=>{n&&o(String(n))},[n,o]);const f=r.useCallback(c=>{a?a(c):o(c)},[a,o]);return t.jsx(y,{inheritParentContextIfAvailable:!0,children:t.jsx(U,{attributes:{pluginId:"search",extension:"SearchBar"},children:t.jsx(B,{...i,ref:h,value:s,onChange:f})})})});B.__docgenInfo={description:`All search boxes exported by the search plugin are based on the <SearchBarBase />,
and this one is based on the <InputBase /> component from Material UI.
Recommended if you don't use Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBarBase",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},clearButton:{required:!1,tsType:{name:"boolean"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},endAdornment:{required:!1,tsType:{name:"ReactNode"},description:""}}};$.__docgenInfo={description:`Recommended search bar when you use the Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBar"};export{$ as SearchBar,B as SearchBarBase};
