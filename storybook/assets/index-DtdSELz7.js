import{g as M}from"./index-D8-PC79C.js";var h={},T;function R(){if(T)return h;T=1,Object.defineProperty(h,"__esModule",{value:!0}),h.Observable=void 0;const E=r=>!!Symbol[r],m=r=>E(r)?Symbol[r]:"@@"+r,j=m("iterator"),w=m("observable"),x=m("species");function d(r,e){let n=r[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function a(r){let e=r.constructor;return e!==void 0&&(e=e[x],e===null&&(e=void 0)),e!==void 0?e:p}function z(r){return r instanceof p}function f(r){f.log?f.log(r):setTimeout(()=>{throw r})}function b(r){Promise.resolve().then(()=>{try{r()}catch(e){f(e)}})}function S(r){let e=r._cleanup;if(e!==void 0&&(r._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{let n=d(e,"unsubscribe");n&&n.call(e)}}catch(n){f(n)}}function _(r){r._observer=void 0,r._queue=void 0,r._state="closed"}function k(r){let e=r._queue;if(e){r._queue=void 0,r._state="ready";for(let n=0;n<e.length&&(q(r,e[n].type,e[n].value),r._state!=="closed");++n);}}function q(r,e,n){r._state="running";let i=r._observer;try{let t=d(i,e);switch(e){case"next":t&&t.call(i,n);break;case"error":if(_(r),t)t.call(i,n);else throw n;break;case"complete":_(r),t&&t.call(i);break}}catch(t){f(t)}r._state==="closed"?S(r):r._state==="running"&&(r._state="ready")}function g(r,e,n){if(r._state!=="closed"){if(r._state==="buffering"){r._queue.push({type:e,value:n});return}if(r._state!=="ready"){r._state="buffering",r._queue=[{type:e,value:n}],b(()=>k(r));return}q(r,e,n)}}class P{constructor(e,n){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";let i=this,t={get closed(){return i._state==="closed"},next(o){g(i,"next",o)},error(o){g(i,"error",o)},complete(){g(i,"complete")}};try{this._cleanup=n.call(void 0,t)}catch(o){t.error(o)}this._state==="initializing"&&(this._state="ready")}get closed(){return this._state==="closed"}unsubscribe(){this._state!=="closed"&&(_(this),S(this))}}let p=class y{constructor(e){if(!(this instanceof y))throw new TypeError("Observable cannot be called as a function");if(typeof e!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e){return(typeof e!="object"||e===null)&&(e={next:e,error:arguments[1],complete:arguments[2]}),new P(e,this._subscriber)}forEach(e){return new Promise((n,i)=>{if(typeof e!="function"){i(new TypeError(e+" is not a function"));return}function t(){o.unsubscribe(),n()}let o=this.subscribe({next(u){try{e(u,t)}catch(l){i(l),o.unsubscribe()}},error:i,complete:n})})}map(e){if(typeof e!="function")throw new TypeError(e+" is not a function");let n=a(this);return new n(i=>this.subscribe({next(t){try{t=e(t)}catch(o){return i.error(o)}i.next(t)},error(t){i.error(t)},complete(){i.complete()}}))}filter(e){if(typeof e!="function")throw new TypeError(e+" is not a function");let n=a(this);return new n(i=>this.subscribe({next(t){try{if(!e(t))return}catch(o){return i.error(o)}i.next(t)},error(t){i.error(t)},complete(){i.complete()}}))}reduce(e){if(typeof e!="function")throw new TypeError(e+" is not a function");let n=a(this),i=arguments.length>1,t=!1,u=arguments[1];return new n(l=>this.subscribe({next(c){let s=!t;if(t=!0,!s||i)try{u=e(u,c)}catch(I){return l.error(I)}else u=c},error(c){l.error(c)},complete(){if(!t&&!i)return l.error(new TypeError("Cannot reduce an empty sequence"));l.next(u),l.complete()}}))}async all(){let e=[];return await this.forEach(n=>e.push(n)),e}concat(...e){let n=a(this);return new n(i=>{let t,o=0;function u(l){t=l.subscribe({next(c){i.next(c)},error(c){i.error(c)},complete(){o===e.length?(t=void 0,i.complete()):u(n.from(e[o++]))}})}return u(this),()=>{t&&(t.unsubscribe(),t=void 0)}})}flatMap(e){if(typeof e!="function")throw new TypeError(e+" is not a function");let n=a(this);return new n(i=>{let t=[],o=this.subscribe({next(l){if(e)try{l=e(l)}catch(s){return i.error(s)}let c=n.from(l).subscribe({next(s){i.next(s)},error(s){i.error(s)},complete(){let s=t.indexOf(c);s>=0&&t.splice(s,1),u()}});t.push(c)},error(l){i.error(l)},complete(){u()}});function u(){o.closed&&t.length===0&&i.complete()}return()=>{t.forEach(l=>l.unsubscribe()),o.unsubscribe()}})}[w](){return this}static from(e){let n=typeof this=="function"?this:y;if(e==null)throw new TypeError(e+" is not an object");let i=d(e,w);if(i){let t=i.call(e);if(Object(t)!==t)throw new TypeError(t+" is not an object");return z(t)&&t.constructor===n?t:new n(o=>t.subscribe(o))}if(E("iterator")&&(i=d(e,j),i))return new n(t=>{b(()=>{if(!t.closed){for(let o of i.call(e))if(t.next(o),t.closed)return;t.complete()}})});if(Array.isArray(e))return new n(t=>{b(()=>{if(!t.closed){for(let o=0;o<e.length;++o)if(t.next(e[o]),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){let n=typeof this=="function"?this:y;return new n(i=>{b(()=>{if(!i.closed){for(let t=0;t<e.length;++t)if(i.next(e[t]),i.closed)return;i.complete()}})})}static get[x](){return this}};return h.Observable=p,Object.defineProperty(p,Symbol("extensions"),{value:{symbol:w,hostReportError:f},configurable:!0}),h}var O,C;function A(){return C||(C=1,O=R().Observable),O}var D=A();const Z=M(D);export{Z as O};
