import{$ as O,c as N,a as A}from"./utils-BXllfVt4.js";import{$ as j}from"./Label-o9S_v-xF.js";import{$ as w,a as R}from"./useObjectRef-BPFp5snO.js";import{$ as L}from"./useFocusable-BwFERnd_.js";import{r as $,R as h}from"./iframe-M9O-K8SB.js";import{$ as B}from"./useLabel-COjMvP6r.js";import{$ as S}from"./context-Bv6kxITJ.js";import{$ as _}from"./Hidden-DTd05gNK.js";import{$ as H}from"./useButton-F9hepFpV.js";import{a as Z,$ as k}from"./useFocusRing-COnCKKka.js";function F(r,e=-1/0,t=1/0){return Math.min(Math.max(r,e),t)}const I=7e3;let n=null;function C(r,e="assertive",t=I){n?n.announce(r,e,t):(n=new W,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?n.announce(r,e,t):setTimeout(()=>{n?.isAttached()&&n?.announce(r,e,t)},100))}class W{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",o=I){var a,i;if(!this.node)return;let l=document.createElement("div");typeof e=="object"?(l.setAttribute("role","img"),l.setAttribute("aria-labelledby",e["aria-labelledby"])):l.textContent=e,t==="assertive"?(a=this.assertiveLog)===null||a===void 0||a.appendChild(l):(i=this.politeLog)===null||i===void 0||i.appendChild(l),e!==""&&setTimeout(()=>{l.remove()},o)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}let P=new Map,E=!1;try{E=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let g=!1;try{g=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const M={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class z{format(e){let t="";if(!E&&this.options.signDisplay!=null?t=J(this.numberFormatter,this.options.signDisplay,e):t=this.numberFormatter.format(e),this.options.style==="unit"&&!g){var o;let{unit:a,unitDisplay:i="short",locale:l}=this.resolvedOptions();if(!a)return t;let s=(o=M[a])===null||o===void 0?void 0:o[i];t+=s[l]||s.default}return t}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,t){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,t);if(t<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(t)}`}formatRangeToParts(e,t){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,t);if(t<e)throw new RangeError("End date must be >= start date");let o=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(t);return[...o.map(i=>({...i,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!E&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!g&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,t={}){this.numberFormatter=G(e,t),this.options=t}}function G(r,e={}){let{numberingSystem:t}=e;if(t&&r.includes("-nu-")&&(r.includes("-u-")||(r+="-u-"),r+=`-nu-${t}`),e.style==="unit"&&!g){var o;let{unit:l,unitDisplay:s="short"}=e;if(!l)throw new Error('unit option must be provided with style: "unit"');if(!(!((o=M[l])===null||o===void 0)&&o[s]))throw new Error(`Unsupported unit ${l} with unitDisplay = ${s}`);e={...e,style:"decimal"}}let a=r+(e?Object.entries(e).sort((l,s)=>l[0]<s[0]?-1:1).join():"");if(P.has(a))return P.get(a);let i=new Intl.NumberFormat(r,e);return P.set(a,i),i}function J(r,e,t){if(e==="auto")return r.format(t);if(e==="never")return r.format(Math.abs(t));{let o=!1;if(e==="always"?o=t>0||Object.is(t,0):e==="exceptZero"&&(Object.is(t,-0)||Object.is(t,0)?t=Math.abs(t):o=t>0),o){let a=r.format(-t),i=r.format(t),l=a.replace(i,"").replace(/\u200e|\u061C/,"");return[...l].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(i,"!!!").replace(l,"+").replace("!!!",i)}else return r.format(t)}}function K(r={}){let{locale:e}=S();return $.useMemo(()=>new z(e,r),[e,r])}function U(r){let{value:e=0,minValue:t=0,maxValue:o=100,valueLabel:a,isIndeterminate:i,formatOptions:l={style:"percent"}}=r,s=L(r,{labelable:!0}),{labelProps:d,fieldProps:f}=B({...r,labelElementType:"span"});e=F(e,t,o);let m=(e-t)/(o-t),b=K(l);if(!i&&!a){let u=l.style==="percent"?m:e;a=b.format(u)}return{progressBarProps:w(s,{...f,"aria-valuenow":i?void 0:e,"aria-valuemin":t,"aria-valuemax":o,"aria-valuetext":i?void 0:a,role:"progressbar"}),labelProps:d}}const V=$.createContext(null),ne=$.forwardRef(function(e,t){[e,t]=O(e,t,V);let{value:o=0,minValue:a=0,maxValue:i=100,isIndeterminate:l=!1}=e;o=F(o,a,i);let[s,d]=N(!e["aria-label"]&&!e["aria-labelledby"]),{progressBarProps:f,labelProps:m}=U({...e,label:d}),b=l?void 0:(o-a)/(i-a)*100,u=A({...e,defaultClassName:"react-aria-ProgressBar",values:{percentage:b,valueText:f["aria-valuetext"],isIndeterminate:l}}),p=L(e,{global:!0});return h.createElement("div",{...w(p,u,f),ref:t,slot:e.slot||void 0},h.createElement(j.Provider,{value:{...m,ref:s,elementType:"span"}},u.children))}),Y=$.createContext({}),de=_(function(e,t){[e,t]=O(e,t,Y);let o=e,{isPending:a}=o,{buttonProps:i,isPressed:l}=H(e,t);i=q(i,a);let{focusProps:s,isFocused:d,isFocusVisible:f}=Z(e),{hoverProps:m,isHovered:b}=k({...e,isDisabled:e.isDisabled||a}),u={isHovered:b,isPressed:(o.isPressed||l)&&!a,isFocused:d,isFocusVisible:f,isDisabled:e.isDisabled||!1,isPending:a??!1},p=A({...e,values:u,defaultClassName:"react-aria-Button"}),v=R(i.id),y=R(),c=i["aria-labelledby"];a&&(c?c=`${c} ${y}`:i["aria-label"]&&(c=`${v} ${y}`));let x=$.useRef(a);$.useEffect(()=>{let T={"aria-labelledby":c||v};(!x.current&&d&&a||x.current&&d&&!a)&&C(T,"assertive"),x.current=a},[a,d,c,v]);let D=L(e,{global:!0});return delete D.onClick,h.createElement("button",{...w(D,p,i,s,m),type:i.type==="submit"&&a?"button":i.type,id:v,ref:t,"aria-labelledby":c,slot:e.slot||void 0,"aria-disabled":a?"true":i["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":u.isPressed||void 0,"data-hovered":b||void 0,"data-focused":d||void 0,"data-pending":a||void 0,"data-focus-visible":f||void 0},h.createElement(V.Provider,{value:{id:y}},p.children))});function q(r,e){if(e){for(const t in r)t.startsWith("on")&&!(t.includes("Focus")||t.includes("Blur"))&&(r[t]=void 0);r.href=void 0,r.target=void 0}return r}export{de as $,ne as a,F as b,Y as c,C as d};
