import{$}from"./context-DsQFltCn.js";import{r as b}from"./iframe-B6vHPHUS.js";const g=Symbol.for("react-aria.i18n.locale"),h=Symbol.for("react-aria.i18n.strings");let o;class c{getStringForLocale(t,e){let a=this.getStringsForLocale(e)[t];if(!a)throw new Error(`Could not find intl message ${t} in ${e} locale`);return a}getStringsForLocale(t){let e=this.strings[t];return e||(e=p(t,this.strings,this.defaultLocale),this.strings[t]=e),e}static getGlobalDictionaryForPackage(t){if(typeof window>"u")return null;let e=window[g];if(o===void 0){let a=window[h];if(!a)return null;o={};for(let i in a)o[i]=new c({[e]:a[i]},e)}let r=o?.[t];if(!r)throw new Error(`Strings for package "${t}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(t,e="en-US"){this.strings=Object.fromEntries(Object.entries(t).filter(([,r])=>r)),this.defaultLocale=e}}function p(n,t,e="en-US"){if(t[n])return t[n];let r=w(n);if(t[r])return t[r];for(let a in t)if(a.startsWith(r+"-"))return t[a];return t[e]}function w(n){return Intl.Locale?new Intl.Locale(n).language:n.split("-")[0]}const s=new Map,f=new Map;class m{format(t,e){let r=this.strings.getStringForLocale(t,this.locale);return typeof r=="function"?r(e,this):r}plural(t,e,r="cardinal"){let a=e["="+t];if(a)return typeof a=="function"?a():a;let i=this.locale+":"+r,l=s.get(i);l||(l=new Intl.PluralRules(this.locale,{type:r}),s.set(i,l));let d=l.select(t);return a=e[d]||e.other,typeof a=="function"?a():a}number(t){let e=f.get(this.locale);return e||(e=new Intl.NumberFormat(this.locale),f.set(this.locale,e)),e.format(t)}select(t,e){let r=t[e]||t.other;return typeof r=="function"?r():r}constructor(t,e){this.locale=t,this.strings=e}}const u=new WeakMap;function y(n){let t=u.get(n);return t||(t=new c(n),u.set(n,t)),t}function S(n,t){return t&&c.getGlobalDictionaryForPackage(t)||y(n)}function F(n,t){let{locale:e}=$(),r=S(n,t);return b.useMemo(()=>new m(e,r),[e,r])}export{F as $};
