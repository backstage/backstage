import{j as e}from"./jsx-runtime-hv06LKfz.js";import{m as j}from"./makeStyles-CJp8qHqH.js";import{E as c}from"./ErrorPanel-BU6m2gEX.js";import{L as d}from"./ListItem-CIr9U5k9.js";import{L as l}from"./ListItemText-B_U2MM_y.js";import{C as h}from"./CopyTextButton-CNtIvRbE.js";import{D as E}from"./Divider-Gy4Ua46w.js";import{C as S}from"./CodeSnippet-BYf8ynTR.js";const R=j(s=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:s.spacing(2)},divider:{margin:s.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function v(s){const{title:i,error:r,defaultExpanded:m}=s,o=R();if(r.name!=="ResponseError")return e.jsx(c,{title:i??r.message,defaultExpanded:m,error:r});const{body:p,cause:n}=r,{request:t,response:g}=p,f=`${g.statusCode}: ${n.name}`,a=t&&`${t.method} ${t.url}`,u=n.message.replace(/\\n/g,`
`),x=n.stack?.replace(/\\n/g,`
`),y=JSON.stringify(p,void 0,2);return e.jsxs(c,{title:i??r.message,defaultExpanded:m,error:{name:f,message:u,stack:x},children:[a&&e.jsxs(d,{alignItems:"flex-start",children:[e.jsx(l,{classes:{secondary:o.text},primary:"Request",secondary:t?`${a}`:void 0}),e.jsx(h,{text:a})]}),e.jsxs(e.Fragment,{children:[e.jsx(E,{component:"li",className:o.divider}),e.jsx(d,{alignItems:"flex-start",children:e.jsx(l,{classes:{secondary:o.text},primary:"Full Error as JSON"})}),e.jsx(S,{language:"json",text:y,showCopyCodeButton:!0})]})]})}v.__docgenInfo={description:`Renders a warning panel as the effect of a failed server request.

@remarks
Has special treatment for ResponseError errors, to display rich
server-provided information about what happened.`,methods:[],displayName:"ResponseErrorPanel",props:{error:{required:!0,tsType:{name:"Error"},description:""},defaultExpanded:{required:!1,tsType:{name:"boolean"},description:""},titleFormat:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""}}};export{v as R};
