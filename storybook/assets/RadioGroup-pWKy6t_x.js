import{j as F}from"./jsx-runtime-hv06LKfz.js";import{r as $,R as D}from"./index-D8-PC79C.js";import{a as y,c as C,$ as M,e as _,f as G,d as w,h as k,k as j,l as T,g as W}from"./utils-SVxEJA3c.js";import{c as A,b as H,a as K,d as U,e as z,f as J,F as Q}from"./FieldError-1gSpcCTl.js";import{a as X}from"./Label-x6hg8m87.js";import{a as Y,b as q,$ as Z,d as ee,c as ae}from"./useFocusRing-CSBfGNH9.js";import{$ as ie}from"./useControlledState-hFzvQclK.js";import{$ as de}from"./FocusScope-8zIF1xgC.js";import{$ as le}from"./context-C8UuisDZ.js";import{$ as re}from"./useFormReset-JKupIHyW.js";import{a as B}from"./usePress-BiO5y4q0.js";import{$ as se}from"./VisuallyHidden-C9OzMNB-.js";import{c as S}from"./clsx-B-dksMZM.js";import{F as oe}from"./FieldLabel-Bmb1Qquy.js";import{u as E}from"./useStyles-Dc-DqJ_c.js";const L=new WeakMap;function te(a,e,l){let{value:d,children:o,"aria-label":r,"aria-labelledby":t}=a;const i=a.isDisabled||e.isDisabled;let s=e.selectedValue===d,u=f=>{f.stopPropagation(),e.setSelectedValue(d)},{pressProps:n,isPressed:b}=B({isDisabled:i}),{pressProps:v,isPressed:P}=B({isDisabled:i,onPress(){var f;e.setSelectedValue(d),(f=l.current)===null||f===void 0||f.focus()}}),{focusableProps:h}=Y(y(a,{onFocus:()=>e.setLastFocusedValue(d)}),l),m=y(n,h),I=q(a,{labelable:!0}),x=-1;e.selectedValue!=null?e.selectedValue===d&&(x=0):(e.lastFocusedValue===d||e.lastFocusedValue==null)&&(x=0),i&&(x=void 0);let{name:V,descriptionId:g,errorMessageId:p,validationBehavior:c}=L.get(e);return re(l,e.selectedValue,e.setSelectedValue),A({validationBehavior:c},e,l),{labelProps:y(v,{onClick:f=>f.preventDefault()}),inputProps:y(I,{...m,type:"radio",name:V,tabIndex:x,disabled:i,required:e.isRequired&&c==="native",checked:s,value:d,onChange:u,"aria-describedby":[a["aria-describedby"],e.isInvalid?p:null,g].filter(Boolean).join(" ")||void 0}),isDisabled:i,isSelected:s,isPressed:b||P}}function ne(a,e){let{name:l,isReadOnly:d,isRequired:o,isDisabled:r,orientation:t="vertical",validationBehavior:i="aria"}=a,{direction:s}=le(),{isInvalid:u,validationErrors:n,validationDetails:b}=e.displayValidation,{labelProps:v,fieldProps:P,descriptionProps:h,errorMessageProps:m}=H({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||n}),I=q(a,{labelable:!0}),{focusWithinProps:x}=Z({onBlurWithin(p){var c;(c=a.onBlur)===null||c===void 0||c.call(a,p),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),V=p=>{let c;switch(p.key){case"ArrowRight":s==="rtl"&&t!=="vertical"?c="prev":c="next";break;case"ArrowLeft":s==="rtl"&&t!=="vertical"?c="next":c="prev";break;case"ArrowDown":c="next";break;case"ArrowUp":c="prev";break;default:return}p.preventDefault();let f=de(p.currentTarget,{from:p.target}),R;c==="next"?(R=f.nextNode(),R||(f.currentNode=p.currentTarget,R=f.firstChild())):(R=f.previousNode(),R||(f.currentNode=p.currentTarget,R=f.lastChild())),R&&(R.focus(),e.setSelectedValue(R.value))},g=C(l);return L.set(e,{name:g,descriptionId:h.id,errorMessageId:m.id,validationBehavior:i}),{radioGroupProps:y(I,{role:"radiogroup",onKeyDown:V,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":d||void 0,"aria-required":o||void 0,"aria-disabled":r||void 0,"aria-orientation":t,...P,...x}),labelProps:v,descriptionProps:h,errorMessageProps:m,isInvalid:u,validationErrors:n,validationDetails:b}}let ce=Math.round(Math.random()*1e10),fe=0;function ue(a){let e=$.useMemo(()=>a.name||`radio-group-${ce}-${++fe}`,[a.name]);var l;let[d,o]=ie(a.value,(l=a.defaultValue)!==null&&l!==void 0?l:null,a.onChange),[r,t]=$.useState(null),i=K({...a,value:d}),s=n=>{!a.isReadOnly&&!a.isDisabled&&(o(n),i.commitValidation())},u=i.displayValidation.isInvalid;return{...i,name:e,selectedValue:d,setSelectedValue:s,lastFocusedValue:r,setLastFocusedValue:t,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(u?"invalid":null),isInvalid:u}}const be=$.createContext(null),$e=$.createContext(null),O=$.createContext(null),ve=$.forwardRef(function(e,l){[e,l]=M(e,l,be);let{validationBehavior:d}=_(U)||{};var o,r;let t=(r=(o=e.validationBehavior)!==null&&o!==void 0?o:d)!==null&&r!==void 0?r:"native",i=ue({...e,validationBehavior:t}),[s,u]=G(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:n,labelProps:b,descriptionProps:v,errorMessageProps:P,...h}=ne({...e,label:u,validationBehavior:t},i),m=w({...e,values:{orientation:e.orientation||"vertical",isDisabled:i.isDisabled,isReadOnly:i.isReadOnly,isRequired:i.isRequired,isInvalid:i.isInvalid,state:i},defaultClassName:"react-aria-RadioGroup"});return D.createElement("div",{...n,...m,ref:l,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":i.isInvalid||void 0,"data-disabled":i.isDisabled||void 0,"data-readonly":i.isReadOnly||void 0,"data-required":i.isRequired||void 0},D.createElement(k,{values:[[O,i],[X,{...b,ref:s,elementType:"span"}],[z,{slots:{description:v,errorMessage:P}}],[J,h]]},m.children))}),pe=$.forwardRef(function(e,l){let{inputRef:d=null,...o}=e;[e,l]=M(o,l,$e);let r=D.useContext(O),t=j($.useMemo(()=>T(d,e.inputRef!==void 0?e.inputRef:null),[d,e.inputRef])),{labelProps:i,inputProps:s,isSelected:u,isDisabled:n,isPressed:b}=te({...W(e),children:typeof e.children=="function"?!0:e.children},r,t),{isFocused:v,isFocusVisible:P,focusProps:h}=ee(),m=n||r.isReadOnly,{hoverProps:I,isHovered:x}=ae({...e,isDisabled:m}),V=w({...e,defaultClassName:"react-aria-Radio",values:{isSelected:u,isPressed:b,isHovered:x,isFocused:v,isFocusVisible:P,isDisabled:n,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),g=q(e);return delete g.id,D.createElement("label",{...y(g,i,I,V),ref:l,"data-selected":u||void 0,"data-pressed":b||void 0,"data-hovered":x||void 0,"data-focused":v||void 0,"data-focus-visible":P||void 0,"data-disabled":n||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},D.createElement(se,{elementType:"span"},D.createElement("input",{...y(s,h),ref:t})),V.children)}),N=$.forwardRef((a,e)=>{const{className:l,label:d,secondaryLabel:o,description:r,isRequired:t,"aria-label":i,"aria-labelledby":s,children:u,...n}=a,{classNames:b}=E("RadioGroup");$.useEffect(()=>{!d&&!i&&!s&&console.warn("RadioGroup requires either a visible label, aria-label, or aria-labelledby for accessibility")},[d,i,s]);const v=o||(t?"Required":null);return F.jsxs(ve,{className:S(b.root,l),"aria-label":i,"aria-labelledby":s,...n,ref:e,children:[F.jsx(oe,{label:d,secondaryLabel:v,description:r}),F.jsx("div",{className:b.content,children:u}),F.jsx(Q,{})]})});N.displayName="RadioGroup";const me=$.forwardRef((a,e)=>{const{className:l,...d}=a,{classNames:o}=E("RadioGroup");return F.jsx(pe,{className:S(o.radio,l),...d,ref:e})});N.displayName="RadioGroup";N.__docgenInfo={description:"@public",methods:[],displayName:"RadioGroup",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}},composes:["Omit"]};me.__docgenInfo={description:"@public",methods:[],displayName:"Radio",composes:["AriaRadioProps"]};export{N as R,me as a};
