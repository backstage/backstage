import{b as f}from"./utils-DlhuadZk.js";import{b as O,a as R}from"./useFocusRing-Qh6jG-2Q.js";import{$ as E}from"./useFormReset-CsSbNfBn.js";import{a as g}from"./usePress-DCHo0S64.js";import{$ as I}from"./useControlledState-t75cWlZQ.js";import{r as U}from"./iframe-Dg7jNfgV.js";function G(e,a,l){let{isDisabled:t=!1,isReadOnly:r=!1,value:s,name:c,form:i,children:b,"aria-label":V,"aria-labelledby":j,validationState:$="valid",isInvalid:u,onPressStart:S,onPressEnd:p,onPressChange:v,onPress:o,onPressUp:P,onClick:m}=e,x=d=>{d.stopPropagation(),a.setSelected(d.target.checked)},{pressProps:y,isPressed:h}=g({onPressStart:S,onPressEnd:p,onPressChange:v,onPress:o,onPressUp:P,onClick:m,isDisabled:t}),{pressProps:C,isPressed:k}=g({onPressStart:S,onPressEnd:p,onPressChange:v,onPressUp:P,onClick:m,onPress(d){var n;o?.(d),a.toggle(),(n=l.current)===null||n===void 0||n.focus()},isDisabled:t||r}),{focusableProps:_}=O(e,l),D=f(y,_),L=R(e,{labelable:!0});return E(l,a.defaultSelected,a.setSelected),{labelProps:f(C,{onClick:d=>d.preventDefault()}),inputProps:f(L,{"aria-invalid":u||$==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":r||void 0,onChange:x,disabled:t,...s==null?{}:{value:s},name:c,form:i,type:"checkbox",...D}),isSelected:a.isSelected,isPressed:h||k,isDisabled:t,isReadOnly:r,isInvalid:u||$==="invalid"}}function H(e={}){let{isReadOnly:a}=e,[l,t]=I(e.isSelected,e.defaultSelected||!1,e.onChange),[r]=U.useState(l);function s(b){a||t(b)}function c(){a||t(!l)}var i;return{isSelected:l,defaultSelected:(i=e.defaultSelected)!==null&&i!==void 0?i:r,setSelected:s,toggle:c}}export{G as $,H as a};
