import{r as d,j as r,k as v,T as _}from"./iframe-BpNetfkk.js";import{s as k,M as N}from"./api-BdOdcRRd.js";import{s as R}from"./translation-DQWBFQd-.js";import{u as j,S as q}from"./SearchContext-CGmv-zVd.js";import{T as $}from"./TablePagination-DdN8iUR0.js";import{S as b}from"./Grid-DGDU_W7d.js";import"./preload-helper-D9Z9MdNV.js";import"./lodash-CwBbdt2Q.js";import"./useAsync-BEoRug7E.js";import"./useMountedState-ya7tp212.js";import"./useAnalytics-BKPjjI-y.js";import"./KeyboardArrowRight-BERUwLW_.js";import"./MenuItem-C2NdwYGU.js";import"./ListItem-BE6uqYrF.js";import"./ListContext-BkpiPoXc.js";import"./TableCell-DBNWbQVR.js";import"./Select-Bk_6znan.js";import"./index-DnL3XN75.js";import"./Popover-C0hTF1EH.js";import"./Modal-CJXuzFvx.js";import"./Portal-D3MaVJdo.js";import"./List-CcdBBh0x.js";import"./formControlState-ByiNFc8I.js";import"./useFormControl-p1mzlkeq.js";const O=e=>Buffer.from(e.toString(),"utf-8").toString("base64"),I=e=>e?Number(Buffer.from(e,"base64").toString("utf-8")):0,C=e=>{const{t}=v(R),{total:a=-1,cursor:c,hasNextPage:n,onCursorChange:l,limit:h=25,limitLabel:f=t("searchPagination.limitLabel"),limitText:x=({from:g,to:s})=>a>0?t("searchPagination.limitText",{num:`${a}`}):`${g}-${s}`,limitOptions:y,onLimitChange:P,...S}=e,T=d.useMemo(()=>I(c),[c]),w=d.useCallback((g,s)=>{l?.(O(s))},[l]),L=d.useCallback(g=>{const s=g.target.value;P?.(parseInt(s,10))},[P]);return r.jsx($,{...S,component:"div",count:a,page:T,nextIconButtonProps:{...n!==void 0&&{disabled:!n}},onPageChange:w,rowsPerPage:h,labelRowsPerPage:f,labelDisplayedRows:x,rowsPerPageOptions:y,onRowsPerPageChange:L})},o=e=>{const{pageLimit:t,setPageLimit:a,pageCursor:c,setPageCursor:n,fetchNextPage:l}=j(),h=d.useCallback(f=>{a(f),n(void 0)},[a,n]);return r.jsx(C,{...e,hasNextPage:!!l,limit:t,onLimitChange:h,cursor:c,onCursorChange:n})};C.__docgenInfo={description:`A component with controls for search results pagination.
@param props - See {@link SearchPaginationBaseProps}.
@public`,methods:[],displayName:"SearchPaginationBase",props:{className:{required:!1,tsType:{name:"string"},description:"The component class name."},total:{required:!1,tsType:{name:"number"},description:`The total number of results.
For an unknown number of items, provide -1.
Defaults to -1.`},cursor:{required:!1,tsType:{name:"string"},description:"The cursor for the current page."},hasNextPage:{required:!1,tsType:{name:"boolean"},description:"Whether a next page exists"},onCursorChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(pageCursor: string) => void",signature:{arguments:[{type:{name:"string"},name:"pageCursor"}],return:{name:"void"}}},description:"Callback fired when the current page cursor is changed."},limit:{required:!1,tsType:{name:"number"},description:`The limit of results per page.
Set -1 to display all the results.`},limitLabel:{required:!1,tsType:{name:"ReactNode"},description:`Customize the results per page label.
Defaults to "Results per page:".`},limitText:{required:!1,tsType:{name:"signature",type:"function",raw:`(params: {
  from: number;
  to: number;
  page: number;
  count: number;
}) => ReactNode`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  from: number;
  to: number;
  page: number;
  count: number;
}`,signature:{properties:[{key:"from",value:{name:"number",required:!0}},{key:"to",value:{name:"number",required:!0}},{key:"page",value:{name:"number",required:!0}},{key:"count",value:{name:"number",required:!0}}]}},name:"params"}],return:{name:"ReactNode"}}},description:'Customize the results per page text.\nDefaults to "(\\{ from, to, count \\}) =\\> count \\> 0 ? `of $\\{count\\}` : `$\\{from\\}-$\\{to\\}`".'},limitOptions:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"SearchPaginationLimitOption[]"},description:`Options for setting how many results show per page.
If less than two options are available, no select field will be displayed.
Use -1 for the value with a custom label to show all the results.
Defaults to [10, 25, 50, 100].`},onLimitChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:"Callback fired when the number of results per page is changed."}}};o.__docgenInfo={description:`A component for setting the search context page limit and cursor.
@param props - See {@link SearchPaginationProps}.
@public`,methods:[],displayName:"SearchPagination"};const se={title:"Plugins/Search/SearchPagination",component:o,decorators:[e=>r.jsx(_,{apis:[[k,new N]],children:r.jsx(q,{children:r.jsx(b,{container:!0,direction:"row",children:r.jsx(b,{item:!0,xs:12,children:r.jsx(e,{})})})})})]},i=()=>r.jsx(o,{}),m=()=>r.jsx(o,{limitLabel:"Rows per page:"}),u=()=>r.jsx(o,{limitText:({from:e,to:t})=>`${e}-${t} of more than ${t}`}),p=()=>r.jsx(o,{limitOptions:[5,10,20]});i.__docgenInfo={description:"",methods:[],displayName:"Default"};m.__docgenInfo={description:"",methods:[],displayName:"CustomPageLimitLabel"};u.__docgenInfo={description:"",methods:[],displayName:"CustomPageLimitText"};p.__docgenInfo={description:"",methods:[],displayName:"CustomPageLimitOptions"};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`() => {
  return <SearchPagination />;
}`,...i.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`() => {
  return <SearchPagination limitLabel="Rows per page:" />;
}`,...m.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:"() => {\n  return <SearchPagination limitText={({\n    from,\n    to\n  }) => `${from}-${to} of more than ${to}`} />;\n}",...u.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`() => {
  return <SearchPagination limitOptions={[5, 10, 20]} />;
}`,...p.parameters?.docs?.source}}};const ie=["Default","CustomPageLimitLabel","CustomPageLimitText","CustomPageLimitOptions"];export{m as CustomPageLimitLabel,p as CustomPageLimitOptions,u as CustomPageLimitText,i as Default,ie as __namedExportsOrder,se as default};
