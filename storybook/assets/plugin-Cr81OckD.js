const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-D2E-Haij.js","./iframe-B6vHPHUS.js","./preload-helper-D9Z9MdNV.js","./iframe-BxJmI9f2.css","./index-CG8HQpK_.js","./ref-C0VTUPuL.js","./CustomHomepageGrid-CBBsgEUr.js","./lodash-CwBbdt2Q.js","./useObservable-Cj9WRojc.js","./useIsomorphicLayoutEffect-CWw7s17H.js","./isSymbol-DhO4cmIY.js","./appWrappers-m0dyImYt.js","./useAnalytics-CHRs9F0l.js","./useAsync-CtKW-R0u.js","./useMountedState-4spEAOpb.js","./componentData-Ck-liOWv.js","./isObject--vsEa_js.js","./toString-Cr1IARFv.js","./useApp-c9Cmx9JK.js","./get-tzWnAsvT.js","./_baseSlice-DkFNCYmM.js","./_arrayReduce-BTs_qt-z.js","./toNumber-DwNnq1eP.js","./Add-DcktFRiD.js","./Grid-BHnfM9BN.js","./Box-BsuLuKk6.js","./styled-BNzka1pC.js","./TextField-BE4yNrH2.js","./Select-psTXzcAQ.js","./index-DnL3XN75.js","./Popover-CBmXs0vj.js","./Modal-BadxeSQ1.js","./Portal-DQJrkvBY.js","./List-C19QDRq1.js","./ListContext-D8DpMZfT.js","./formControlState-ByiNFc8I.js","./useFormControl-B8k-6ghs.js","./FormLabel-D_770mFO.js","./InputLabel-CuDSj0Lj.js","./ListItem-BxDrZyrD.js","./ListItemIcon-BFkyMXV-.js","./ListItemText-BE9Uflaf.js","./Remove-mN1xeAdo.js","./useCopyToClipboard-DyRiVU--.js","./Button-CJpRzj7y.js","./Divider-PYX69q2N.js","./FormControlLabel-DBV8ovMP.js","./Checkbox-BCXRv9zx.js","./SwitchBase-BC6VPVu3.js","./RadioGroup-BMA1yyVy.js","./MenuItem-D6E9BD6T.js","./translation-CeI4z23C.js","./DialogTitle-B91uUjY7.js","./Backdrop-khO5dm31.js","./Tooltip-BKT0sHqR.js","./Popper-0ce0RW6i.js","./createStyles-Bp4GwXob.js","./createStyles-yD3y8ldD.js","./ListItemAvatar-D50i6r2J.js","./Edit-CQBFyOXn.js","./Cancel-RkG8WOFO.js","./Progress-OrcUOgr2.js","./LinearProgress-DBlH8prv.js","./ContentHeader-BIqatK4n.js","./Helmet-DZTe_dyH.js","./ErrorBoundary-Crn6Mezf.js","./ErrorPanel-B64V3zAe.js","./WarningPanel-C9caxC0h.js","./ExpandMore-B0SFV6c5.js","./AccordionDetails-B-VwfNtv.js","./Collapse-CIMX6SDT.js","./MarkdownContent-D1AHxM79.js","./CodeSnippet-CV4g9JLu.js","./CopyTextButton-DuiMHNoR.js","./LinkButton-DwUDlPmx.js","./Link-BCwjV0MZ.js","./useElementFilter-DuNyKDqx.js","./CustomHomepageGrid-B9caxcv4.css","./Context-DPFAhdo9.js","./Plugin-uDhfna-s.js","./useRouteRef-_QxqMNzn.js","./InfoCard-Dl82Ld7M.js","./CardContent-DSCKd1_n.js","./CardHeader-YOBkbVrI.js","./CardActions-C0mZmhjb.js","./BottomLink-CNa6Jzbq.js","./ArrowForward-B1fZSS8q.js","./index-B7GLHgMO.js","./ComponentAccordion-CGsyOEZS.js","./Tabs-C5A5Scu8.js","./KeyboardArrowRight-Bbr1rybk.js","./index-Bff6kpYk.js","./index-DeNGELD_.js","./index-B8lQmDUC.js","./upperFirst-C7aOboHb.js","./index-CLoP4Z6X.js","./index-BAjBEIjB.js","./routes-DV9DM-2U.js","./EntityDisplayName-BmU-XwAd.js","./FavoriteToggle-CGA3HL7P.js","./icons-qIJiRU9N.js","./api-B7obBOnv.js","./StarredEntitiesApi-6SeILUA7.js","./ResponseErrorPanel-beR4crPZ.js","./index-BCgTJdUf.js","./HeaderLabel-DoCZ0HHL.js","./TopVisited-BkI_nrL9.js","./index-Bny2pSfC.js","./EntityRefLink-BLcSTk3k.js","./Chip-DVrU94NQ.js","./RecentlyVisited-CQsA3Ewk.js","./index-ZL7Bwd-t.js","./EmptyState-5BnGrMHu.js","./index-BVN6kygX.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./preload-helper-D9Z9MdNV.js";import{c as D,a as b}from"./appWrappers-m0dyImYt.js";import{a as j,c as V,b as h,d as k}from"./Plugin-uDhfna-s.js";import{i as L,k as A,j as s,ah as w,ai as O,aj as H,ak as q,q as z,r as v,I as M,g as B,aG as K}from"./iframe-B6vHPHUS.js";import{I as $}from"./InfoCard-Dl82Ld7M.js";import{D as F,a as N,b as W,c as J}from"./DialogTitle-B91uUjY7.js";import{B as Q}from"./Button-CJpRzj7y.js";import{u as U}from"./useApp-c9Cmx9JK.js";import{s as G}from"./useObservable-Cj9WRojc.js";const I=L({id:"home-react",messages:{settingsModal:{title:"Settings",closeButtonTitle:"Close"},cardExtension:{settingsButtonTitle:"Settings"}}}),P=r=>{const{open:e,close:i,componentName:t,children:n}=r,{t:o}=A(I);return s.jsxs(F,{open:e,onClose:()=>i(),children:[s.jsx(N,{children:t?`${o("settingsModal.title")} - ${t}`:o("settingsModal.title")}),s.jsx(W,{children:n}),s.jsx(J,{children:s.jsx(Q,{onClick:()=>i(),color:"primary",variant:"contained",children:o("settingsModal.closeButtonTitle")})})]})};P.__docgenInfo={description:"@public",methods:[],displayName:"SettingsModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},close:{required:!0,tsType:{name:"Function"},description:""},componentName:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var g={},R;function X(){if(R)return g;R=1;var r=w(),e=O();Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var i=e(H()),t=r(q()),n=(0,t.default)(i.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");return g.default=n,g}var Y=X();const Z=z(Y);function u(r){const{title:e,components:i,name:t,description:n,layout:o,settings:a}=r,c=a?.schema!==void 0;return j({name:t,data:{title:e,description:n,"home.widget.config":{layout:o,settings:a}},component:{lazy:()=>i().then(p=>d=>s.jsx(ee,{...d,...p,title:d.title||e,isCustomizable:c}))}})}function ee(r){const{Renderer:e,Content:i,Settings:t,Actions:n,ContextProvider:o,isCustomizable:a,title:c,...p}=r,d=U(),{Progress:f}=d.getComponents(),[x,y]=v.useState(!1),{t:C}=A(I);if(e)return s.jsx(v.Suspense,{fallback:s.jsx(f,{}),children:s.jsx(e,{...c&&{title:c},Content:i,...n?{Actions:n}:{},...t&&!a?{Settings:t}:{},...o?{ContextProvider:o}:{},...p})});const S={divider:!!c,...c&&{title:c},...t&&!a?{action:s.jsx(M,{onClick:()=>y(!0),children:s.jsx(Z,{children:C("cardExtension.settingsButtonTitle")})})}:{},...n?{actions:s.jsx(n,{})}:{}},E=s.jsxs($,{...S,children:[t&&!a&&s.jsx(P,{open:x,componentName:c,close:()=>y(!1),children:s.jsx(t,{})}),s.jsx(i,{...p})]});return s.jsx(v.Suspense,{fallback:s.jsx(f,{}),children:o?s.jsx(o,{...p,children:E}):E})}const T=D({id:"home"}),te=8;class _{limit;storageApi;storageKeyPrefix="@backstage/plugin-home:visits";identityApi;transformPathnameImpl;canSaveImpl;enrichVisitImpl;static create(e){return new _(e)}constructor(e){this.limit=Math.abs(e.limit??100),this.storageApi=e.storageApi,this.identityApi=e.identityApi,this.transformPathnameImpl=e.transformPathname,this.canSaveImpl=e.canSave,this.enrichVisitImpl=e.enrichVisit}async list(e){let i=[...await this.retrieveAll()];return(e?.orderBy??[]).reverse().forEach(t=>{t.direction==="asc"?i.sort((n,o)=>this.compare(t,n,o)):i.sort((n,o)=>this.compare(t,o,n))}),(e?.filterBy??[]).reverse().forEach(t=>{i=i.filter(n=>{const o=n[t.field];return t.operator===">"?o>t.value:t.operator===">="?o>=t.value:t.operator==="<"?o<t.value:t.operator==="<="?o<=t.value:t.operator==="=="?o===t.value:t.operator==="!="?o!==t.value:t.operator==="contains"?`${o}`.includes(`${t.value}`):!1})}),i.slice(0,e?.limit??te)}transformPathname(e){return this.transformPathnameImpl?.(e)??e}async canSave(e){return this.canSaveImpl?Promise.resolve(this.canSaveImpl(e)):!0}async enrichVisit(e){return this.enrichVisitImpl?Promise.resolve(this.enrichVisitImpl(e)):{}}async save(e){let i=e.visit;if(i={...i,pathname:this.transformPathname(i.pathname)},!await this.canSave(i))return{...i,id:"",hits:0,timestamp:Date.now()};const t=await this.enrichVisit(i),n={...i,...t},o=[...await this.retrieveAll()],a={...n,id:window.crypto.randomUUID(),hits:1,timestamp:Date.now()},c=o.findIndex(p=>p.pathname===a.pathname);return c>=0?(a.id=o[c].id,a.hits=o[c].hits+1,o[c]=a):o.push(a),o.sort((p,d)=>d.timestamp-p.timestamp),await this.persistAll(o.splice(0,this.limit)),a}async persistAll(e){const i=await this.getStorageKey();return this.storageApi.set(i,e)}async retrieveAll(){const e=await this.getStorageKey(),i=this.storageApi.snapshot(e);return i?.presence!=="unknown"?i?.value??[]:new Promise((t,n)=>{const o=this.storageApi.observe$(e).subscribe({next:a=>{const c=a.value??[];o.unsubscribe(),t(c)},error:a=>{o.unsubscribe(),n(a)}})})}async getStorageKey(){const{userEntityRef:e}=await this.identityApi.getBackstageIdentity();return`${this.storageKeyPrefix}:${e}`}compare(e,i,t){return typeof i[e.field]=="number"?i[e.field]-t[e.field]:`${i[e.field]}`.localeCompare(`${t[e.field]}`)}}const ue=r=>["<","<=","==","!=",">",">=","contains"].includes(r),ie=B({id:"homepage.visits"}),l=V({id:"home",apis:[b({api:ie,deps:{storageApi:G,identityApi:K},factory:({storageApi:r,identityApi:e})=>_.create({storageApi:r,identityApi:e})})],routes:{root:T}});l.provide(k({name:"HomepageCompositionRoot",component:()=>m(()=>import("./index-D2E-Haij.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86]),import.meta.url).then(r=>r.HomepageCompositionRoot),mountPoint:T}));l.provide(h({name:"ComponentAccordion",component:{lazy:()=>m(()=>import("./index-B7GLHgMO.js"),__vite__mapDeps([87,88,1,2,3,68,69,29,70,89,90,81,82,65,66,67,71,72,25,26,73,43,14,54,55,32,24,33,34,39,41,74,44,75,7,4,12,18,83,45,84,85,86,11,8,9,13,15,10,16,17,79,80,52,31,53]),import.meta.url).then(r=>r.ComponentAccordion)}}));l.provide(h({name:"ComponentTabs",component:{lazy:()=>m(()=>import("./index-B7GLHgMO.js"),__vite__mapDeps([87,88,1,2,3,68,69,29,70,89,90,81,82,65,66,67,71,72,25,26,73,43,14,54,55,32,24,33,34,39,41,74,44,75,7,4,12,18,83,45,84,85,86,11,8,9,13,15,10,16,17,79,80,52,31,53]),import.meta.url).then(r=>r.ComponentTabs)}}));l.provide(h({name:"ComponentTab",component:{lazy:()=>m(()=>import("./index-B7GLHgMO.js"),__vite__mapDeps([87,88,1,2,3,68,69,29,70,89,90,81,82,65,66,67,71,72,25,26,73,43,14,54,55,32,24,33,34,39,41,74,44,75,7,4,12,18,83,45,84,85,86,11,8,9,13,15,10,16,17,79,80,52,31,53]),import.meta.url).then(r=>r.ComponentTab)}}));l.provide(h({name:"WelcomeTitle",component:{lazy:()=>m(()=>import("./index-Bff6kpYk.js"),__vite__mapDeps([91,1,2,3,13,14,54,55,32]),import.meta.url).then(r=>r.WelcomeTitle)}}));const de=l.provide(h({name:"CompanyLogo",component:{lazy:()=>m(()=>import("./index-DeNGELD_.js"),__vite__mapDeps([92,1,2,3]),import.meta.url).then(r=>r.CompanyLogo)}})),he=l.provide(u({name:"HomePageRandomJoke",title:"Random Joke",components:()=>m(()=>import("./index-B8lQmDUC.js"),__vite__mapDeps([93,1,2,3,44,94,20,17,10,37,35,36,49,48,46]),import.meta.url),description:"Shows a random joke about optional category",layout:{height:{minRows:4},width:{minColumns:3}},settings:{schema:{title:"Random Joke settings",type:"object",properties:{defaultCategory:{title:"Category",type:"string",enum:["any","programming","dad"],default:"any"}}}}})),ge=l.provide(u({name:"HomePageToolkit",title:"Toolkit",components:()=>m(()=>import("./index-CLoP4Z6X.js"),__vite__mapDeps([95,1,2,3,33,34,40,41,75,7,4,12,18]),import.meta.url)})),ve=l.provide(u({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>m(()=>import("./index-BAjBEIjB.js"),__vite__mapDeps([96,1,2,3,13,14,75,7,4,12,18,51,97,11,8,9,15,10,16,17,5,39,34,40,41,98,25,26,54,55,32,19,80,99,100,101,102,33,89,29,90,61,62,103,66,67,68,69,70,71,72,73,43,24,45]),import.meta.url)}));l.provide(h({name:"HeaderWorldClock",component:{lazy:()=>m(()=>import("./index-BCgTJdUf.js"),__vite__mapDeps([104,1,2,3,105,24,75,7,4,12,18]),import.meta.url).then(r=>r.HeaderWorldClock)}}));l.provide(u({name:"HomePageTopVisited",title:"Top Visited",components:()=>m(()=>import("./TopVisited-BkI_nrL9.js"),__vite__mapDeps([106,1,2,3,107,108,97,11,8,9,12,13,14,15,10,16,17,4,18,5,80,98,25,26,54,55,32,19,75,7,78,109,39,34,58,41,51,70,33,44,79,81,82,65,66,67,68,69,29,71,72,73,43,24,74,83,45,84,85,86,52,31,53]),import.meta.url)}));l.provide(u({name:"HomePageRecentlyVisited",title:"Recently Visited",components:()=>m(()=>import("./RecentlyVisited-CQsA3Ewk.js"),__vite__mapDeps([110,1,2,3,107,108,97,11,8,9,12,13,14,15,10,16,17,4,18,5,80,98,25,26,54,55,32,19,75,7,78,109,39,34,58,41,51,70,33,44,79,81,82,65,66,67,68,69,29,71,72,73,43,24,74,83,45,84,85,86,52,31,53]),import.meta.url)}));const _e=l.provide(u({name:"FeaturedDocsCard",title:"Featured Docs",components:()=>m(()=>import("./index-ZL7Bwd-t.js"),__vite__mapDeps([111,1,2,3,13,14,51,101,66,67,68,69,29,70,71,72,25,26,73,43,54,55,32,24,33,34,39,41,61,62,75,7,4,12,18,98,19,11,8,9,15,10,16,17,5,112,74,44]),import.meta.url)})),fe=l.provide(u({name:"QuickStartCard",title:"Quick Start",components:()=>m(()=>import("./index-BVN6kygX.js"),__vite__mapDeps([113,1,2,3,51,75,7,4,12,18,31,32,25,26,24]),import.meta.url)}));export{_e as F,he as H,fe as Q,P as S,ve as a,de as b,ge as c,Z as d,u as e,l as h,ue as i,T as r,ie as v};
