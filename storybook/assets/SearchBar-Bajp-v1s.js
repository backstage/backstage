import{r,j as t,J as K,V as _,F as N,K as V}from"./iframe-DLcIH_b-.js";import{S as z}from"./Search-CrjyF_6T.js";import{u as F}from"./useDebounce-CjJdQA69.js";import{s as J}from"./translation-Z3ea3ATC.js";import{u as L,S as y}from"./SearchContext-zR3MpwzH.js";import{I as x}from"./InputAdornment-B7x30SOs.js";import{B as M}from"./Button-B2shhtfY.js";import{T as O}from"./TextField-EdI8PNcf.js";import{A as Q}from"./useAnalytics-DDULU5MS.js";import{u as U}from"./useApp-DqnX_mGX.js";import"./preload-helper-PPVm8Dsz.js";import"./lodash-rxUtCtQt.js";import"./useAsync-Dzs_Z8Sa.js";import"./useMountedState-CJM5rP6v.js";import"./api-DkwNX4It.js";import"./useFormControl-BpQOuyS3.js";import"./Select-pav2cxO6.js";import"./index-B9sM2jn7.js";import"./Popover-C_GbUgIX.js";import"./Modal-DqSKD8Sk.js";import"./Portal-D2sb6xU7.js";import"./List-DgCkyPF-.js";import"./ListContext-C-a3EO19.js";import"./formControlState-ByiNFc8I.js";import"./FormLabel-lfFIv-fQ.js";import"./InputLabel-C3T0rSQI.js";const B=r.forwardRef((m,h)=>{const{onChange:n,onKeyDown:a=()=>{},onClear:i=()=>{},onSubmit:s=()=>{},debounceTime:o=200,clearButton:f=!0,fullWidth:c=!0,value:g,label:b,placeholder:S,inputProps:C={},InputProps:v={},endAdornment:A,...I}=m,T=K(_),[l,u]=r.useState(""),d=r.useRef(""),{t:p}=N(J);r.useEffect(()=>{u(e=>e===d.current?String(g):e)},[g,d]),F(()=>{d.current=l,n(l)},o,[l]);const R=r.useCallback(e=>{u(e.target.value)},[u]),j=r.useCallback(e=>{a&&a(e),s&&e.key==="Enter"&&s()},[a,s]),P=r.useCallback(()=>{d.current="",n(""),u(""),i&&i()},[n,i]),w=b?void 0:p("searchBar.title"),k=S??p("searchBar.placeholder",{org:T.getOptionalString("app.title")||"Backstage"}),E=U().getSystemIcon("search")||z,q=t.jsx(x,{position:"start",children:t.jsx(V,{"aria-label":"Query",size:"small",disabled:!0,children:t.jsx(E,{})})}),D=t.jsx(x,{position:"end",children:t.jsx(M,{"aria-label":p("searchBar.clearButtonTitle"),size:"small",onClick:P,onKeyDown:e=>{e.key==="Enter"&&e.stopPropagation()},children:p("searchBar.clearButtonTitle")})});return t.jsx(y,{inheritParentContextIfAvailable:!0,children:t.jsx(O,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:h,value:l,label:b,placeholder:k,InputProps:{startAdornment:q,endAdornment:f?D:A,...v},inputProps:{"aria-label":w,...C},fullWidth:c,onChange:R,onKeyDown:j,...I})})}),W=r.forwardRef((m,h)=>{const{value:n="",onChange:a,...i}=m,{term:s,setTerm:o}=L();r.useEffect(()=>{n&&o(String(n))},[n,o]);const f=r.useCallback(c=>{a?a(c):o(c)},[a,o]);return t.jsx(y,{inheritParentContextIfAvailable:!0,children:t.jsx(Q,{attributes:{pluginId:"search",extension:"SearchBar"},children:t.jsx(B,{...i,ref:h,value:s,onChange:f})})})});B.__docgenInfo={description:`All search boxes exported by the search plugin are based on the <SearchBarBase />,
and this one is based on the <InputBase /> component from Material UI.
Recommended if you don't use Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBarBase",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},clearButton:{required:!1,tsType:{name:"boolean"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},endAdornment:{required:!1,tsType:{name:"ReactNode"},description:""}}};W.__docgenInfo={description:`Recommended search bar when you use the Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBar"};export{W as SearchBar,B as SearchBarBase};
