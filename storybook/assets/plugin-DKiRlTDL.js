const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DwnHjm6r.js","./iframe-BFEEYdl1.js","./preload-helper-D9Z9MdNV.js","./iframe-BxJmI9f2.css","./index-DFzOTOJF.js","./ref-C0VTUPuL.js","./CustomHomepageGrid-Bzu1jIil.js","./lodash-CwBbdt2Q.js","./useObservable-Dslwl8zx.js","./useIsomorphicLayoutEffect-C3Jz8w3d.js","./isSymbol-DhO4cmIY.js","./appWrappers-Drr8kDaZ.js","./useAnalytics-RL6zQB6E.js","./useAsync-CK6ps4Gs.js","./useMountedState-SzYJvnyY.js","./componentData-fXGhNbVj.js","./isObject--vsEa_js.js","./toString-Cr1IARFv.js","./useApp-BQvOBI0y.js","./get-Dsaj1oou.js","./_baseSlice-DkFNCYmM.js","./_arrayReduce-BTs_qt-z.js","./toNumber-DwNnq1eP.js","./Add-BSCjosDj.js","./Grid-_pxMEZfk.js","./Box-CcBhJ2N1.js","./styled-CQi9RfH7.js","./TextField-BAyv-RD7.js","./Select-Djy5U4Y0.js","./index-DnL3XN75.js","./Popover-D3pRgrSn.js","./Modal-DNwlsaiG.js","./Portal-CS1cCsNf.js","./List-Cp6nHQli.js","./ListContext-aQ8EEV7a.js","./formControlState-ByiNFc8I.js","./useFormControl-D7buIhaH.js","./FormLabel-Bhr5Y1VW.js","./InputLabel-Dw7t2-kZ.js","./ListItem-CoJRgtBh.js","./ListItemIcon-U0WBQXQ5.js","./ListItemText-B34yPKAV.js","./Remove-dpsF26_a.js","./useCopyToClipboard-CNm0_dns.js","./Button-Ci5q7ey2.js","./Divider-CYSzQ_1E.js","./FormControlLabel-D_LC5u_v.js","./Checkbox-C3PFc-vX.js","./SwitchBase-5_vTvZ2x.js","./RadioGroup-Bs8lCcPo.js","./MenuItem-C_MJVaC1.js","./translation-B5GjOEgV.js","./DialogTitle-C53FTZ8W.js","./Backdrop-Cc0uQTMy.js","./Tooltip-C4KvLgJb.js","./Popper-CQXdAewh.js","./createStyles-Bp4GwXob.js","./createStyles-yD3y8ldD.js","./ListItemAvatar-BZGEGqfr.js","./Edit-VmX5v1BN.js","./Cancel-BhI4Rj36.js","./Progress-Ca5iKXSZ.js","./LinearProgress-BCucwmQ2.js","./ContentHeader-CKY3foSk.js","./Helmet-BdGZzRpE.js","./ErrorBoundary-BrFvpfH8.js","./ErrorPanel-ByBjA_Oh.js","./WarningPanel-Ca_owezB.js","./ExpandMore-Ctn3qfGH.js","./AccordionDetails-BWiYd2nY.js","./Collapse-DQjjdB13.js","./MarkdownContent-BVMx6-i7.js","./CodeSnippet-DKeVSYKZ.js","./CopyTextButton-CPUbqQk2.js","./LinkButton-CtAJOX-o.js","./Link-BzkurKFl.js","./useElementFilter-DqBkgqgf.js","./CustomHomepageGrid-B9caxcv4.css","./Plugin-EFweYiy3.js","./useRouteRef-Djz7qv6Y.js","./InfoCard-BJpJ1bY7.js","./CardContent-C0IdQT8E.js","./CardHeader-aKIXN66o.js","./CardActions-BCgG5ICW.js","./BottomLink-Z_9FJnlR.js","./ArrowForward-CQW_bFSW.js","./index-D29bC4N4.js","./ComponentAccordion-OB8QYycT.js","./Tabs-DUepFwiD.js","./KeyboardArrowRight-BXXOvwRg.js","./index-n_PXDMiC.js","./index-CcJcyivA.js","./index-wgkk8Fv8.js","./upperFirst-C7aOboHb.js","./index-CR5KfALo.js","./index-BwBab3md.js","./routes-Hzt0uvEG.js","./EntityDisplayName-q8ZQgROb.js","./FavoriteToggle-B3Drr2zF.js","./icons-Ew_DtXSY.js","./api-BXvcrOVy.js","./StarredEntitiesApi-DOAUIFbX.js","./ResponseErrorPanel-Dkj679OV.js","./index-CAoY1vdc.js","./HeaderLabel-DxcyNRop.js","./TopVisited-oC22MqSH.js","./index-wP64MCOh.js","./EntityRefLink-DHNyz4YW.js","./Chip-Bkg_M_0R.js","./RecentlyVisited-BVwnDY5E.js","./index-CrM-N8Py.js","./EmptyState-KAE0n6P0.js","./index-B-3szmH6.js"])))=>i.map(i=>d[i]);
import{_ as a}from"./preload-helper-D9Z9MdNV.js";import{c as b,a as D}from"./appWrappers-Drr8kDaZ.js";import{a as j,c as k,b as d,d as L}from"./Plugin-EFweYiy3.js";import{i as O,k as A,j as s,ag as V,ah as w,ai as H,aj as q,s as z,r as v,I as M,g as B,aF as F}from"./iframe-BFEEYdl1.js";import{I as K}from"./InfoCard-BJpJ1bY7.js";import{D as $,a as N,b as W,c as J}from"./DialogTitle-C53FTZ8W.js";import{B as Q}from"./Button-Ci5q7ey2.js";import{u as U}from"./useApp-BQvOBI0y.js";import{s as X}from"./useObservable-Dslwl8zx.js";const T=O({id:"home-react",messages:{settingsModal:{title:"Settings",closeButtonTitle:"Close"},cardExtension:{settingsButtonTitle:"Settings"}}}),x=r=>{const{open:t,close:o,componentName:e,children:n}=r,{t:i}=A(T);return s.jsxs($,{open:t,onClose:()=>o(),children:[s.jsx(N,{children:e?`${i("settingsModal.title")} - ${e}`:i("settingsModal.title")}),s.jsx(W,{children:n}),s.jsx(J,{children:s.jsx(Q,{onClick:()=>o(),color:"primary",variant:"contained",children:i("settingsModal.closeButtonTitle")})})]})};x.__docgenInfo={description:"@public",methods:[],displayName:"SettingsModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},close:{required:!0,tsType:{name:"Function"},description:""},componentName:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var g={},R;function Y(){if(R)return g;R=1;var r=V(),t=w();Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var o=t(H()),e=r(q()),n=(0,e.default)(o.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");return g.default=n,g}var G=Y();const Z=z(G);function l(r){const{title:t,components:o,name:e,description:n,layout:i,settings:m}=r,p=m?.schema!==void 0;return j({name:e,data:{title:t,description:n,"home.widget.config":{layout:i,settings:m}},component:{lazy:()=>o().then(u=>_=>s.jsx(ee,{..._,...u,title:_.title||t,isCustomizable:p}))}})}function ee(r){const{Renderer:t,Content:o,Settings:e,Actions:n,ContextProvider:i,isCustomizable:m,title:p,...u}=r,_=U(),{Progress:f}=_.getComponents(),[P,y]=v.useState(!1),{t:I}=A(T);if(t)return s.jsx(v.Suspense,{fallback:s.jsx(f,{}),children:s.jsx(t,{...p&&{title:p},Content:o,...n?{Actions:n}:{},...e&&!m?{Settings:e}:{},...i?{ContextProvider:i}:{},...u})});const S={divider:!!p,...p&&{title:p},...e&&!m?{action:s.jsx(M,{onClick:()=>y(!0),children:s.jsx(Z,{children:I("cardExtension.settingsButtonTitle")})})}:{},...n?{actions:s.jsx(n,{})}:{}},E=s.jsxs(K,{...S,children:[e&&!m&&s.jsx(x,{open:P,componentName:p,close:()=>y(!1),children:s.jsx(e,{})}),s.jsx(o,{...u})]});return s.jsx(v.Suspense,{fallback:s.jsx(f,{}),children:i?s.jsx(i,{...u,children:E}):E})}const C=b({id:"home"}),te=8;class h{limit;storageApi;storageKeyPrefix="@backstage/plugin-home:visits";identityApi;static create(t){return new h(t)}constructor(t){this.limit=Math.abs(t.limit??100),this.storageApi=t.storageApi,this.identityApi=t.identityApi}async list(t){let o=[...await this.retrieveAll()];return(t?.orderBy??[]).reverse().forEach(e=>{e.direction==="asc"?o.sort((n,i)=>this.compare(e,n,i)):o.sort((n,i)=>this.compare(e,i,n))}),(t?.filterBy??[]).reverse().forEach(e=>{o=o.filter(n=>{const i=n[e.field];return e.operator===">"?i>e.value:e.operator===">="?i>=e.value:e.operator==="<"?i<e.value:e.operator==="<="?i<=e.value:e.operator==="=="?i===e.value:e.operator==="!="?i!==e.value:e.operator==="contains"?`${i}`.includes(`${e.value}`):!1})}),o.slice(0,t?.limit??te)}async save(t){const o=[...await this.retrieveAll()],e={...t.visit,id:window.crypto.randomUUID(),hits:1,timestamp:Date.now()},n=o.findIndex(i=>i.pathname===e.pathname);return n>=0?(e.id=o[n].id,e.hits=o[n].hits+1,o[n]=e):o.push(e),o.sort((i,m)=>m.timestamp-i.timestamp),await this.persistAll(o.splice(0,this.limit)),e}async persistAll(t){const o=await this.getStorageKey();return this.storageApi.set(o,t)}async retrieveAll(){const t=await this.getStorageKey(),o=this.storageApi.snapshot(t);return o?.presence!=="unknown"?o?.value??[]:new Promise((e,n)=>{const i=this.storageApi.observe$(t).subscribe({next:m=>{const p=m.value??[];i.unsubscribe(),e(p)},error:m=>{i.unsubscribe(),n(m)}})})}async getStorageKey(){const{userEntityRef:t}=await this.identityApi.getBackstageIdentity();return`${this.storageKeyPrefix}:${t}`}compare(t,o,e){return typeof o[t.field]=="number"?o[t.field]-e[t.field]:`${o[t.field]}`.localeCompare(`${e[t.field]}`)}}const de=r=>["<","<=","==","!=",">",">=","contains"].includes(r),oe=B({id:"homepage.visits"}),c=k({id:"home",apis:[D({api:oe,deps:{storageApi:X,identityApi:F},factory:({storageApi:r,identityApi:t})=>h.create({storageApi:r,identityApi:t})})],routes:{root:C}});c.provide(L({name:"HomepageCompositionRoot",component:()=>a(()=>import("./index-DwnHjm6r.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85]),import.meta.url).then(r=>r.HomepageCompositionRoot),mountPoint:C}));c.provide(d({name:"ComponentAccordion",component:{lazy:()=>a(()=>import("./index-D29bC4N4.js"),__vite__mapDeps([86,87,1,2,3,68,69,29,70,88,89,80,81,65,66,67,71,72,25,26,73,43,14,54,55,32,24,33,34,39,41,74,44,75,7,4,12,18,82,45,83,84,85,11,8,9,13,15,10,16,17,78,79,52,31,53]),import.meta.url).then(r=>r.ComponentAccordion)}}));c.provide(d({name:"ComponentTabs",component:{lazy:()=>a(()=>import("./index-D29bC4N4.js"),__vite__mapDeps([86,87,1,2,3,68,69,29,70,88,89,80,81,65,66,67,71,72,25,26,73,43,14,54,55,32,24,33,34,39,41,74,44,75,7,4,12,18,82,45,83,84,85,11,8,9,13,15,10,16,17,78,79,52,31,53]),import.meta.url).then(r=>r.ComponentTabs)}}));c.provide(d({name:"ComponentTab",component:{lazy:()=>a(()=>import("./index-D29bC4N4.js"),__vite__mapDeps([86,87,1,2,3,68,69,29,70,88,89,80,81,65,66,67,71,72,25,26,73,43,14,54,55,32,24,33,34,39,41,74,44,75,7,4,12,18,82,45,83,84,85,11,8,9,13,15,10,16,17,78,79,52,31,53]),import.meta.url).then(r=>r.ComponentTab)}}));c.provide(d({name:"WelcomeTitle",component:{lazy:()=>a(()=>import("./index-n_PXDMiC.js"),__vite__mapDeps([90,1,2,3,13,14,54,55,32]),import.meta.url).then(r=>r.WelcomeTitle)}}));const ue=c.provide(d({name:"CompanyLogo",component:{lazy:()=>a(()=>import("./index-CcJcyivA.js"),__vite__mapDeps([91,1,2,3]),import.meta.url).then(r=>r.CompanyLogo)}})),ge=c.provide(l({name:"HomePageRandomJoke",title:"Random Joke",components:()=>a(()=>import("./index-wgkk8Fv8.js"),__vite__mapDeps([92,1,2,3,44,93,20,17,10,37,35,36,49,48,46]),import.meta.url),description:"Shows a random joke about optional category",layout:{height:{minRows:4},width:{minColumns:3}},settings:{schema:{title:"Random Joke settings",type:"object",properties:{defaultCategory:{title:"Category",type:"string",enum:["any","programming","dad"],default:"any"}}}}})),_e=c.provide(l({name:"HomePageToolkit",title:"Toolkit",components:()=>a(()=>import("./index-CR5KfALo.js"),__vite__mapDeps([94,1,2,3,33,34,40,41,75,7,4,12,18]),import.meta.url)})),ve=c.provide(l({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>a(()=>import("./index-BwBab3md.js"),__vite__mapDeps([95,1,2,3,13,14,75,7,4,12,18,51,96,11,8,9,15,10,16,17,5,39,34,40,41,97,25,26,54,55,32,19,79,98,99,100,101,33,88,29,89,61,62,102,66,67,68,69,70,71,72,73,43,24,45]),import.meta.url)}));c.provide(d({name:"HeaderWorldClock",component:{lazy:()=>a(()=>import("./index-CAoY1vdc.js"),__vite__mapDeps([103,1,2,3,104,24,75,7,4,12,18]),import.meta.url).then(r=>r.HeaderWorldClock)}}));c.provide(l({name:"HomePageTopVisited",title:"Top Visited",components:()=>a(()=>import("./TopVisited-oC22MqSH.js"),__vite__mapDeps([105,1,2,3,106,107,96,11,8,9,12,13,14,15,10,16,17,4,18,5,79,97,25,26,54,55,32,19,75,7,108,39,34,58,41,51,70,33,44,78,80,81,65,66,67,68,69,29,71,72,73,43,24,74,82,45,83,84,85,52,31,53]),import.meta.url)}));c.provide(l({name:"HomePageRecentlyVisited",title:"Recently Visited",components:()=>a(()=>import("./RecentlyVisited-BVwnDY5E.js"),__vite__mapDeps([109,1,2,3,106,107,96,11,8,9,12,13,14,15,10,16,17,4,18,5,79,97,25,26,54,55,32,19,75,7,108,39,34,58,41,51,70,33,44,78,80,81,65,66,67,68,69,29,71,72,73,43,24,74,82,45,83,84,85,52,31,53]),import.meta.url)}));const he=c.provide(l({name:"FeaturedDocsCard",title:"Featured Docs",components:()=>a(()=>import("./index-CrM-N8Py.js"),__vite__mapDeps([110,1,2,3,13,14,51,100,66,67,68,69,29,70,71,72,25,26,73,43,54,55,32,24,33,34,39,41,61,62,75,7,4,12,18,97,19,11,8,9,15,10,16,17,5,111,74,44]),import.meta.url)})),fe=c.provide(l({name:"QuickStartCard",title:"Quick Start",components:()=>a(()=>import("./index-B-3szmH6.js"),__vite__mapDeps([112,1,2,3,51,75,7,4,12,18,31,32,25,26,24]),import.meta.url)}));export{he as F,ge as H,fe as Q,x as S,ve as a,ue as b,_e as c,Z as d,l as e,c as h,de as i,C as r,oe as v};
