import{R as o,r as l}from"./iframe-M9O-K8SB.js";import{c as x}from"./clsx-B-dksMZM.js";const $=typeof document<"u"?o.useLayoutEffect:()=>{};function v(n){let[t,u]=l.useState(n),r=l.useRef(t),e=l.useRef(null),f=l.useRef(()=>{if(!e.current)return;let s=e.current.next();if(s.done){e.current=null;return}r.current===s.value?f.current():u(s.value)});$(()=>{r.current=t,e.current&&f.current()});let c=l.useCallback(s=>{e.current=s(r.current),f.current()},[f]);return[t,c]}const b={prefix:String(Math.round(Math.random()*1e10)),current:0},p=o.createContext(b),y=o.createContext(!1);let d=new WeakMap;function m(n=!1){let t=l.useContext(p),u=l.useRef(null);if(u.current===null&&!n){var r,e;let f=(e=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||e===void 0||(r=e.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(f){let c=d.get(f);c==null?d.set(f,{id:t.current,state:f.memoizedState}):f.memoizedState!==c.state&&(t.current=c.id,d.delete(f))}u.current=++t.current}return u.current}function S(n){let t=l.useContext(p),u=m(!!n),r=`react-aria${t.prefix}`;return n||`${r}-${u}`}function g(n){let t=o.useId(),[u]=l.useState(M()),r=u?"react-aria":`react-aria${b.prefix}`;return n||`${r}-${t}`}const C=typeof o.useId=="function"?g:S;function h(){return!1}function w(){return!0}function k(n){return()=>{}}function M(){return typeof o.useSyncExternalStore=="function"?o.useSyncExternalStore(k,h,w):l.useContext(y)}let R=!!(typeof window<"u"&&window.document&&window.document.createElement),a=new Map,i;typeof FinalizationRegistry<"u"&&(i=new FinalizationRegistry(n=>{a.delete(n)}));function I(n){let[t,u]=l.useState(n),r=l.useRef(null),e=C(t),f=l.useRef(null);if(i&&i.register(f,e),R){const c=a.get(e);c&&!c.includes(r)?c.push(r):a.set(e,[r])}return $(()=>{let c=e;return()=>{i&&i.unregister(f),a.delete(c)}},[e]),l.useEffect(()=>{let c=r.current;return c&&u(c),()=>{c&&(r.current=null)}}),e}function V(n,t){if(n===t)return n;let u=a.get(n);if(u)return u.forEach(e=>e.current=t),t;let r=a.get(t);return r?(r.forEach(e=>e.current=n),n):t}function F(n=[]){let t=I(),[u,r]=v(t),e=l.useCallback(()=>{r(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,r]);return $(e,[t,e,...n]),u}function z(...n){return(...t)=>{for(let u of n)typeof u=="function"&&u(...t)}}function G(...n){let t={...n[0]};for(let u=1;u<n.length;u++){let r=n[u];for(let e in r){let f=t[e],c=r[e];typeof f=="function"&&typeof c=="function"&&e[0]==="o"&&e[1]==="n"&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=z(f,c):(e==="className"||e==="UNSAFE_className")&&typeof f=="string"&&typeof c=="string"?t[e]=x(f,c):e==="id"&&f&&c?t.id=V(f,c):t[e]=c!==void 0?c:f}}return t}function H(n){const t=l.useRef(null),u=l.useRef(void 0),r=l.useCallback(e=>{if(typeof n=="function"){const f=n,c=f(e);return()=>{typeof c=="function"?c():f(null)}}else if(n)return n.current=e,()=>{n.current=null}},[n]);return l.useMemo(()=>({get current(){return t.current},set current(e){t.current=e,u.current&&(u.current(),u.current=void 0),e!=null&&(u.current=r(e))}}),[r])}export{G as $,I as a,$ as b,F as c,H as d,M as e,z as f};
