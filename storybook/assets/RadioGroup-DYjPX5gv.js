import{r as $,a3 as h,j as q}from"./iframe-B6vHPHUS.js";import{c as V,b as K,$ as O,f as U,g as z,d as B,i as J,l as Q,m as X,h as Y}from"./utils-Dc-c3eC3.js";import{$ as Z}from"./FieldError-CKbDuQo-.js";import{c as ee,b as ae,a as ie}from"./Form-Ck--Lsy1.js";import{$ as le}from"./Label-Bwu2jGwM.js";import{$ as de,a as re,b as oe}from"./SelectionIndicator-C-ramg4n.js";import{b as te,a as se}from"./Text-Gfhg4HaA.js";import{b as ne,a as C,$ as ce,f as ue,d as fe,c as be}from"./useFocusRing-BPooT00c.js";import{$ as $e}from"./useControlledState-DWj3SqXj.js";import{$ as ve}from"./context-DsQFltCn.js";import{$ as me}from"./useFormReset-0JlNtNLI.js";import{$ as L}from"./usePress-D5zWsAX_.js";import{$ as pe}from"./VisuallyHidden-BYZ37Wd1.js";import{c as E}from"./clsx-B-dksMZM.js";import{u as k}from"./useStyles-C-y3xpyB.js";import{F as xe}from"./FieldLabel-BYLy6GKj.js";import{F as Re}from"./FieldError-CyibdofI.js";const T=new WeakMap;function Pe(a,e,i){let{value:d,children:n,"aria-label":r,"aria-labelledby":v,onPressStart:l,onPressEnd:c,onPressChange:t,onPress:o,onPressUp:s,onClick:f}=a;const u=a.isDisabled||e.isDisabled;let P=e.selectedValue===d,R=D=>{D.stopPropagation(),e.setSelectedValue(d)},{pressProps:y,isPressed:I}=L({onPressStart:l,onPressEnd:c,onPressChange:t,onPress:o,onPressUp:s,onClick:f,isDisabled:u}),{pressProps:_,isPressed:g}=L({onPressStart:l,onPressEnd:c,onPressChange:t,onPressUp:s,onClick:f,isDisabled:u,onPress(D){var M;o?.(D),e.setSelectedValue(d),(M=i.current)===null||M===void 0||M.focus()}}),{focusableProps:F}=ne(V(a,{onFocus:()=>e.setLastFocusedValue(d)}),i),x=V(y,F),b=C(a,{labelable:!0}),m=-1;e.selectedValue!=null?e.selectedValue===d&&(m=0):(e.lastFocusedValue===d||e.lastFocusedValue==null)&&(m=0),u&&(m=void 0);let{name:p,form:N,descriptionId:A,errorMessageId:H,validationBehavior:G}=T.get(e);return me(i,e.defaultSelectedValue,e.setSelectedValue),ee({validationBehavior:G},e,i),{labelProps:V(_,$.useMemo(()=>({onClick:D=>D.preventDefault(),onMouseDown:D=>D.preventDefault()}),[])),inputProps:V(b,{...x,type:"radio",name:p,form:N,tabIndex:m,disabled:u,required:e.isRequired&&G==="native",checked:P,value:d,onChange:R,"aria-describedby":[a["aria-describedby"],e.isInvalid?H:null,A].filter(Boolean).join(" ")||void 0}),isDisabled:u,isSelected:P,isPressed:I||g}}function ye(a,e){let{name:i,form:d,isReadOnly:n,isRequired:r,isDisabled:v,orientation:l="vertical",validationBehavior:c="aria"}=a,{direction:t}=ve(),{isInvalid:o,validationErrors:s,validationDetails:f}=e.displayValidation,{labelProps:u,fieldProps:P,descriptionProps:R,errorMessageProps:y}=te({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||s}),I=C(a,{labelable:!0}),{focusWithinProps:_}=ce({onBlurWithin(x){var b;(b=a.onBlur)===null||b===void 0||b.call(a,x),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),g=x=>{let b;switch(x.key){case"ArrowRight":t==="rtl"&&l!=="vertical"?b="prev":b="next";break;case"ArrowLeft":t==="rtl"&&l!=="vertical"?b="next":b="prev";break;case"ArrowDown":b="next";break;case"ArrowUp":b="prev";break;default:return}x.preventDefault();let m=de(x.currentTarget,{from:x.target,accept:N=>N instanceof ue(N).HTMLInputElement&&N.type==="radio"}),p;b==="next"?(p=m.nextNode(),p||(m.currentNode=x.currentTarget,p=m.firstChild())):(p=m.previousNode(),p||(m.currentNode=x.currentTarget,p=m.lastChild())),p&&(p.focus(),e.setSelectedValue(p.value))},F=K(i);return T.set(e,{name:F,form:d,descriptionId:R.id,errorMessageId:y.id,validationBehavior:c}),{radioGroupProps:V(I,{role:"radiogroup",onKeyDown:g,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":n||void 0,"aria-required":r||void 0,"aria-disabled":v||void 0,"aria-orientation":l,...P,..._}),labelProps:u,descriptionProps:R,errorMessageProps:y,isInvalid:o,validationErrors:s,validationDetails:f}}let he=Math.round(Math.random()*1e10),Ve=0;function ge(a){let e=$.useMemo(()=>a.name||`radio-group-${he}-${++Ve}`,[a.name]);var i;let[d,n]=$e(a.value,(i=a.defaultValue)!==null&&i!==void 0?i:null,a.onChange),[r]=$.useState(d),[v,l]=$.useState(null),c=ae({...a,value:d}),t=f=>{!a.isReadOnly&&!a.isDisabled&&(n(f),c.commitValidation())},o=c.displayValidation.isInvalid;var s;return{...c,name:e,selectedValue:d,defaultSelectedValue:a.value!==void 0?r:(s=a.defaultValue)!==null&&s!==void 0?s:null,setSelectedValue:t,lastFocusedValue:v,setLastFocusedValue:l,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(o?"invalid":null),isInvalid:o}}const De=$.createContext(null),Ie=$.createContext(null),j=$.createContext(null),_e=$.forwardRef(function(e,i){[e,i]=O(e,i,De);let{validationBehavior:d}=U(ie)||{};var n,r;let v=(r=(n=e.validationBehavior)!==null&&n!==void 0?n:d)!==null&&r!==void 0?r:"native",l=ge({...e,validationBehavior:v}),[c,t]=z(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:o,labelProps:s,descriptionProps:f,errorMessageProps:u,...P}=ye({...e,label:t,validationBehavior:v},l),R=B({...e,values:{orientation:e.orientation||"vertical",isDisabled:l.isDisabled,isReadOnly:l.isReadOnly,isRequired:l.isRequired,isInvalid:l.isInvalid,state:l},defaultClassName:"react-aria-RadioGroup"}),y=C(e,{global:!0});return h.createElement("div",{...V(y,R,o),ref:i,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":l.isInvalid||void 0,"data-disabled":l.isDisabled||void 0,"data-readonly":l.isReadOnly||void 0,"data-required":l.isRequired||void 0},h.createElement(J,{values:[[j,l],[le,{...s,ref:c,elementType:"span"}],[se,{slots:{description:f,errorMessage:u}}],[Z,P]]},h.createElement(re,null,R.children)))}),Ne=$.forwardRef(function(e,i){let{inputRef:d=null,...n}=e;[e,i]=O(n,i,Ie);let r=h.useContext(j),v=Q($.useMemo(()=>X(d,e.inputRef!==void 0?e.inputRef:null),[d,e.inputRef])),{labelProps:l,inputProps:c,isSelected:t,isDisabled:o,isPressed:s}=Pe({...Y(e),children:typeof e.children=="function"?!0:e.children},r,v),{isFocused:f,isFocusVisible:u,focusProps:P}=fe(),R=o||r.isReadOnly,{hoverProps:y,isHovered:I}=be({...e,isDisabled:R}),_=B({...e,defaultClassName:"react-aria-Radio",values:{isSelected:t,isPressed:s,isHovered:I,isFocused:f,isFocusVisible:u,isDisabled:o,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),g=C(e,{global:!0});return delete g.id,delete g.onClick,h.createElement("label",{...V(g,l,y,_),ref:i,"data-selected":t||void 0,"data-pressed":s||void 0,"data-hovered":I||void 0,"data-focused":f||void 0,"data-focus-visible":u||void 0,"data-disabled":o||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},h.createElement(pe,{elementType:"span"},h.createElement("input",{...V(c,P),ref:v})),h.createElement(oe.Provider,{value:{isSelected:t}},_.children))}),W={classNames:{root:"bui-RadioGroup",content:"bui-RadioGroupContent",radio:"bui-Radio"}},S={"bui-RadioGroup":"_bui-RadioGroup_1fivl_20","bui-RadioGroupContent":"_bui-RadioGroupContent_1fivl_26","bui-Radio":"_bui-Radio_1fivl_20"},w=$.forwardRef((a,e)=>{const{classNames:i,cleanedProps:d}=k(W,a),{className:n,label:r,secondaryLabel:v,description:l,isRequired:c,"aria-label":t,"aria-labelledby":o,children:s,...f}=d;$.useEffect(()=>{!r&&!t&&!o&&console.warn("RadioGroup requires either a visible label, aria-label, or aria-labelledby for accessibility")},[r,t,o]);const u=v||(c?"Required":null);return q.jsxs(_e,{className:E(i.root,S[i.root],n),"aria-label":t,"aria-labelledby":o,...f,ref:e,children:[q.jsx(xe,{label:r,secondaryLabel:u,description:l}),q.jsx("div",{className:E(i.content,S[i.content]),children:s}),q.jsx(Re,{})]})});w.displayName="RadioGroup";const qe=$.forwardRef((a,e)=>{const{className:i,...d}=a,{classNames:n}=k(W);return q.jsx(Ne,{className:E(n.radio,S[n.radio],i),...d,ref:e})});w.displayName="RadioGroup";w.__docgenInfo={description:"@public",methods:[],displayName:"RadioGroup",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}},composes:["Omit"]};qe.__docgenInfo={description:"@public",methods:[],displayName:"Radio",composes:["AriaRadioProps"]};export{w as R,qe as a};
