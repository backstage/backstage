import{j as $}from"./jsx-runtime-hv06LKfz.js";import{r as c,R as v}from"./index-D8-PC79C.js";import{$ as V,a as z,b as q,c as B,d as W,e as _,f as F,g as L,h as U,i as G}from"./Collection-ep6p65Wv.js";import{i as J,a as g,c as Q,$ as X,d as S,h as N,k as C,e as Y}from"./utils-SVxEJA3c.js";import{$ as Z}from"./Hidden-Bl3CD3Sw.js";import{b as w,a as ee,d as E,c as te}from"./useFocusRing-CSBfGNH9.js";import{c as ae,$ as se}from"./usePress-BiO5y4q0.js";import{$ as H}from"./useLabels-CXdioV2U.js";import{$ as re}from"./FocusScope-8zIF1xgC.js";import{$ as ne}from"./context-C8UuisDZ.js";import{u as P}from"./useStyles-Dc-DqJ_c.js";import{c as ie,u as oe,d as le}from"./index-B7KODvs-.js";function de(a,t){let e=t?.isDisabled,[s,r]=c.useState(!1);return J(()=>{if(a?.current&&!e){let l=()=>{if(a.current){let u=re(a.current,{tabbable:!0});r(!!u.nextNode())}};l();let i=new MutationObserver(l);return i.observe(a.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{i.disconnect()}}}),e?!1:s}const A=new WeakMap;function T(a,t,e){return a?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${A.get(a)}-${e}-${t}`):""}function ce(a,t,e){let{key:s,isDisabled:r,shouldSelectOnPressUp:l}=a,{selectionManager:i,selectedKey:u}=t,n=s===u,o=r||t.isDisabled||t.selectionManager.isDisabled(s),{itemProps:b,isPressed:d}=V({selectionManager:i,key:s,ref:e,isDisabled:o,shouldSelectOnPressUp:l,linkBehavior:"selection"}),f=T(t,s,"tab"),h=T(t,s,"tabpanel"),{tabIndex:y}=b,p=t.collection.getItem(s),K=w(p?.props,{labelable:!0});delete K.id;let m=ae(p?.props),{focusableProps:D}=ee({isDisabled:o},e);return{tabProps:g(K,D,m,b,{id:f,"aria-selected":n,"aria-disabled":o||void 0,"aria-controls":n?h:void 0,tabIndex:o?void 0:y,role:"tab"}),isSelected:n,isDisabled:o,isPressed:d}}function ue(a,t,e){let s=de(e)?void 0:0;var r;const l=T(t,(r=a.id)!==null&&r!==void 0?r:t?.selectedKey,"tabpanel"),i=H({...a,id:l,"aria-labelledby":T(t,t?.selectedKey,"tab")});return{tabPanelProps:g(i,{tabIndex:s,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class be{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var e,s;return this.disabledKeys.has(t)||!!(!((s=this.collection.getItem(t))===null||s===void 0||(e=s.props)===null||e===void 0)&&e.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let e=t;do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(e!=null&&this.isDisabled(e));return e}getPreviousKey(t){let e=t;do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(e!=null&&this.isDisabled(e));return e}constructor(t,e,s,r=new Set){this.collection=t,this.flipDirection=e==="rtl"&&s==="horizontal",this.disabledKeys=r,this.tabDirection=s==="horizontal"}}function fe(a,t,e){let{orientation:s="horizontal",keyboardActivation:r="automatic"}=a,{collection:l,selectionManager:i,disabledKeys:u}=t,{direction:n}=ne(),o=c.useMemo(()=>new be(l,n,s,u),[l,u,s,n]),{collectionProps:b}=z({ref:e,selectionManager:i,keyboardDelegate:o,selectOnFocus:r==="automatic",disallowEmptySelection:!0,scrollRef:e,linkBehavior:"selection"}),d=Q();A.set(t,d);let f=H({...a,id:d});return{tabListProps:{...g(b,f),role:"tablist","aria-orientation":s,tabIndex:void 0}}}function pe(a){var t,e;let s=q({...a,onSelectionChange:a.onSelectionChange?n=>{var o;n!=null&&((o=a.onSelectionChange)===null||o===void 0||o.call(a,n))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(e=(t=a.defaultSelectedKey)!==null&&t!==void 0?t:M(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&e!==void 0?e:void 0}),{selectionManager:r,collection:l,selectedKey:i}=s,u=c.useRef(i);return c.useEffect(()=>{let n=i;a.selectedKey==null&&(r.isEmpty||n==null||!l.getItem(n))&&(n=M(l,s.disabledKeys),n!=null&&r.setSelectedKeys([n])),(n!=null&&r.focusedKey==null||!r.isFocused&&n!==u.current)&&r.setFocusedKey(n),u.current=n}),{...s,isDisabled:a.isDisabled||!1}}function M(a,t){let e=null;if(a){var s,r,l,i;for(e=a.getFirstKey();e!=null&&(t.has(e)||!((r=a.getItem(e))===null||r===void 0||(s=r.props)===null||s===void 0)&&s.isDisabled)&&e!==a.getLastKey();)e=a.getKeyAfter(e);e!=null&&(t.has(e)||!((i=a.getItem(e))===null||i===void 0||(l=i.props)===null||l===void 0)&&l.isDisabled)&&e===a.getLastKey()&&(e=a.getFirstKey())}return e}const R=c.createContext(null),x=c.createContext(null),he=c.forwardRef(function(t,e){[t,e]=X(t,e,R);let{children:s,orientation:r="horizontal"}=t;return s=c.useMemo(()=>typeof s=="function"?s({orientation:r,defaultChildren:null}):s,[s,r]),v.createElement(B,{content:s},l=>v.createElement($e,{props:t,collection:l,tabsRef:e}))});function $e({props:a,tabsRef:t,collection:e}){let{orientation:s="horizontal"}=a,r=pe({...a,collection:e,children:void 0}),{focusProps:l,isFocused:i,isFocusVisible:u}=E({within:!0}),n=c.useMemo(()=>({orientation:s,isFocusWithin:i,isFocusVisible:u}),[s,i,u]),o=S({...a,defaultClassName:"react-aria-Tabs",values:n});return v.createElement("div",{...w(a),...l,...o,ref:t,slot:a.slot||void 0,"data-focused":i||void 0,"data-orientation":s,"data-focus-visible":u||void 0,"data-disabled":r.isDisabled||void 0},v.createElement(N,{values:[[R,a],[x,r]]},o.children))}const ve=c.forwardRef(function(t,e){return c.useContext(x)?v.createElement(ye,{props:t,forwardedRef:e}):v.createElement(_,t)});function ye({props:a,forwardedRef:t}){let e=c.useContext(x),{CollectionRoot:s}=c.useContext(L),{orientation:r="horizontal",keyboardActivation:l="automatic"}=Y(R),i=C(t),{tabListProps:u}=fe({...a,orientation:r,keyboardActivation:l},e,i),n=S({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:r,state:e}}),o=w(a);return delete o.id,v.createElement("div",{...o,...u,ref:i,...n,"data-orientation":r||void 0},v.createElement(s,{collection:e.collection,persistedKeys:G(e.selectionManager.focusedKey)}))}const me=W("item",(a,t,e)=>{let s=c.useContext(x),r=C(t),{tabProps:l,isSelected:i,isDisabled:u,isPressed:n}=ce({key:e.key,...a},s,r),{focusProps:o,isFocused:b,isFocusVisible:d}=E(),{hoverProps:f,isHovered:h}=te({isDisabled:u,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),y=S({...a,id:void 0,children:e.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:i,isDisabled:u,isFocused:b,isFocusVisible:d,isPressed:n,isHovered:h}}),p=e.props.href?"a":"div";return v.createElement(p,{...g(l,o,f,y),ref:r,"data-selected":i||void 0,"data-disabled":u||void 0,"data-focused":b||void 0,"data-focus-visible":d||void 0,"data-pressed":n||void 0,"data-hovered":h||void 0},y.children)}),xe=Z(function(t,e){const s=c.useContext(x);let r=C(e),{tabPanelProps:l}=ue(t,s,r),{focusProps:i,isFocused:u,isFocusVisible:n}=E(),o=s.selectedKey===t.id,b=S({...t,defaultClassName:"react-aria-TabPanel",values:{isFocused:u,isFocusVisible:n,isInert:F(!o),state:s}});if(!o&&!t.shouldForceMount)return null;let d=w(t);delete d.id;let f=o?g(d,l,i,b):b;return v.createElement("div",{...f,ref:r,"data-focused":u||void 0,"data-focus-visible":n||void 0,inert:F(!o),"data-inert":o?void 0:"true"},v.createElement(N,{values:[[R,null],[x,null]]},v.createElement(L.Provider,{value:U},b.children)))}),I=a=>{const{tabRefs:t,tabsRef:e,hoveredKey:s,prevHoveredKey:r}=a,{classNames:l}=P("Tabs"),i=c.useContext(x),u=c.useRef(null),n=c.useCallback(()=>{if(!e.current)return;const o=e.current.getBoundingClientRect();if(i?.selectedKey){const b=t.current.get(i.selectedKey.toString());if(b){const d=b.getBoundingClientRect(),f=d.left-o.left,h=d.top-o.top;u.current===null?(e.current.style.setProperty("--active-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--active-transition-duration","0.25s")})):e.current.style.setProperty("--active-transition-duration","0.25s"),u.current=i.selectedKey.toString(),e.current.style.setProperty("--active-tab-left",`${f}px`),e.current.style.setProperty("--active-tab-right",`${f+d.width}px`),e.current.style.setProperty("--active-tab-top",`${h}px`),e.current.style.setProperty("--active-tab-bottom",`${h+d.height}px`),e.current.style.setProperty("--active-tab-width",`${d.width}px`),e.current.style.setProperty("--active-tab-height",`${d.height}px`)}}if(s){const b=t.current.get(s);if(b){const d=b.getBoundingClientRect(),f=d.left-o.left,h=d.top-o.top;e.current.style.setProperty("--hovered-tab-left",`${f}px`),e.current.style.setProperty("--hovered-tab-right",`${f+d.width}px`),e.current.style.setProperty("--hovered-tab-top",`${h}px`),e.current.style.setProperty("--hovered-tab-bottom",`${h+d.height}px`),e.current.style.setProperty("--hovered-tab-width",`${d.width}px`),e.current.style.setProperty("--hovered-tab-height",`${d.height}px`),r.current===null?(e.current.style.setProperty("--hovered-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--hovered-transition-duration","0.2s")})):e.current.style.setProperty("--hovered-transition-duration","0.2s"),r.current=s,e.current.style.setProperty("--hovered-tab-opacity","1")}}else e.current.style.setProperty("--hovered-tab-opacity","0"),r.current=null},[i?.selectedKey,s,t.current]);return c.useEffect(()=>{n()},[n,t.current.size]),c.useEffect(()=>{const o=()=>n();return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[n]),$.jsxs($.Fragment,{children:[$.jsx("div",{className:l.tabActive}),$.jsx("div",{className:l.tabHovered})]})};I.__docgenInfo={description:`A component that renders the indicators for the toolbar.

@internal`,methods:[],displayName:"TabsIndicators",props:{tabRefs:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"Map",elements:[{name:"string"},{name:"HTMLDivElement"}],raw:"Map<string, HTMLDivElement>"}],raw:"MutableRefObject<Map<string, HTMLDivElement>>"},description:""},tabsRef:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"MutableRefObject<HTMLDivElement | null>"},description:""},hoveredKey:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},prevHoveredKey:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]}],raw:"MutableRefObject<string | null>"},description:""}}};const j=c.createContext(void 0),O=()=>{const a=c.useContext(j);if(!a)throw new Error("Tab components must be used within a Tabs component");return a},ge=(a,t,e)=>e==="exact"?a===t:a===t?!0:t.startsWith(`${a}/`),Pe=a=>{const{children:t,...e}=a,{classNames:s}=P("Tabs"),r=c.useRef(null),l=c.useRef(new Map),[i,u]=c.useState(null),n=c.useRef(null);let o=ie();const b=oe(),d=(y,p)=>{p?l.current.set(y,p):l.current.delete(y)},f=(()=>{const y=c.Children.toArray(t);for(const p of y)if(c.isValidElement(p)&&p.type===k){const K=c.Children.toArray(p.props.children);for(const m of K)if(c.isValidElement(m)&&m.props.href){const D=m.props.matchStrategy||"exact";if(ge(m.props.href,b.pathname,D))return m.props.id}}})();if(!t)return null;const h={tabsRef:r,tabRefs:l,hoveredKey:i,prevHoveredKey:n,setHoveredKey:u,setTabRef:d};return $.jsx(j.Provider,{value:h,children:$.jsx(se,{navigate:o,useHref:le,children:$.jsx(he,{className:s.tabs,keyboardActivation:"manual",selectedKey:f,ref:r,...e,children:t})})})},k=a=>{const{children:t,...e}=a,{classNames:s}=P("Tabs"),{setHoveredKey:r,tabRefs:l,tabsRef:i,hoveredKey:u,prevHoveredKey:n}=O(),o=d=>{r(d)},b=c.Children.map(t,d=>c.isValidElement(d)?c.cloneElement(d,{onHoverStart:()=>o(d.props.id),onHoverEnd:()=>o(null)}):d);return $.jsxs("div",{className:s.tabListWrapper,children:[$.jsx(ve,{className:s.tabList,"aria-label":"Toolbar tabs",...e,children:b}),$.jsx(I,{tabRefs:l,tabsRef:i,hoveredKey:u,prevHoveredKey:n})]})},Ke=a=>{const{href:t,children:e,id:s,matchStrategy:r,...l}=a,{classNames:i}=P("Tabs"),{setTabRef:u}=O();return $.jsx(me,{id:s,className:i.tab,ref:n=>u(s,n),href:t,...l,children:e})},Te=a=>{const{children:t,...e}=a,{classNames:s}=P("Tabs");return $.jsx(xe,{className:s.panel,...e,children:t})};Pe.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"Tabs",composes:["AriaTabsProps"]};k.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"TabList",composes:["Omit"]};Ke.__docgenInfo={description:`A component that renders a tab.

@public`,methods:[],displayName:"Tab",props:{matchStrategy:{required:!1,tsType:{name:"union",raw:"'exact' | 'prefix'",elements:[{name:"literal",value:"'exact'"},{name:"literal",value:"'prefix'"}]},description:`Strategy for matching the current route to determine if this tab should be active.
- 'exact': Tab href must exactly match the current pathname (default)
- 'prefix': Tab is active if current pathname starts with tab href`}},composes:["AriaTabProps"]};Te.__docgenInfo={description:`A component that renders the content of a tab.

@public`,methods:[],displayName:"TabPanel",composes:["AriaTabPanelProps"]};export{de as $,Pe as T,k as a,Ke as b,Te as c};
