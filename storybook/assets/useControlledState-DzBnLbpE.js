import{r as e,R as i}from"./iframe-M9O-K8SB.js";var a;const E=typeof document<"u"?(a=i.useInsertionEffect)!==null&&a!==void 0?a:i.useLayoutEffect:()=>{};function v(t,d,r){let[o,$]=e.useState(t||d),c=e.useRef(o),l=e.useRef(t!==void 0),f=t!==void 0;e.useEffect(()=>{l.current,l.current=f},[f]);let n=f?t:o;E(()=>{c.current=n});let[,R]=e.useReducer(()=>({}),{}),b=e.useCallback((s,...p)=>{let u=typeof s=="function"?s(c.current):s;Object.is(c.current,u)||(c.current=u,$(u),R(),r?.(u,...p))},[r]);return[n,b]}export{v as $};
