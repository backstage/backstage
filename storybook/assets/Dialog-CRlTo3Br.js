import{r as d,R as u,j as m}from"./iframe-BBTbmRF3.js";import{a as I,b as L,c as z,d as A,e as v,f as V,g as W,h as K,i as U}from"./Dialog-BJ3I6Lxs.js";import{$ as k}from"./Heading-BdW5XtUM.js";import{f as G,a as O,$ as J,e as Q}from"./utils-DwFG2D_J.js";import{e as P,$ as w,d as T}from"./useObjectRef-Dq__QF3p.js";import{$ as C}from"./useFocusable-By4R4ClH.js";import{c as R,d as X}from"./SelectionManager-DnET24Gf.js";import{$ as H,a as E}from"./animation-Bw2N7707.js";import{a as Y}from"./OverlayArrow-GS5K9LiF.js";import{c as g}from"./clsx-B-dksMZM.js";import{P as Z}from"./index-BaH7ue7C.js";import{a as h}from"./useStyles-DkiinFPC.js";import{F as ee}from"./Flex-Dvn5PWY5.js";import{B as te}from"./Button-bIRwUObt.js";let c=typeof document<"u"&&window.visualViewport;function ie(){let i=P(),[e,t]=d.useState(()=>i?{width:0,height:0}:_());return d.useEffect(()=>{let r=()=>{c&&c.scale>1||t(a=>{let n=_();return n.width===a.width&&n.height===a.height?a:n})},o,s=a=>{c&&c.scale>1||R(a.target)&&(o=requestAnimationFrame(()=>{(!document.activeElement||!R(document.activeElement))&&t(n=>{let l={width:window.innerWidth,height:window.innerHeight};return l.width===n.width&&l.height===n.height?n:l})}))};return window.addEventListener("blur",s,!0),c?c.addEventListener("resize",r):window.addEventListener("resize",r),()=>{cancelAnimationFrame(o),window.removeEventListener("blur",s,!0),c?c.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),e}function _(){return{width:c?c.width*c.scale:window.innerWidth,height:c?c.height*c.scale:window.innerHeight}}function ae(i,e,t){let{overlayProps:r,underlayProps:o}=I({...i,isOpen:e.isOpen,onClose:e.close},t);return L({isDisabled:!e.isOpen}),z(),d.useEffect(()=>{if(e.isOpen&&t.current)return A([t.current],{shouldUseInert:!0})},[e.isOpen,t]),{modalProps:w(r),underlayProps:o}}const re=d.createContext(null),D=d.createContext(null),oe=d.forwardRef(function(e,t){if(d.useContext(D))return u.createElement(N,{...e,modalRef:t},e.children);let{isDismissable:o,isKeyboardDismissDisabled:s,isOpen:a,defaultOpen:n,onOpenChange:l,children:f,isEntering:b,isExiting:p,UNSTABLE_portalContainer:y,shouldCloseOnInteractOutside:M,...q}=e;return u.createElement(se,{isDismissable:o,isKeyboardDismissDisabled:s,isOpen:a,defaultOpen:n,onOpenChange:l,isEntering:b,isExiting:p,UNSTABLE_portalContainer:y,shouldCloseOnInteractOutside:M},u.createElement(N,{...q,modalRef:t},f))});function ne(i,e){[i,e]=J(i,e,re);let t=d.useContext(v),r=Y(i),o=i.isOpen!=null||i.defaultOpen!=null||!t?r:t,s=T(e),a=d.useRef(null),n=E(s,o.isOpen),l=E(a,o.isOpen),f=n||l||i.isExiting||!1,b=P();return!o.isOpen&&!f||b?null:u.createElement(de,{...i,state:o,isExiting:f,overlayRef:s,modalRef:a})}const se=d.forwardRef(ne);function de({UNSTABLE_portalContainer:i,...e}){let t=e.modalRef,{state:r}=e,{modalProps:o,underlayProps:s}=ae(e,r,t),a=H(e.overlayRef)||e.isEntering||!1,n=O({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:a,isExiting:e.isExiting,state:r}}),l=ie(),f;if(typeof document<"u"){let p=X(document.body)?document.body:document.scrollingElement||document.documentElement,y=p.getBoundingClientRect().height%1;f=p.scrollHeight-y}let b={...n.style,"--visual-viewport-height":l.height+"px","--page-height":f!==void 0?f+"px":void 0};return u.createElement(W,{isExiting:e.isExiting,portalContainer:i},u.createElement("div",{...w(C(e,{global:!0}),s),...n,style:b,ref:e.overlayRef,"data-entering":a||void 0,"data-exiting":e.isExiting||void 0},u.createElement(Q,{values:[[D,{modalProps:o,modalRef:t,isExiting:e.isExiting,isDismissable:e.isDismissable}],[v,r]]},n.children)))}function N(i){let{modalProps:e,modalRef:t,isExiting:r,isDismissable:o}=d.useContext(D),s=d.useContext(v),a=d.useMemo(()=>G(i.modalRef,t),[i.modalRef,t]),n=T(a),l=H(n),f=O({...i,defaultClassName:"react-aria-Modal",values:{isEntering:l,isExiting:r,state:s}});return u.createElement("div",{...w(C(i,{global:!0}),e),...f,ref:n,"data-entering":l||void 0,"data-exiting":r||void 0},o&&u.createElement(V,{onDismiss:s.close}),f.children)}const x={classNames:{overlay:"bui-DialogOverlay",dialog:"bui-Dialog",header:"bui-DialogHeader",headerTitle:"bui-DialogHeaderTitle",body:"bui-DialogBody",footer:"bui-DialogFooter"}},$={"bui-DialogOverlay":"_bui-DialogOverlay_nd8pi_20","bui-Dialog":"_bui-Dialog_nd8pi_20","fade-in":"_fade-in_nd8pi_1","fade-out":"_fade-out_nd8pi_1","dialog-enter":"_dialog-enter_nd8pi_1","dialog-exit":"_dialog-exit_nd8pi_1","bui-DialogHeader":"_bui-DialogHeader_nd8pi_70","bui-DialogHeaderTitle":"_bui-DialogHeaderTitle_nd8pi_79","bui-DialogFooter":"_bui-DialogFooter_nd8pi_85","bui-DialogBody":"_bui-DialogBody_nd8pi_95"},le=i=>m.jsx(K,{...i}),S=d.forwardRef((i,e)=>{const{classNames:t,cleanedProps:r}=h(x,i),{className:o,children:s,width:a,height:n,style:l,...f}=r;return m.jsx(oe,{ref:e,className:g(t.overlay,$[t.overlay]),isDismissable:!0,isKeyboardDismissDisabled:!1,...f,children:m.jsx(U,{className:g(t.dialog,$[t.dialog],o),style:{"--bui-dialog-min-width":typeof a=="number"?`${a}px`:a||"400px","--bui-dialog-min-height":n?typeof n=="number"?`${n}px`:n:"auto",...l},children:s})})});S.displayName="Dialog";const j=d.forwardRef((i,e)=>{const{classNames:t,cleanedProps:r}=h(x,i),{className:o,children:s,...a}=r;return m.jsxs(ee,{ref:e,className:g(t.header,$[t.header],o),...a,children:[m.jsx(k,{slot:"title",className:g(t.headerTitle,$[t.headerTitle]),children:s}),m.jsx(te,{name:"close","aria-label":"Close",variant:"tertiary",slot:"close",children:m.jsx(Z,{})})]})});j.displayName="DialogHeader";const B=d.forwardRef((i,e)=>{const{classNames:t,cleanedProps:r}=h(x,i),{className:o,children:s,...a}=r;return m.jsx("div",{className:g(t.body,$[t.body],o),ref:e,...a,children:s})});B.displayName="DialogBody";const F=d.forwardRef((i,e)=>{const{classNames:t,cleanedProps:r}=h(x,i),{className:o,children:s,...a}=r;return m.jsx("div",{ref:e,className:g(t.footer,$[t.footer],o),...a,children:s})});F.displayName="DialogFooter";le.__docgenInfo={description:"@public",methods:[],displayName:"DialogTrigger",composes:["RADialogTriggerProps"]};S.__docgenInfo={description:"@public",methods:[],displayName:"Dialog",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},width:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},height:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""}},composes:["RAModalProps"]};j.__docgenInfo={description:"@public",methods:[],displayName:"DialogHeader",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}},composes:["RAHeadingProps"]};B.__docgenInfo={description:"@public",methods:[],displayName:"DialogBody",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};F.__docgenInfo={description:"@public",methods:[],displayName:"DialogFooter"};export{le as D,S as a,j as b,B as c,F as d};
