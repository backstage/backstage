import{r as f}from"./index-CTjT7uj6.js";import{u as p}from"./useMountedState-DkESzBh4.js";var c=function(){return c=Object.assign||function(n){for(var r,e=1,a=arguments.length;e<a;e++){r=arguments[e];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},c.apply(this,arguments)};function m(o,n,r){n===void 0&&(n=[]),r===void 0&&(r={loading:!1});var e=f.useRef(0),a=p(),u=f.useState(r),i=u[0],l=u[1],d=f.useCallback(function(){for(var g=[],s=0;s<arguments.length;s++)g[s]=arguments[s];var v=++e.current;return i.loading||l(function(t){return c(c({},t),{loading:!0})}),o.apply(void 0,g).then(function(t){return a()&&v===e.current&&l({value:t,loading:!1}),t},function(t){return a()&&v===e.current&&l({error:t,loading:!1}),t})},n);return[i,d]}function b(o,n){n===void 0&&(n=[]);var r=m(o,n,{loading:!0}),e=r[0],a=r[1];return f.useEffect(function(){a()},[a]),e}export{m as a,b as u};
