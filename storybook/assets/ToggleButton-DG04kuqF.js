import{r as c,R as g,j as y}from"./iframe-CTfOr1ix.js";import{c as h}from"./clsx-B-dksMZM.js";import{$ as w,a as D}from"./utils-DwIlbDK_.js";import{d as C,c as E,a as R}from"./SelectionIndicator-BAKlWEoX.js";import{f as N,$ as P,b as z}from"./useObjectRef-ojF7EXwM.js";import{$ as S}from"./useFocusable-DEu13AkG.js";import{$ as M}from"./useControlledState-DhijIg36.js";import{$ as _}from"./useButton-CvfuE0ja.js";import{$ as A}from"./context-OAwZXQxO.js";import{$ as j}from"./useToggleState-BCCF8MCl.js";import{a as k,$ as F}from"./useFocusRing-Ckb2DQsu.js";import{a as L}from"./useStyles-CPdbr3k_.js";function p(t,e,a){const{isSelected:i}=e,{isPressed:l,buttonProps:n}=_({...t,onPress:N(e.toggle,t.onPress)},a);return{isPressed:l,isSelected:i,isDisabled:t.isDisabled||!1,buttonProps:P(n,{"aria-pressed":i})}}function q(t,e){const{"aria-label":a,"aria-labelledby":i,orientation:l="horizontal"}=t;let[n,r]=c.useState(!1);z(()=>{var o;r(!!(e.current&&(!((o=e.current.parentElement)===null||o===void 0)&&o.closest('[role="toolbar"]'))))});const{direction:s}=A(),f=s==="rtl"&&l==="horizontal";let u=C(e);const b=o=>{if(o.currentTarget.contains(o.target)){if(l==="horizontal"&&o.key==="ArrowRight"||l==="vertical"&&o.key==="ArrowDown")f?u.focusPrevious():u.focusNext();else if(l==="horizontal"&&o.key==="ArrowLeft"||l==="vertical"&&o.key==="ArrowUp")f?u.focusNext():u.focusPrevious();else if(o.key==="Tab"){o.stopPropagation(),d.current=document.activeElement,o.shiftKey?u.focusFirst():u.focusLast();return}else return;o.stopPropagation(),o.preventDefault()}},d=c.useRef(null),x=o=>{!o.currentTarget.contains(o.relatedTarget)&&!d.current&&(d.current=o.target)},v=o=>{var m;if(d.current&&!o.currentTarget.contains(o.relatedTarget)&&(!((m=e.current)===null||m===void 0)&&m.contains(o.target))){var $;($=d.current)===null||$===void 0||$.focus(),d.current=null}};return{toolbarProps:{...S(t,{labelable:!0}),role:n?"group":"toolbar","aria-orientation":l,"aria-label":a,"aria-labelledby":a==null?i:void 0,onKeyDownCapture:n?void 0:b,onFocusCapture:n?void 0:v,onBlurCapture:n?void 0:x}}}function I(t,e,a){let{isDisabled:i}=t,{toolbarProps:l}=q(t,a);return{groupProps:{...l,role:e.selectionMode==="single"?"radiogroup":l.role,"aria-disabled":i}}}function G(t,e,a){let i={isSelected:e.selectedKeys.has(t.id),defaultSelected:!1,setSelected(f){e.setSelected(t.id,f)},toggle(){e.toggleKey(t.id)}},{isPressed:l,isSelected:n,isDisabled:r,buttonProps:s}=p({...t,id:void 0,isDisabled:t.isDisabled||e.isDisabled},i,a);return e.selectionMode==="single"&&(s.role="radio",s["aria-checked"]=i.isSelected,delete s["aria-pressed"]),{isPressed:l,isSelected:n,isDisabled:r,buttonProps:s}}function O(t){let{selectionMode:e="single",disallowEmptySelection:a,isDisabled:i=!1}=t,[l,n]=M(c.useMemo(()=>t.selectedKeys?new Set(t.selectedKeys):void 0,[t.selectedKeys]),c.useMemo(()=>t.defaultSelectedKeys?new Set(t.defaultSelectedKeys):new Set,[t.defaultSelectedKeys]),t.onSelectionChange);return{selectionMode:e,isDisabled:i,selectedKeys:l,setSelectedKeys:n,toggleKey(r){let s;e==="multiple"?(s=new Set(l),s.has(r)&&(!a||s.size>1)?s.delete(r):s.add(r)):s=new Set(l.has(r)&&!a?[]:[r]),n(s)},setSelected(r,s){s!==l.has(r)&&this.toggleKey(r)}}}const H=c.createContext({}),B=c.createContext(null),ne=c.forwardRef(function(e,a){[e,a]=w(e,a,H);let i=O(e),{groupProps:l}=I(e,i,a),n=D({...e,values:{orientation:e.orientation||"horizontal",isDisabled:i.isDisabled,state:i},defaultClassName:"react-aria-ToggleButtonGroup"}),r=S(e,{global:!0});return g.createElement("div",{...P(r,n,l),ref:a,slot:e.slot||void 0,"data-orientation":e.orientation||"horizontal","data-disabled":e.isDisabled||void 0},g.createElement(B.Provider,{value:i},g.createElement(E,null,n.children)))}),U=c.createContext({}),V=c.forwardRef(function(e,a){[e,a]=w(e,a,U);let i=c.useContext(B),l=j(i&&e.id!=null?{isSelected:i.selectedKeys.has(e.id),onChange($){i.setSelected(e.id,$)}}:e),{buttonProps:n,isPressed:r,isSelected:s,isDisabled:f}=i&&e.id!=null?G({...e,id:e.id},i,a):p({...e,id:e.id!=null?String(e.id):void 0},l,a),{focusProps:u,isFocused:b,isFocusVisible:d}=k(e),{hoverProps:x,isHovered:v}=F(e),o=D({...e,id:void 0,values:{isHovered:v,isPressed:r,isFocused:b,isSelected:l.isSelected,isFocusVisible:d,isDisabled:f,state:l},defaultClassName:"react-aria-ToggleButton"}),m=S(e,{global:!0});return delete m.id,delete m.onClick,g.createElement("button",{...P(m,o,n,u,x),ref:a,slot:e.slot||void 0,"data-focused":b||void 0,"data-disabled":f||void 0,"data-pressed":r||void 0,"data-selected":s||void 0,"data-hovered":v||void 0,"data-focus-visible":d||void 0},g.createElement(R.Provider,{value:{isSelected:s}},o.children))}),J={classNames:{root:"bui-ToggleButton",content:"bui-ToggleButtonContent"},dataAttributes:{size:["small","medium"]}},T={"bui-ToggleButton":"_bui-ToggleButton_3j7wl_20","bui-ToggleButtonContent":"_bui-ToggleButtonContent_3j7wl_101"},K=c.forwardRef((t,e)=>{const{classNames:a,dataAttributes:i,cleanedProps:l}=L(J,{size:"small",...t}),{children:n,className:r,iconStart:s,iconEnd:f,...u}=l;return y.jsx(V,{className:h(a.root,T[a.root],r),ref:e,...i,...u,children:b=>{const d=typeof n=="function"?n(b):n;return y.jsxs("span",{className:h(a.content,T[a.content]),"data-slot":"content",children:[s,d,f]})}})});K.displayName="ToggleButton";K.__docgenInfo={description:"@public",methods:[],displayName:"ToggleButton",props:{size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | Partial<Record<Breakpoint, 'small' | 'medium'>>",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:"'initial' | 'xs' | 'sm' | 'md' | 'lg' | 'xl'",elements:[{name:"literal",value:"'initial'"},{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"}]},{name:"union",raw:"'small' | 'medium'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"}]}],raw:"Record<Breakpoint, 'small' | 'medium'>"}],raw:"Partial<Record<Breakpoint, 'small' | 'medium'>>"}]},description:""},iconStart:{required:!1,tsType:{name:"ReactElement"},description:""},iconEnd:{required:!1,tsType:{name:"ReactElement"},description:""}},composes:["AriaToggleButtonProps"]};export{ne as $,K as T};
