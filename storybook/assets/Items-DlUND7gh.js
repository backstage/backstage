import{j as n,r as s,c as ve,a as xe,aA as R,aB as D,aC as q,aD as O,V as W,d as X}from"./iframe-CIst4AKw.js";import{S as we}from"./Search-COlMG0o9.js";import{c as S}from"./index-BKxkX0e4.js";import{a as Se}from"./Link-Brm3t_Ck.js";import{S as y,a as Y}from"./Page-BEwpqa_h.js";import{A as T}from"./ArrowBackIos-DqptciEx.js";import{m as C}from"./makeStyles-CyiKs3qI.js";import{B as h,s as I}from"./Box-bOt6Vm_d.js";import{A as z}from"./ArrowForwardIos-CDBhbdcR.js";import{l as A}from"./lodash-Bv_R2aXJ.js";import{q as F}from"./index-CLOsDHan.js";import{T as ye}from"./TextField-C1JMyuz5.js";import{u as K}from"./useMediaQuery-BReJxXVj.js";import{B as G}from"./Button-aHyunA9c.js";import{u as J,g as Z,r as U}from"./index-DTrbkxL5.js";import{B as Ce}from"./Badge-DSgM9dFV.js";import{u as ee}from"./useElementFilter-dteaofyB.js";import{u as Ie}from"./useAnalytics-B1Tkmcph.js";const te={isOpen:!1,setOpen:()=>{}},ne=s.createContext(te),re=ve("sidebar-open-state-context");function ke(e){const{children:t,value:a}=e;return n.jsx(ne.Provider,{value:a,children:n.jsx(re.Provider,{value:xe({1:a}),children:t})})}const _=()=>{const e=s.useContext(re),t=s.useContext(ne);if(e===void 0)return t||te;const a=e.atVersion(1);if(a===void 0)throw new Error("No context found for version 1.");return a};ke.__docgenInfo={description:`Provides context for reading and updating sidebar state.

@public`,methods:[],displayName:"SidebarOpenStateProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},value:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  /**
   * Whether or not the sidebar is open and full-width. When \`false\`, the
   * sidebar is "closed" and typically only shows icons with no text.
   */
  isOpen: boolean;

  /**
   * A function to set whether or not the sidebar is open. Pass \`true\` to open
   * the sidebar. Pass \`false\` to close it.
   */
  setOpen: (open: boolean) => void;
}`,signature:{properties:[{key:"isOpen",value:{name:"boolean",required:!0},description:'Whether or not the sidebar is open and full-width. When `false`, the\nsidebar is "closed" and typically only shows icons with no text.'},{key:"setOpen",value:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}},required:!0},description:"A function to set whether or not the sidebar is open. Pass `true` to open\nthe sidebar. Pass `false` to close it."}]}},description:""}}};var v={},H;function je(){if(H)return v;H=1;var e=R(),t=D();Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var a=t(q()),r=e(O()),o=(0,r.default)(a.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");return v.default=o,v}var Ae=je();const Ne=W(Ae);var x={},$;function Re(){if($)return x;$=1;var e=R(),t=D();Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var a=t(q()),r=e(O()),o=(0,r.default)(a.createElement("path",{d:"M7 14l5-5 5 5z"}),"ArrowDropUp");return x.default=o,x}var De=Re();const qe=W(De);function V(e,t,a=!1){const r=new URLSearchParams(t.search).toString(),o=F.parse(r),i=new URLSearchParams(e.search).toString(),c=F.parse(i),u=a?A.isEqual:A.isMatch;return A.isEqual(t.pathname,e.pathname)&&u(c,o)}const Oe=C(e=>({root:{zIndex:1e3,position:"relative",overflow:"visible",width:e.spacing(7)+1},drawer:t=>({display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",position:"fixed",opacity:0,[e.breakpoints.up("sm")]:{marginLeft:t.left,transition:e.transitions.create(["margin-left","opacity"],{easing:e.transitions.easing.sharp,duration:t.submenuConfig.defaultOpenDelayMs})},top:0,bottom:0,padding:0,background:e.palette.navigation.submenu?.background??"#404040",overflowX:"hidden",msOverflowStyle:"none",scrollbarWidth:"none",cursor:"default",width:t.submenuConfig.drawerWidthClosed,transitionDelay:`${t.submenuConfig.defaultOpenDelayMs}ms`,"& > *":{flexShrink:0},"&::-webkit-scrollbar":{display:"none"}}),drawerOpen:t=>({marginLeft:t.left,opacity:1,width:t.submenuConfig.drawerWidthOpen,[e.breakpoints.down("xs")]:{width:"100%",position:"relative",paddingLeft:e.spacing(3),left:0,top:0}}),title:{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,color:e.palette.navigation.color,padding:e.spacing(2.5),[e.breakpoints.down("xs")]:{display:"none"}}}),{name:"BackstageSidebarSubmenu"}),ae=e=>{const{isOpen:t}=_(),{sidebarConfig:a,submenuConfig:r}=s.useContext(y),o=t?a.drawerWidthOpen:a.drawerWidthClosed,i=Oe({left:o,submenuConfig:r}),{isHoveredOn:c}=s.useContext(Y),[u,p]=s.useState(!1);return s.useEffect(()=>{p(c)},[c]),n.jsxs(h,{className:S(i.drawer,{[i.drawerOpen]:u}),children:[n.jsx(X,{variant:"h5",component:"span",className:i.title,children:e.title}),e.children]})};ae.__docgenInfo={description:`Used inside SidebarItem to display an expandable Submenu

@public`,methods:[],displayName:"SidebarSubmenu",props:{title:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var w={},Q;function We(){if(Q)return w;Q=1;var e=R(),t=D();Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var a=t(q()),r=e(O()),o=(0,r.default)(a.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");return w.default=o,w}var _e=We();const oe=W(_e),Ee=C({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),ie=()=>{const e=Ee();return n.jsxs(h,{className:e.iconContainer,children:[n.jsx(h,{className:e.arrow1,children:n.jsx(T,{style:{fontSize:"12px"}})}),n.jsx(h,{children:n.jsx(T,{style:{fontSize:"12px"}})})]})};ie.__docgenInfo={description:"",methods:[],displayName:"DoubleArrowLeft"};const Pe=C({iconContainer:{display:"flex",position:"relative",width:"100%"},arrow1:{right:"6px",position:"absolute"}}),se=()=>{const e=Pe();return n.jsxs(h,{className:e.iconContainer,children:[n.jsx(h,{className:e.arrow1,children:n.jsx(z,{style:{fontSize:"12px"}})}),n.jsx(h,{children:n.jsx(z,{style:{fontSize:"12px"}})})]})};se.__docgenInfo={description:"",methods:[],displayName:"DoubleArrowRight"};const Le=e=>C(t=>({root:{color:t.palette.navigation.color,display:"flex",flexFlow:"row nowrap",alignItems:"center",height:48,cursor:"pointer"},buttonItem:{background:"none",border:"none",width:"100%",margin:0,padding:0,textAlign:"inherit",font:"inherit",textTransform:"none"},closed:{width:e.drawerWidthClosed,justifyContent:"center"},open:{[t.breakpoints.up("sm")]:{width:e.drawerWidthOpen}},highlightable:{"&:hover":{background:t.palette.navigation.navItem?.hoverBackground??"#404040"}},highlighted:{background:t.palette.navigation.navItem?.hoverBackground??"#404040"},label:{fontWeight:"bold",whiteSpace:"nowrap",lineHeight:"auto",flex:"3 1 auto",width:"110px",overflow:"hidden","text-overflow":"ellipsis"},iconContainer:{boxSizing:"border-box",height:"100%",width:e.iconContainerWidth,marginRight:-t.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"0"},searchRoot:{marginBottom:12},searchField:{color:"#b5b5b5",fontWeight:t.typography.fontWeightBold,fontSize:t.typography.fontSize},searchFieldHTMLInput:{padding:t.spacing(2,0,2)},searchContainer:{width:e.drawerWidthOpen-e.iconContainerWidth},secondaryAction:{width:t.spacing(6),textAlign:"center",marginRight:t.spacing(1)},closedItemIcon:{width:"100%",justifyContent:"center"},submenuArrow:{display:"flex"},expandButton:{background:"none",border:"none",color:t.palette.navigation.color,width:"100%",cursor:"pointer",position:"relative",height:48},arrows:{position:"absolute",right:10},selected:{"&$root":{borderLeft:`solid ${e.selectedIndicatorWidth}px ${t.palette.navigation.indicator}`,color:t.palette.navigation.selectedColor},"&$closed":{width:e.drawerWidthClosed},"& $closedItemIcon":{paddingRight:e.selectedIndicatorWidth},"& $iconContainer":{marginLeft:-e.selectedIndicatorWidth}}}),{name:"BackstageSidebarItem"});function k(e){return s.useMemo(()=>Le(e),[e])()}const Be=(e,t)=>ee(e.props.children,a=>{let r=!1;return a.getElements().forEach(({props:{to:o,dropdownItems:i}})=>{if(!r){if(i?.length){i.forEach(({to:c})=>r=r||V(t,U(c)));return}o&&(r=V(t,U(o)))}}),r},[t.pathname]);function N(e){return e.to===void 0}const Me=s.createElement(ae).type,le=s.forwardRef(function({to:t,end:a,style:r,className:o,activeStyle:i,caseSensitive:c,activeClassName:u="active","aria-current":p="page",...m},f){let{pathname:l}=J(),{pathname:g}=Z(t);c||(l=l.toLocaleLowerCase("en-US"),g=g.toLocaleLowerCase("en-US"));let d=l===g;!d&&!a&&(d=l.startsWith(`${g}/`));const b=d?p:void 0;return n.jsx(Se,{...m,to:t,ref:f,"aria-current":b,style:{...r,...d?i:void 0},className:S([typeof o!="function"?o:void 0,d?u:void 0])})}),ce=s.forwardRef((e,t)=>{const{icon:a,text:r,hasNotifications:o=!1,hasSubmenu:i=!1,disableHighlight:c=!1,onClick:u,noTrack:p,children:m,className:f,...l}=e,{sidebarConfig:g}=s.useContext(y),d=k(g),{isOpen:b}=_(),ue=!b&&i?{display:"flex",marginLeft:"20px"}:{lineHeight:"0"},pe=n.jsxs(h,{style:ue,children:[n.jsx(a,{fontSize:"small"}),!b&&i?n.jsx(oe,{fontSize:"small"}):n.jsx(n.Fragment,{})]}),E=n.jsx(Ce,{color:"secondary",variant:"dot",overlap:"circular",invisible:!o,className:S({[d.closedItemIcon]:!b}),children:pe}),he=n.jsxs(n.Fragment,{children:[n.jsx(h,{"data-testid":"login-button",className:d.iconContainer,children:E}),r&&n.jsx(X,{variant:"subtitle2",component:"span",className:d.label,children:r}),n.jsx("div",{className:d.secondaryAction,children:m})]}),P=b?he:E,L={onClick:u,className:S(f,d.root,b?d.open:d.closed,N(e)&&d.buttonItem,{[d.highlightable]:!c})},B=Ie(),{pathname:j}=Z(!N(e)&&e.to?e.to:""),M=s.useCallback(me=>{if(!p){const fe="click",ge=r??"Sidebar Item",be=j?{attributes:{to:j}}:void 0;B.captureEvent(fe,ge,be)}u?.(me)},[B,r,j,p,u]);return N(e)?n.jsx(G,{role:"button","aria-label":r,...L,ref:t,onClick:M,children:P}):n.jsx(le,{...L,activeClassName:d.selected,to:e.to?e.to:"",ref:t,"aria-label":r||e.to,...l,onClick:M,children:P})}),Te=({children:e,...t})=>{const{sidebarConfig:a}=s.useContext(y),r=k(a),[o,i]=s.useState(!1),c=J(),u=Be(e,c),p=K(g=>g.breakpoints.down("sm")),m=()=>{i(!0)},f=()=>{i(!1)},l=()=>p?o?n.jsx(qe,{fontSize:"small",className:r.submenuArrow}):n.jsx(Ne,{fontSize:"small",className:r.submenuArrow}):!o&&n.jsx(oe,{fontSize:"small",className:r.submenuArrow});return n.jsx(Y.Provider,{value:{isHoveredOn:o,setIsHoveredOn:i},children:n.jsxs("div",{"data-testid":"item-with-submenu",onMouseLeave:f,onTouchStart:o?f:m,onMouseEnter:m,className:S(o&&r.highlighted),children:[n.jsx(ce,{hasSubmenu:!0,className:u?r.selected:"",...t,children:l()}),o&&e]})})},de=s.forwardRef((e,t)=>{const[a]=ee(e.children,r=>r.getElements().filter(o=>o.type===Me));return a?n.jsx(Te,{...e,children:a}):n.jsx(ce,{...e,ref:t})});function ze(e){const{sidebarConfig:t}=s.useContext(y),[a,r]=s.useState(""),o=k(t),i=e.icon?e.icon:we,c=()=>{e.onSearch(a),r("")},u=l=>{l.key==="Enter"&&(l.preventDefault(),c())},p=l=>{r(l.target.value)},m=l=>{l.preventDefault(),l.stopPropagation()},f=l=>{c(),l.preventDefault()};return n.jsx(h,{className:o.searchRoot,children:n.jsx(de,{icon:i,to:e.to,onClick:f,disableHighlight:!0,children:n.jsx(ye,{placeholder:"Search",value:a,onClick:m,onChange:p,onKeyDown:u,className:o.searchContainer,InputProps:{disableUnderline:!0,className:o.searchField},inputProps:{className:o.searchFieldHTMLInput}})})})}const lt=I("div")({flex:1},{name:"BackstageSidebarSpace"});I("div")({height:8},{name:"BackstageSidebarSpacer"});const ct=I("hr")(({theme:e})=>({height:1,width:"100%",background:"#383838",border:"none",margin:e.spacing(1.2,0)}),{name:"BackstageSidebarDivider"}),Fe=e=>({overflowY:"auto","&::-webkit-scrollbar":{backgroundColor:e.palette.background.default,width:"5px",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.palette.text.secondary,borderRadius:"5px"}});I("div")(({theme:e})=>{const t=Fe(e);return{flex:"0 1 auto",overflowX:"hidden",width:"100%",minHeight:"48px",overflowY:"hidden","@media (hover: none)":t,"&:hover":t}});const Ue=()=>{const{sidebarConfig:e}=s.useContext(y),t=k(e),{isOpen:a,setOpen:r}=_();if(K(c=>c.breakpoints.down("md"),{noSsr:!0}))return null;const i=()=>{r(!a)};return n.jsx(G,{role:"button",onClick:i,className:t.expandButton,"aria-label":"Expand Sidebar","data-testid":"sidebar-expand-button",children:n.jsx(h,{className:t.arrows,children:a?n.jsx(ie,{}):n.jsx(se,{})})})};le.__docgenInfo={description:"",methods:[],displayName:"WorkaroundNavLink",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},activeStyle:{required:!1,tsType:{name:"CSSProperties"},description:""},activeClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'active'",computed:!1}},"aria-current":{defaultValue:{value:"'page'",computed:!1},required:!1}}};de.__docgenInfo={description:"Creates a `SidebarItem`\n\n@remarks\nIf children contain a `SidebarSubmenu` component the `SidebarItem` will have a expandable submenu",methods:[],displayName:"SidebarItem",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};ze.__docgenInfo={description:"",methods:[],displayName:"SidebarSearchField",props:{onSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"(input: string) => void",signature:{arguments:[{type:{name:"string"},name:"input"}],return:{name:"void"}}},description:""},to:{required:!1,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"ComponentType",elements:[{name:"signature",type:"object",raw:`{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}`,signature:{properties:[{key:"fontSize",value:{name:"union",raw:"'medium' | 'large' | 'small' | 'inherit'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'small'"},{name:"literal",value:"'inherit'"}],required:!1}}]}}],raw:`ComponentType<{
  fontSize?: 'medium' | 'large' | 'small' | 'inherit';
}>`},description:""}}};Ue.__docgenInfo={description:`A button which allows you to expand the sidebar when clicked.

@remarks
Use optionally to replace sidebar's expand-on-hover feature with expand-on-click.

If you are using this you might want to set the \`disableExpandOnHover\` of the \`Sidebar\` to \`true\`.

@public`,methods:[],displayName:"SidebarExpandButton"};export{qe as A,de as S,ke as a,Ne as b,ze as c,ct as d,lt as e,ae as f,Ue as g,V as i};
