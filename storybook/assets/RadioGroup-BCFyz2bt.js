import{r as $,R as h,j as q}from"./iframe-M9O-K8SB.js";import{$ as L,b as K,c as U,a as O,e as z,f as J,d as Q}from"./utils-BXllfVt4.js";import{$ as X}from"./FieldError-BifbfugT.js";import{c as Y,b as Z,a as ee}from"./Form-BBJy9cFl.js";import{$ as ae}from"./Label-o9S_v-xF.js";import{$ as ie,c as le,a as re}from"./SelectionIndicator-yhlvspp_.js";import{a as de}from"./Text-B7PuQZMK.js";import{$ as V,a as oe,d as te}from"./useObjectRef-BPFp5snO.js";import{a as se,$ as C,B as ne}from"./useFocusable-BwFERnd_.js";import{$ as ce}from"./useControlledState-DzBnLbpE.js";import{b as ue,a as fe,$ as be}from"./useFocusRing-COnCKKka.js";import{$ as $e}from"./useField-BgIPqRrs.js";import{$ as ve}from"./context-Bv6kxITJ.js";import{$ as me}from"./useFormReset-DJISnqgL.js";import{$ as B}from"./usePress-ByOsZuB9.js";import{$ as pe}from"./VisuallyHidden-BvkZfodz.js";import{c as E}from"./clsx-B-dksMZM.js";import{u as k}from"./useStyles-BRwt6BXn.js";import{F as Re}from"./FieldLabel-Dm8Ex6MU.js";import{F as xe}from"./FieldError-Dr6Rp0Rr.js";const T=new WeakMap;function Pe(a,e,i){let{value:r,children:n,"aria-label":d,"aria-labelledby":v,onPressStart:l,onPressEnd:c,onPressChange:t,onPress:o,onPressUp:s,onClick:f}=a;const u=a.isDisabled||e.isDisabled;let P=e.selectedValue===r,x=D=>{D.stopPropagation(),e.setSelectedValue(r)},{pressProps:y,isPressed:I}=B({onPressStart:l,onPressEnd:c,onPressChange:t,onPress:o,onPressUp:s,onClick:f,isDisabled:u}),{pressProps:_,isPressed:g}=B({onPressStart:l,onPressEnd:c,onPressChange:t,onPressUp:s,onClick:f,isDisabled:u,onPress(D){var M;o?.(D),e.setSelectedValue(r),(M=i.current)===null||M===void 0||M.focus()}}),{focusableProps:F}=se(V(a,{onFocus:()=>e.setLastFocusedValue(r)}),i),R=V(y,F),b=C(a,{labelable:!0}),m=-1;e.selectedValue!=null?e.selectedValue===r&&(m=0):(e.lastFocusedValue===r||e.lastFocusedValue==null)&&(m=0),u&&(m=void 0);let{name:p,form:N,descriptionId:A,errorMessageId:H,validationBehavior:G}=T.get(e);return me(i,e.defaultSelectedValue,e.setSelectedValue),Y({validationBehavior:G},e,i),{labelProps:V(_,$.useMemo(()=>({onClick:D=>D.preventDefault(),onMouseDown:D=>D.preventDefault()}),[])),inputProps:V(b,{...R,type:"radio",name:p,form:N,tabIndex:m,disabled:u,required:e.isRequired&&G==="native",checked:P,value:r,onChange:x,"aria-describedby":[a["aria-describedby"],e.isInvalid?H:null,A].filter(Boolean).join(" ")||void 0}),isDisabled:u,isSelected:P,isPressed:I||g}}function ye(a,e){let{name:i,form:r,isReadOnly:n,isRequired:d,isDisabled:v,orientation:l="vertical",validationBehavior:c="aria"}=a,{direction:t}=ve(),{isInvalid:o,validationErrors:s,validationDetails:f}=e.displayValidation,{labelProps:u,fieldProps:P,descriptionProps:x,errorMessageProps:y}=$e({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||s}),I=C(a,{labelable:!0}),{focusWithinProps:_}=ue({onBlurWithin(R){var b;(b=a.onBlur)===null||b===void 0||b.call(a,R),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),g=R=>{let b;switch(R.key){case"ArrowRight":t==="rtl"&&l!=="vertical"?b="prev":b="next";break;case"ArrowLeft":t==="rtl"&&l!=="vertical"?b="next":b="prev";break;case"ArrowDown":b="next";break;case"ArrowUp":b="prev";break;default:return}R.preventDefault();let m=ie(R.currentTarget,{from:R.target,accept:N=>N instanceof ne(N).HTMLInputElement&&N.type==="radio"}),p;b==="next"?(p=m.nextNode(),p||(m.currentNode=R.currentTarget,p=m.firstChild())):(p=m.previousNode(),p||(m.currentNode=R.currentTarget,p=m.lastChild())),p&&(p.focus(),e.setSelectedValue(p.value))},F=oe(i);return T.set(e,{name:F,form:r,descriptionId:x.id,errorMessageId:y.id,validationBehavior:c}),{radioGroupProps:V(I,{role:"radiogroup",onKeyDown:g,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":n||void 0,"aria-required":d||void 0,"aria-disabled":v||void 0,"aria-orientation":l,...P,..._}),labelProps:u,descriptionProps:x,errorMessageProps:y,isInvalid:o,validationErrors:s,validationDetails:f}}let he=Math.round(Math.random()*1e10),Ve=0;function ge(a){let e=$.useMemo(()=>a.name||`radio-group-${he}-${++Ve}`,[a.name]);var i;let[r,n]=ce(a.value,(i=a.defaultValue)!==null&&i!==void 0?i:null,a.onChange),[d]=$.useState(r),[v,l]=$.useState(null),c=Z({...a,value:r}),t=f=>{!a.isReadOnly&&!a.isDisabled&&(n(f),c.commitValidation())},o=c.displayValidation.isInvalid;var s;return{...c,name:e,selectedValue:r,defaultSelectedValue:a.value!==void 0?d:(s=a.defaultValue)!==null&&s!==void 0?s:null,setSelectedValue:t,lastFocusedValue:v,setLastFocusedValue:l,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(o?"invalid":null),isInvalid:o}}const De=$.createContext(null),Ie=$.createContext(null),j=$.createContext(null),_e=$.forwardRef(function(e,i){[e,i]=L(e,i,De);let{validationBehavior:r}=K(ee)||{};var n,d;let v=(d=(n=e.validationBehavior)!==null&&n!==void 0?n:r)!==null&&d!==void 0?d:"native",l=ge({...e,validationBehavior:v}),[c,t]=U(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:o,labelProps:s,descriptionProps:f,errorMessageProps:u,...P}=ye({...e,label:t,validationBehavior:v},l),x=O({...e,values:{orientation:e.orientation||"vertical",isDisabled:l.isDisabled,isReadOnly:l.isReadOnly,isRequired:l.isRequired,isInvalid:l.isInvalid,state:l},defaultClassName:"react-aria-RadioGroup"}),y=C(e,{global:!0});return h.createElement("div",{...V(y,x,o),ref:i,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":l.isInvalid||void 0,"data-disabled":l.isDisabled||void 0,"data-readonly":l.isReadOnly||void 0,"data-required":l.isRequired||void 0},h.createElement(z,{values:[[j,l],[ae,{...s,ref:c,elementType:"span"}],[de,{slots:{description:f,errorMessage:u}}],[X,P]]},h.createElement(le,null,x.children)))}),Ne=$.forwardRef(function(e,i){let{inputRef:r=null,...n}=e;[e,i]=L(n,i,Ie);let d=h.useContext(j),v=te($.useMemo(()=>J(r,e.inputRef!==void 0?e.inputRef:null),[r,e.inputRef])),{labelProps:l,inputProps:c,isSelected:t,isDisabled:o,isPressed:s}=Pe({...Q(e),children:typeof e.children=="function"?!0:e.children},d,v),{isFocused:f,isFocusVisible:u,focusProps:P}=fe(),x=o||d.isReadOnly,{hoverProps:y,isHovered:I}=be({...e,isDisabled:x}),_=O({...e,defaultClassName:"react-aria-Radio",values:{isSelected:t,isPressed:s,isHovered:I,isFocused:f,isFocusVisible:u,isDisabled:o,isReadOnly:d.isReadOnly,isInvalid:d.isInvalid,isRequired:d.isRequired}}),g=C(e,{global:!0});return delete g.id,delete g.onClick,h.createElement("label",{...V(g,l,y,_),ref:i,"data-selected":t||void 0,"data-pressed":s||void 0,"data-hovered":I||void 0,"data-focused":f||void 0,"data-focus-visible":u||void 0,"data-disabled":o||void 0,"data-readonly":d.isReadOnly||void 0,"data-invalid":d.isInvalid||void 0,"data-required":d.isRequired||void 0},h.createElement(pe,{elementType:"span"},h.createElement("input",{...V(c,P),ref:v})),h.createElement(re.Provider,{value:{isSelected:t}},_.children))}),W={classNames:{root:"bui-RadioGroup",content:"bui-RadioGroupContent",radio:"bui-Radio"}},S={"bui-RadioGroup":"_bui-RadioGroup_1fivl_20","bui-RadioGroupContent":"_bui-RadioGroupContent_1fivl_26","bui-Radio":"_bui-Radio_1fivl_20"},w=$.forwardRef((a,e)=>{const{classNames:i,cleanedProps:r}=k(W,a),{className:n,label:d,secondaryLabel:v,description:l,isRequired:c,"aria-label":t,"aria-labelledby":o,children:s,...f}=r;$.useEffect(()=>{!d&&!t&&!o&&console.warn("RadioGroup requires either a visible label, aria-label, or aria-labelledby for accessibility")},[d,t,o]);const u=v||(c?"Required":null);return q.jsxs(_e,{className:E(i.root,S[i.root],n),"aria-label":t,"aria-labelledby":o,...f,ref:e,children:[q.jsx(Re,{label:d,secondaryLabel:u,description:l}),q.jsx("div",{className:E(i.content,S[i.content]),children:s}),q.jsx(xe,{})]})});w.displayName="RadioGroup";const qe=$.forwardRef((a,e)=>{const{className:i,...r}=a,{classNames:n}=k(W);return q.jsx(Ne,{className:E(n.radio,S[n.radio],i),...r,ref:e})});w.displayName="RadioGroup";w.__docgenInfo={description:"@public",methods:[],displayName:"RadioGroup",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}},composes:["Omit"]};qe.__docgenInfo={description:"@public",methods:[],displayName:"Radio",composes:["AriaRadioProps"]};export{w as R,qe as a};
