import{r as n,a3 as y,j as I}from"./iframe-B6vHPHUS.js";import{b as j}from"./RSPContexts-xdSoOCnd.js";import{c as P,$ as w,f as A,l as F,m as T,h as k,d as z}from"./utils-Dc-c3eC3.js";import{b as B,c as H,d as q,e as W,a as G}from"./Form-Ck--Lsy1.js";import{d as J,c as K,a as L}from"./useFocusRing-BPooT00c.js";import{$ as Q}from"./usePress-D5zWsAX_.js";import{$ as U,a as S}from"./useToggleState-Det6lAHF.js";import{$ as X}from"./VisuallyHidden-BYZ37Wd1.js";import{u as Y}from"./useStyles-C-y3xpyB.js";import{c as _}from"./clsx-B-dksMZM.js";import{s as Z}from"./index-CX60uPmW.js";function O(i,e,a){let t=B({...i,value:e.isSelected}),{isInvalid:s,validationErrors:u,validationDetails:b}=t.displayValidation,{labelProps:v,inputProps:c,isSelected:o,isPressed:r,isDisabled:$,isReadOnly:m}=U({...i,isInvalid:s},e,a);H(i,t,a);let{isIndeterminate:x,isRequired:f,validationBehavior:l="aria"}=i;n.useEffect(()=>{a.current&&(a.current.indeterminate=!!x)});let{pressProps:h}=Q({isDisabled:$||m,onPress(){let{[q]:d}=i,{commitValidation:R}=d||t;R()}});return{labelProps:P(v,h,n.useMemo(()=>({onMouseDown:d=>d.preventDefault()}),[])),inputProps:{...c,checked:o,"aria-required":f&&l==="aria"||void 0,required:f&&l==="native"},isSelected:o,isPressed:r,isDisabled:$,isReadOnly:m,isInvalid:s,validationErrors:u,validationDetails:b}}const ee=new WeakMap;function ie(i,e,a){const t=S({isReadOnly:i.isReadOnly||e.isReadOnly,isSelected:e.isSelected(i.value),defaultSelected:e.defaultValue.includes(i.value),onChange(d){d?e.addValue(i.value):e.removeValue(i.value),i.onChange&&i.onChange(d)}});let{name:s,form:u,descriptionId:b,errorMessageId:v,validationBehavior:c}=ee.get(e);var o;c=(o=i.validationBehavior)!==null&&o!==void 0?o:c;let{realtimeValidation:r}=B({...i,value:t.isSelected,name:void 0,validationBehavior:"aria"}),$=n.useRef(W),m=()=>{e.setInvalid(i.value,r.isInvalid?r:$.current)};n.useEffect(m);let x=e.realtimeValidation.isInvalid?e.realtimeValidation:r,f=c==="native"?e.displayValidation:x;var l;let h=O({...i,isReadOnly:i.isReadOnly||e.isReadOnly,isDisabled:i.isDisabled||e.isDisabled,name:i.name||s,form:i.form||u,isRequired:(l=i.isRequired)!==null&&l!==void 0?l:e.isRequired,validationBehavior:c,[q]:{realtimeValidation:x,displayValidation:f,resetValidation:e.resetValidation,commitValidation:e.commitValidation,updateValidation(d){$.current=d,m()}}},t,a);return{...h,inputProps:{...h.inputProps,"aria-describedby":[i["aria-describedby"],e.isInvalid?v:null,b].filter(Boolean).join(" ")||void 0}}}const ae=n.createContext(null),de=n.forwardRef(function(e,a){let{inputRef:t=null,...s}=e;[e,a]=w(s,a,j);let{validationBehavior:u}=A(G)||{};var b,v;let c=(v=(b=e.validationBehavior)!==null&&b!==void 0?b:u)!==null&&v!==void 0?v:"native",o=n.useContext(ae),r=F(n.useMemo(()=>T(t,e.inputRef!==void 0?e.inputRef:null),[t,e.inputRef])),{labelProps:$,inputProps:m,isSelected:x,isDisabled:f,isReadOnly:l,isPressed:h,isInvalid:d}=o?ie({...k(e),value:e.value,children:typeof e.children=="function"?!0:e.children},o,r):O({...k(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:c},S(e),r),{isFocused:R,isFocusVisible:C,focusProps:E}=J(),N=f||l,{hoverProps:M,isHovered:p}=K({...e,isDisabled:N}),D=z({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:x,isIndeterminate:e.isIndeterminate||!1,isPressed:h,isHovered:p,isFocused:R,isFocusVisible:C,isDisabled:f,isReadOnly:l,isInvalid:d,isRequired:e.isRequired||!1}}),V=L(e,{global:!0});return delete V.id,delete V.onClick,y.createElement("label",{...P(V,$,M,D),ref:a,slot:e.slot||void 0,"data-selected":x||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":h||void 0,"data-hovered":p||void 0,"data-focused":R||void 0,"data-focus-visible":C||void 0,"data-disabled":f||void 0,"data-readonly":l||void 0,"data-invalid":d||void 0,"data-required":e.isRequired||void 0},y.createElement(X,{elementType:"span"},y.createElement("input",{...P(m,E),ref:r})),D.children)}),te={classNames:{root:"bui-Checkbox",indicator:"bui-CheckboxIndicator"},dataAttributes:{selected:[!0,!1]}},g={"bui-Checkbox":"_bui-Checkbox_g4eed_20","bui-CheckboxIndicator":"_bui-CheckboxIndicator_g4eed_38"},le=n.forwardRef((i,e)=>{const{classNames:a}=Y(te),{className:t,children:s,...u}=i;return I.jsxs(de,{ref:e,className:_(a.root,g[a.root],t),...u,children:[I.jsx("div",{className:_(a.indicator,g[a.indicator]),children:I.jsx(Z,{size:12})}),s]})});le.__docgenInfo={description:"@public",methods:[],displayName:"Checkbox",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["RACheckboxProps"]};export{le as C};
