import{n as u,o as h,r as a}from"./iframe-PR9K1gR4.js";import{g as o}from"./componentData-o86LZs6r.js";function s(r,t,i,e){return a.Children.toArray(r).flatMap(n=>{if(!a.isValidElement(n))return[];if(n.type===a.Fragment)return s(n.props.children,t,i,e);if(o(n,"core.featureFlagged")){const p=n.props;return("with"in p?t.isActive(p.with):!t.isActive(p.without))?s(n.props.children,t,i,e):[]}if(i===void 0||i(n))return[n];if(e)throw new Error(e);return s(n.props.children,t,i,e)})}class l{constructor(t,i){this.node=t,this.featureFlagsApi=i}selectByComponentData(t){const i=s(this.node,this.featureFlagsApi,e=>o(e,t.key)!==void 0,t.withStrictError);return new l(i,this.featureFlagsApi)}findComponentData(t){return s(this.node,this.featureFlagsApi,e=>o(e,t.key)!==void 0).map(e=>o(e,t.key)).filter(e=>e!==void 0)}getElements(){return s(this.node,this.featureFlagsApi)}}function d(r,t,i=[]){const e=u(h),n=new l(r,e);return a.useMemo(()=>t(n),[r,...i])}export{d as u};
