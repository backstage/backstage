import{r as e,a2 as i}from"./iframe-DFdcbEiJ.js";var s;const R=typeof document<"u"?(s=i.useInsertionEffect)!==null&&s!==void 0?s:i.useLayoutEffect:()=>{};function v(t,d,r){let[o,$]=e.useState(t||d),c=e.useRef(o),l=e.useRef(t!==void 0),f=t!==void 0;e.useEffect(()=>{l.current,l.current=f},[f]);let n=f?t:o;R(()=>{c.current=n});let[,b]=e.useReducer(()=>({}),{}),p=e.useCallback((a,...E)=>{let u=typeof a=="function"?a(c.current):a;Object.is(c.current,u)||(c.current=u,$(u),b(),r?.(u,...E))},[r]);return[n,p]}export{v as $};
