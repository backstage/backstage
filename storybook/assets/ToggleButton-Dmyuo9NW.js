import{r as c,R as x,j as y}from"./iframe-M9O-K8SB.js";import{c as p}from"./clsx-B-dksMZM.js";import{$ as T,a as h}from"./utils-BXllfVt4.js";import{d as K,c as C,a as E}from"./SelectionIndicator-yhlvspp_.js";import{f as k,$ as P,b as N}from"./useObjectRef-BPFp5snO.js";import{$ as S}from"./useFocusable-BwFERnd_.js";import{$ as z}from"./useControlledState-DzBnLbpE.js";import{$ as M}from"./useButton-F9hepFpV.js";import{$ as _}from"./context-Bv6kxITJ.js";import{$ as A}from"./useToggleState-O3dGrC2P.js";import{a as j,$ as q}from"./useFocusRing-COnCKKka.js";import{u as F}from"./useStyles-BRwt6BXn.js";import{u as L}from"./useSurface-CJaN3YoD.js";function D(t,e,a){const{isSelected:i}=e,{isPressed:l,buttonProps:r}=M({...t,onPress:k(e.toggle,t.onPress)},a);return{isPressed:l,isSelected:i,isDisabled:t.isDisabled||!1,buttonProps:P(r,{"aria-pressed":i})}}function I(t,e){const{"aria-label":a,"aria-labelledby":i,orientation:l="horizontal"}=t;let[r,s]=c.useState(!1);N(()=>{var n;s(!!(e.current&&(!((n=e.current.parentElement)===null||n===void 0)&&n.closest('[role="toolbar"]'))))});const{direction:o}=_(),f=o==="rtl"&&l==="horizontal";let u=K(e);const b=n=>{if(n.currentTarget.contains(n.target)){if(l==="horizontal"&&n.key==="ArrowRight"||l==="vertical"&&n.key==="ArrowDown")f?u.focusPrevious():u.focusNext();else if(l==="horizontal"&&n.key==="ArrowLeft"||l==="vertical"&&n.key==="ArrowUp")f?u.focusNext():u.focusPrevious();else if(n.key==="Tab"){n.stopPropagation(),d.current=document.activeElement,n.shiftKey?u.focusFirst():u.focusLast();return}else return;n.stopPropagation(),n.preventDefault()}},d=c.useRef(null),g=n=>{!n.currentTarget.contains(n.relatedTarget)&&!d.current&&(d.current=n.target)},$=n=>{var m;if(d.current&&!n.currentTarget.contains(n.relatedTarget)&&(!((m=e.current)===null||m===void 0)&&m.contains(n.target))){var v;(v=d.current)===null||v===void 0||v.focus(),d.current=null}};return{toolbarProps:{...S(t,{labelable:!0}),role:r?"group":"toolbar","aria-orientation":l,"aria-label":a,"aria-labelledby":a==null?i:void 0,onKeyDownCapture:r?void 0:b,onFocusCapture:r?void 0:$,onBlurCapture:r?void 0:g}}}function G(t,e,a){let{isDisabled:i}=t,{toolbarProps:l}=I(t,a);return{groupProps:{...l,role:e.selectionMode==="single"?"radiogroup":l.role,"aria-disabled":i}}}function O(t,e,a){let i={isSelected:e.selectedKeys.has(t.id),defaultSelected:!1,setSelected(f){e.setSelected(t.id,f)},toggle(){e.toggleKey(t.id)}},{isPressed:l,isSelected:r,isDisabled:s,buttonProps:o}=D({...t,id:void 0,isDisabled:t.isDisabled||e.isDisabled},i,a);return e.selectionMode==="single"&&(o.role="radio",o["aria-checked"]=i.isSelected,delete o["aria-pressed"]),{isPressed:l,isSelected:r,isDisabled:s,buttonProps:o}}function H(t){let{selectionMode:e="single",disallowEmptySelection:a,isDisabled:i=!1}=t,[l,r]=z(c.useMemo(()=>t.selectedKeys?new Set(t.selectedKeys):void 0,[t.selectedKeys]),c.useMemo(()=>t.defaultSelectedKeys?new Set(t.defaultSelectedKeys):new Set,[t.defaultSelectedKeys]),t.onSelectionChange);return{selectionMode:e,isDisabled:i,selectedKeys:l,setSelectedKeys:r,toggleKey(s){let o;e==="multiple"?(o=new Set(l),o.has(s)&&(!a||o.size>1)?o.delete(s):o.add(s)):o=new Set(l.has(s)&&!a?[]:[s]),r(o)},setSelected(s,o){o!==l.has(s)&&this.toggleKey(s)}}}const U=c.createContext({}),B=c.createContext(null),de=c.forwardRef(function(e,a){[e,a]=T(e,a,U);let i=H(e),{groupProps:l}=G(e,i,a),r=h({...e,values:{orientation:e.orientation||"horizontal",isDisabled:i.isDisabled,state:i},defaultClassName:"react-aria-ToggleButtonGroup"}),s=S(e,{global:!0});return x.createElement("div",{...P(s,r,l),ref:a,slot:e.slot||void 0,"data-orientation":e.orientation||"horizontal","data-disabled":e.isDisabled||void 0},x.createElement(B.Provider,{value:i},x.createElement(C,null,r.children)))}),V=c.createContext({}),J=c.forwardRef(function(e,a){[e,a]=T(e,a,V);let i=c.useContext(B),l=A(i&&e.id!=null?{isSelected:i.selectedKeys.has(e.id),onChange(v){i.setSelected(e.id,v)}}:e),{buttonProps:r,isPressed:s,isSelected:o,isDisabled:f}=i&&e.id!=null?O({...e,id:e.id},i,a):D({...e,id:e.id!=null?String(e.id):void 0},l,a),{focusProps:u,isFocused:b,isFocusVisible:d}=j(e),{hoverProps:g,isHovered:$}=q(e),n=h({...e,id:void 0,values:{isHovered:$,isPressed:s,isFocused:b,isSelected:l.isSelected,isFocusVisible:d,isDisabled:f,state:l},defaultClassName:"react-aria-ToggleButton"}),m=S(e,{global:!0});return delete m.id,delete m.onClick,x.createElement("button",{...P(m,n,r,u,g),ref:a,slot:e.slot||void 0,"data-focused":b||void 0,"data-disabled":f||void 0,"data-pressed":s||void 0,"data-selected":o||void 0,"data-hovered":$||void 0,"data-focus-visible":d||void 0},x.createElement(E.Provider,{value:{isSelected:o}},n.children))}),Q={classNames:{root:"bui-ToggleButton",content:"bui-ToggleButtonContent"},dataAttributes:{size:["small","medium"]}},w={"bui-ToggleButton":"_bui-ToggleButton_k5nrp_20","bui-ToggleButtonContent":"_bui-ToggleButtonContent_k5nrp_101"},R=c.forwardRef((t,e)=>{const{classNames:a,dataAttributes:i,cleanedProps:l}=F(Q,{size:"small",...t}),{children:r,className:s,iconStart:o,iconEnd:f,onSurface:u,...b}=l,{surface:d}=L({onSurface:u});return y.jsx(J,{className:p(a.root,w[a.root],s),ref:e,...i,...typeof d=="string"?{"data-on-surface":d}:{},...b,children:g=>{const $=typeof r=="function"?r(g):r;return y.jsxs("span",{className:p(a.content,w[a.content]),"data-slot":"content",children:[o,$,f]})}})});R.displayName="ToggleButton";R.__docgenInfo={description:"@public",methods:[],displayName:"ToggleButton",props:{size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | Partial<Record<Breakpoint, 'small' | 'medium'>>",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:"'initial' | 'xs' | 'sm' | 'md' | 'lg' | 'xl'",elements:[{name:"literal",value:"'initial'"},{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"}]},{name:"union",raw:"'small' | 'medium'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"}]}],raw:"Record<Breakpoint, 'small' | 'medium'>"}],raw:"Partial<Record<Breakpoint, 'small' | 'medium'>>"}]},description:""},iconStart:{required:!1,tsType:{name:"ReactElement"},description:""},iconEnd:{required:!1,tsType:{name:"ReactElement"},description:""},onSurface:{required:!1,tsType:{name:"union",raw:"T | Partial<Record<Breakpoint, T>>",elements:[{name:"union",raw:`| '0'
| '1'
| '2'
| '3'
| 'danger'
| 'warning'
| 'success'
| 'auto'`,elements:[{name:"literal",value:"'0'"},{name:"literal",value:"'1'"},{name:"literal",value:"'2'"},{name:"literal",value:"'3'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'success'"},{name:"literal",value:"'auto'"}]},{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:"'initial' | 'xs' | 'sm' | 'md' | 'lg' | 'xl'",elements:[{name:"literal",value:"'initial'"},{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"}]},{name:"union",raw:`| '0'
| '1'
| '2'
| '3'
| 'danger'
| 'warning'
| 'success'
| 'auto'`,elements:[{name:"literal",value:"'0'"},{name:"literal",value:"'1'"},{name:"literal",value:"'2'"},{name:"literal",value:"'3'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'success'"},{name:"literal",value:"'auto'"}]}],raw:"Record<Breakpoint, T>"}],raw:"Partial<Record<Breakpoint, T>>"}]},description:"Surface the toggle button is placed on. Defaults to context surface if available"}},composes:["AriaToggleButtonProps"]};export{de as $,R as T};
