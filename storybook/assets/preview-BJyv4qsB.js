import{j as a}from"./jsx-runtime-Cw0GR0a5.js";import{a as E,G as k,b as x,c as M,O as P,M as S,d as j,f as D,i as C,o as I,g as L,e as F,h as G,j as z,C as N,L as B,A as q,E as H,k as K}from"./MockTranslationApi-BzIKIUZ6.js";import{c as $}from"./ConfigApi-D1qiBdfc.js";import{e as U,t as Y}from"./TranslationApi-DhmNHZQM.js";import{d as V}from"./index-DrFu-skq.js";import{r as A,R as p}from"./index-CTjT7uj6.js";import{d as W}from"./Close-CPDECwLE.js";import{c as J}from"./translation-f08mCW_U.js";import{S as X}from"./Snackbar-C4JT_06h.js";import{A as Q}from"./Alert-q5Zbk2iD.js";import{I as Z}from"./IconButton-BSH9TP2p.js";import{T as ee}from"./Typography-cLPqD11X.js";import{u as te}from"./ApiRef-CqkoWjZn.js";import{u as re}from"./useTranslationRef-Bfx90Ud1.js";import{l as ae,d as ie}from"./themes-DOmEJ84j.js";import{T as oe}from"./ThemeProvider-f7E7OGWC.js";import{C as ne}from"./CssBaseline-CCCms-mx.js";import{T as se}from"./TestApiProvider-4wn3im9M.js";import{C as le}from"./Content-15LiGqV7.js";import"./defaultTheme-DXWIybXe.js";import"./classCallCheck-BNzALLS0.js";import"./inherits-CKtKJvtL.js";import"./toArray-pI9XEa5R.js";import"./index-CFaqwFgm.js";import"./interopRequireDefault-Y9pwbXtE.js";import"./createSvgIcon-qSoWoVHl.js";import"./capitalize-DIeCfh_E.js";import"./withStyles-DXZDjQMO.js";import"./hoist-non-react-statics.cjs-DzIEFHQI.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-BJFLD5ph.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-B_4ddUuK.js";import"./ownerWindow-C3iVrxHF.js";import"./useIsFocusVisible-BQk2_Vhe.js";import"./index-DwHHXP4W.js";import"./useControlled-B47E2WMp.js";import"./unstable_useId-B3Hiq1YI.js";import"./Paper-qJ_yTBwO.js";import"./Grow-Dg8gmH27.js";import"./useTheme-DSe7I3Kh.js";import"./utils-Dyc_dOmK.js";import"./TransitionGroupContext-BtzQ-Cv7.js";import"./clsx.m-CH7BE6MN.js";import"./Close-D08CbUTF.js";import"./ButtonBase-Uu46Oxts.js";import"./palettes-Bwgvserk.js";import"./ApiProvider-DlKBPm-W.js";import"./index-BRV0Se7Z.js";import"./index-Cqve-NHl.js";import"./makeStyles-Dm18XSEu.js";function b(e){const[t,o]=A.useState([]),l=te(E),{t:u}=re(J),{anchorOrigin:h={vertical:"top",horizontal:"center"},transientTimeoutMs:f}=e,m=f??5e3;A.useEffect(()=>{const n=l.alert$().subscribe(i=>o(s=>s.concat(i)));return()=>{n.unsubscribe()}},[l]);const[r]=t;if(A.useEffect(()=>{if(r&&r.display==="transient"){const n=setTimeout(()=>{o(i=>{const s=i.filter(O=>O!==r);return s.length===i.length?i:s})},m);return()=>clearTimeout(n)}},[r,m]),t.length===0)return null;const d=()=>{o(n=>n.filter(i=>i!==r))};return a.jsx(X,{open:!0,anchorOrigin:h,children:a.jsx(Q,{action:a.jsx(Z,{color:"inherit",size:"small",onClick:d,"data-testid":"error-button-close",children:a.jsx(W,{})}),severity:r.severity,children:a.jsxs(ee,{component:"span",children:[String(r.message),t.length>1&&a.jsx("em",{children:u("alertDisplay.message",{count:t.length-1})})]})})})}b.__docgenInfo={description:`Displays alerts from {@link @backstage/core-plugin-api#AlertApi}

@public
@remarks

Shown as SnackBar at the center top of the page by default. Configurable with props.

@param anchorOrigin - The \`vertical\` property will set the vertical orientation of where the AlertDisplay will be located
and the \`horizontal\` property will set the horizontal orientation of where the AlertDisplay will be located
@param transientTimeoutMs - Number of milliseconds a transient alert will stay open for. Default value is 5000

@example
Here's some examples:
\`\`\`
// This example shows the default usage, the SnackBar will show up at the top in the center and any transient messages will stay open for 5000ms
<AlertDisplay />

// With this example the SnackBar will show up in the bottom right hand corner and any transient messages will stay open for 2500ms
<AlertDisplay transientTimeoutMs={2500} anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}/>

// If you want to just set the time a transientTimeoutMs, you can do that like this:
<AlertDisplay transientTimeoutMs={10000} />
\`\`\``,methods:[],displayName:"AlertDisplay",props:{anchorOrigin:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  vertical: 'top' | 'bottom';
  horizontal: 'left' | 'center' | 'right';
}`,signature:{properties:[{key:"vertical",value:{name:"union",raw:"'top' | 'bottom'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"}],required:!0}},{key:"horizontal",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!0}}]}},description:""},transientTimeoutMs:{required:!1,tsType:{name:"number"},description:""}}};const me=new N({}),pe=new B,y=new q,ce=new H(y,new K),ue={getUserId:()=>"guest",getProfile:()=>({email:"guest@example.com"}),getIdToken:()=>{},signOut:async()=>{}},c=new j,he=k.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:c}),fe=x.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:c}),de=M.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:c}),ge=P.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:c}),Ae=S.create(),Te=[[$,me],[D,pe],[E,y],[U,ce],[C,ue],[I,c],[L,he],[F,fe],[G,de],[z,ge],[Y,Ae]],{useParameter:Ee,addons:be,useEffect:Mt,useMemo:ye,definePreview:Pt}=__STORYBOOK_MODULE_PREVIEW_API__,{deprecate:ve}=__STORYBOOK_MODULE_CLIENT_LOGGER__;var we=Object.defineProperty,v=(e,t)=>{for(var o in t)we(e,o,{get:t[o],enumerable:!0})},Re={};v(Re,{initialGlobals:()=>ke});var g="themes",_e=`storybook/${g}`,w="theme",T={},Oe={REGISTER_THEMES:`${_e}/REGISTER_THEMES`},ke={[w]:""},xe={};v(xe,{initializeThemeState:()=>_,pluckThemeFromContext:()=>R,useThemeParameters:()=>Me});function R({globals:e}){return e[w]||""}function Me(e){return ve(V`The useThemeParameters function is deprecated. Please access parameters via the context directly instead e.g.
    - const { themeOverride } = context.parameters.themes ?? {};
    `),e?e.parameters[g]??T:Ee(g,T)}function _(e,t){be.getChannel().emit(Oe.REGISTER_THEMES,{defaultTheme:t,themes:e})}var Pe=([e,t])=>t,Se=({Provider:e,GlobalStyles:t,defaultTheme:o,themes:l={}})=>{let u=Object.keys(l),h=o||u[0];return _(u,h),(f,m)=>{let{themeOverride:r}=m.parameters[g]??{},d=R(m),n=ye(()=>{let i=r||d||h,s=Object.entries(l);return s.length===1?Pe(s[0]):l[i]},[d,r]);return e?p.createElement(e,{theme:n},t&&p.createElement(t,null),f()):p.createElement(p.Fragment,null,t&&p.createElement(t,null),f())}};const St={parameters:{controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},darkMode:{current:"light"},layout:"fullscreen"},decorators:[Se({themes:{Light:ae,Dark:ie},defaultTheme:"Light",Provider:oe,GlobalStyles:ne}),e=>a.jsxs(se,{apis:Te,children:[a.jsx(b,{}),a.jsx(le,{children:a.jsx(e,{})})]})]},jt={options:{storySort:{order:["Plugins","Layout","Navigation"]}}};export{St as default,jt as parameters};
