import{av as ke,al as ye,X as $,aw as xe,Y as Re,r as a,H as le,F as de,_ as ce,x as C,a2 as Ce,a3 as we,an as te,$ as oe,ax as Fe}from"./iframe-Dyaavudc.js";import{P as Me}from"./Portal-CUQx1RGJ.js";function Se(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var o=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),o}function Te(e){var o=$(e);return o.body===e?Re(o).innerWidth>o.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function S(e,o){o?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ae(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function ie(e,o,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],n=arguments.length>4?arguments[4]:void 0,t=[o,r].concat(ye(i)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,function(l){l.nodeType===1&&t.indexOf(l)===-1&&s.indexOf(l.tagName)===-1&&S(l,n)})}function W(e,o){var r=-1;return e.some(function(i,n){return o(i)?(r=n,!0):!1}),r}function Ie(e,o){var r=[],i=[],n=e.container,t;if(!o.disableScrollLock){if(Te(n)){var s=Se();r.push({value:n.style.paddingRight,key:"padding-right",el:n}),n.style["padding-right"]="".concat(ae(n)+s,"px"),t=$(n).querySelectorAll(".mui-fixed"),[].forEach.call(t,function(d){i.push(d.style.paddingRight),d.style.paddingRight="".concat(ae(d)+s,"px")})}var l=n.parentElement,p=l.nodeName==="HTML"&&window.getComputedStyle(l)["overflow-y"]==="scroll"?l:n;r.push({value:p.style.overflow,key:"overflow",el:p}),p.style.overflow="hidden"}var g=function(){t&&[].forEach.call(t,function(u,v){i[v]?u.style.paddingRight=i[v]:u.style.removeProperty("padding-right")}),r.forEach(function(u){var v=u.value,E=u.el,h=u.key;v?E.style.setProperty(h,v):E.style.removeProperty(h)})};return g}function Be(e){var o=[];return[].forEach.call(e.children,function(r){r.getAttribute&&r.getAttribute("aria-hidden")==="true"&&o.push(r)}),o}var Pe=function(){function e(){xe(this,e),this.modals=[],this.containers=[]}return ke(e,[{key:"add",value:function(r,i){var n=this.modals.indexOf(r);if(n!==-1)return n;n=this.modals.length,this.modals.push(r),r.modalRef&&S(r.modalRef,!1);var t=Be(i);ie(i,r.mountNode,r.modalRef,t,!0);var s=W(this.containers,function(l){return l.container===i});return s!==-1?(this.containers[s].modals.push(r),n):(this.containers.push({modals:[r],container:i,restore:null,hiddenSiblingNodes:t}),n)}},{key:"mount",value:function(r,i){var n=W(this.containers,function(s){return s.modals.indexOf(r)!==-1}),t=this.containers[n];t.restore||(t.restore=Ie(t,i))}},{key:"remove",value:function(r){var i=this.modals.indexOf(r);if(i===-1)return i;var n=W(this.containers,function(l){return l.modals.indexOf(r)!==-1}),t=this.containers[n];if(t.modals.splice(t.modals.indexOf(r),1),this.modals.splice(i,1),t.modals.length===0)t.restore&&t.restore(),r.modalRef&&S(r.modalRef,!0),ie(t.container,r.mountNode,r.modalRef,t.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var s=t.modals[t.modals.length-1];s.modalRef&&S(s.modalRef,!1)}return i}},{key:"isTopModal",value:function(r){return this.modals.length>0&&this.modals[this.modals.length-1]===r}}]),e}();function _e(e){var o=e.children,r=e.disableAutoFocus,i=r===void 0?!1:r,n=e.disableEnforceFocus,t=n===void 0?!1:n,s=e.disableRestoreFocus,l=s===void 0?!1:s,p=e.getDoc,g=e.isEnabled,d=e.open,u=a.useRef(),v=a.useRef(null),E=a.useRef(null),h=a.useRef(),c=a.useRef(null),T=a.useCallback(function(f){c.current=le.findDOMNode(f)},[]),O=de(o.ref,T),w=a.useRef();return a.useEffect(function(){w.current=d},[d]),!w.current&&d&&typeof window<"u"&&(h.current=p().activeElement),a.useEffect(function(){if(d){var f=$(c.current);!i&&c.current&&!c.current.contains(f.activeElement)&&(c.current.hasAttribute("tabIndex")||c.current.setAttribute("tabIndex",-1),c.current.focus());var x=function(){var k=c.current;if(k!==null){if(!f.hasFocus()||t||!g()||u.current){u.current=!1;return}c.current&&!c.current.contains(f.activeElement)&&c.current.focus()}},I=function(k){t||!g()||k.keyCode!==9||f.activeElement===c.current&&(u.current=!0,k.shiftKey?E.current.focus():v.current.focus())};f.addEventListener("focus",x,!0),f.addEventListener("keydown",I,!0);var B=setInterval(function(){x()},50);return function(){clearInterval(B),f.removeEventListener("focus",x,!0),f.removeEventListener("keydown",I,!0),l||(h.current&&h.current.focus&&h.current.focus(),h.current=null)}}},[i,t,l,g,d]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelStart"}),a.cloneElement(o,{ref:O}),a.createElement("div",{tabIndex:0,ref:E,"data-test":"sentinelEnd"}))}var se={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Ae=a.forwardRef(function(o,r){var i=o.invisible,n=i===void 0?!1:i,t=o.open,s=ce(o,["invisible","open"]);return t?a.createElement("div",C({"aria-hidden":!0,ref:r},s,{style:C({},se.root,n?se.invisible:{},s.style)})):null});function De(e){return e=typeof e=="function"?e():e,le.findDOMNode(e)}function $e(e){return e.children?e.children.props.hasOwnProperty("in"):!1}var Oe=new Pe,Ne=function(o){return{root:{position:"fixed",zIndex:o.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},He=a.forwardRef(function(o,r){var i=Ce(),n=we({name:"MuiModal",props:C({},o),theme:i}),t=n.BackdropComponent,s=t===void 0?Ae:t,l=n.BackdropProps,p=n.children,g=n.closeAfterTransition,d=g===void 0?!1:g,u=n.container,v=n.disableAutoFocus,E=v===void 0?!1:v,h=n.disableBackdropClick,c=h===void 0?!1:h,T=n.disableEnforceFocus,O=T===void 0?!1:T,w=n.disableEscapeKeyDown,f=w===void 0?!1:w,x=n.disablePortal,I=x===void 0?!1:x,B=n.disableRestoreFocus,N=B===void 0?!1:B,k=n.disableScrollLock,ue=k===void 0?!1:k,z=n.hideBackdrop,fe=z===void 0?!1:z,U=n.keepMounted,pe=U===void 0?!1:U,Y=n.manager,R=Y===void 0?Oe:Y,j=n.onBackdropClick,P=n.onClose,q=n.onEscapeKeyDown,X=n.onRendered,y=n.open,G=ce(n,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),J=a.useState(!0),Q=J[0],V=J[1],K=a.useRef({}),L=a.useRef(null),F=a.useRef(null),ve=de(F,r),_=$e(n),Z=function(){return $(L.current)},A=function(){return K.current.modalRef=F.current,K.current.mountNode=L.current,K.current},ee=function(){R.mount(A(),{disableScrollLock:ue}),F.current.scrollTop=0},ne=te(function(){var m=De(u)||Z().body;R.add(A(),m),F.current&&ee()}),H=a.useCallback(function(){return R.isTopModal(A())},[R]),he=te(function(m){L.current=m,m&&(X&&X(),y&&H()?ee():S(F.current,!0))}),M=a.useCallback(function(){R.remove(A())},[R]);if(a.useEffect(function(){return function(){M()}},[M]),a.useEffect(function(){y?ne():(!_||!d)&&M()},[y,M,_,d,ne]),!pe&&!y&&(!_||Q))return null;var me=function(){V(!1)},be=function(){V(!0),d&&M()},ge=function(b){b.target===b.currentTarget&&(j&&j(b),!c&&P&&P(b,"backdropClick"))},Ee=function(b){b.key!=="Escape"||!H()||(q&&q(b),f||(b.stopPropagation(),P&&P(b,"escapeKeyDown")))},re=Ne(i||{zIndex:Fe}),D={};return p.props.tabIndex===void 0&&(D.tabIndex=p.props.tabIndex||"-1"),_&&(D.onEnter=oe(me,p.props.onEnter),D.onExited=oe(be,p.props.onExited)),a.createElement(Me,{ref:he,container:u,disablePortal:I},a.createElement("div",C({ref:ve,onKeyDown:Ee,role:"presentation"},G,{style:C({},re.root,!y&&Q?re.hidden:{},G.style)}),fe?null:a.createElement(s,C({open:y,onClick:ge},l)),a.createElement(_e,{disableEnforceFocus:O,disableAutoFocus:E,disableRestoreFocus:N,getDoc:Z,isEnabled:H,open:y},a.cloneElement(p,D))))});export{He as M,_e as U,Pe as a,Se as g};
