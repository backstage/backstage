import{r as s,a2 as I,j as R}from"./iframe-CG856I7g.js";import{b as M}from"./RSPContexts-945p0fc-.js";import{$ as w,b as F,f as z,d as k,a as A}from"./utils-BMuP5mYH.js";import{b as g,c as T,d as q,e as H,a as W}from"./Form-DpxLMmYj.js";import{$ as P,d as G}from"./useObjectRef-CECRdsxi.js";import{a as J}from"./useFocusable-WAGOL0AQ.js";import{$ as K}from"./usePress-CJIbrPjR.js";import{$ as L}from"./useToggle-Co8QrKWT.js";import{$ as S}from"./useToggleState-B-jHG70m.js";import{a as Q,$ as U}from"./useFocusRing-Dnw50aqT.js";import{$ as X}from"./VisuallyHidden-BtHwQ3Xv.js";import{a as Y}from"./useStyles-nw3zIFwZ.js";import{c as _}from"./clsx-B-dksMZM.js";import{R as Z,s as ee}from"./index-DoQPx43M.js";function O(i,e,a){let t=g({...i,value:e.isSelected}),{isInvalid:c,validationErrors:b,validationDetails:l}=t.displayValidation,{labelProps:v,inputProps:f,isSelected:r,isPressed:n,isDisabled:$,isReadOnly:m}=L({...i,isInvalid:c},e,a);T(i,t,a);let{isIndeterminate:x,isRequired:u,validationBehavior:o="aria"}=i;s.useEffect(()=>{a.current&&(a.current.indeterminate=!!x)});let{pressProps:h}=K({isDisabled:$||m,onPress(){let{[q]:d}=i,{commitValidation:V}=d||t;V()}});return{labelProps:P(v,h,s.useMemo(()=>({onMouseDown:d=>d.preventDefault()}),[])),inputProps:{...f,checked:r,"aria-required":u&&o==="aria"||void 0,required:u&&o==="native"},isSelected:r,isPressed:n,isDisabled:$,isReadOnly:m,isInvalid:c,validationErrors:b,validationDetails:l}}const ie=new WeakMap;function ae(i,e,a){const t=S({isReadOnly:i.isReadOnly||e.isReadOnly,isSelected:e.isSelected(i.value),defaultSelected:e.defaultValue.includes(i.value),onChange(d){d?e.addValue(i.value):e.removeValue(i.value),i.onChange&&i.onChange(d)}});let{name:c,form:b,descriptionId:l,errorMessageId:v,validationBehavior:f}=ie.get(e);var r;f=(r=i.validationBehavior)!==null&&r!==void 0?r:f;let{realtimeValidation:n}=g({...i,value:t.isSelected,name:void 0,validationBehavior:"aria"}),$=s.useRef(H),m=()=>{e.setInvalid(i.value,n.isInvalid?n:$.current)};s.useEffect(m);let x=e.realtimeValidation.isInvalid?e.realtimeValidation:n,u=f==="native"?e.displayValidation:x;var o;let h=O({...i,isReadOnly:i.isReadOnly||e.isReadOnly,isDisabled:i.isDisabled||e.isDisabled,name:i.name||c,form:i.form||b,isRequired:(o=i.isRequired)!==null&&o!==void 0?o:e.isRequired,validationBehavior:f,[q]:{realtimeValidation:x,displayValidation:u,resetValidation:e.resetValidation,commitValidation:e.commitValidation,updateValidation(d){$.current=d,m()}}},t,a);return{...h,inputProps:{...h.inputProps,"aria-describedby":[i["aria-describedby"],e.isInvalid?v:null,l].filter(Boolean).join(" ")||void 0}}}const de=s.createContext(null),te=s.forwardRef(function(e,a){let{inputRef:t=null,...c}=e;[e,a]=w(c,a,M);let{validationBehavior:b}=F(W)||{};var l,v;let f=(v=(l=e.validationBehavior)!==null&&l!==void 0?l:b)!==null&&v!==void 0?v:"native",r=s.useContext(de),n=G(s.useMemo(()=>z(t,e.inputRef!==void 0?e.inputRef:null),[t,e.inputRef])),{labelProps:$,inputProps:m,isSelected:x,isDisabled:u,isReadOnly:o,isPressed:h,isInvalid:d}=r?ae({...k(e),value:e.value,children:typeof e.children=="function"?!0:e.children},r,n):O({...k(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:f},S(e),n),{isFocused:V,isFocusVisible:p,focusProps:E}=Q(),N=u||o,{hoverProps:j,isHovered:C}=U({...e,isDisabled:N}),D=A({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:x,isIndeterminate:e.isIndeterminate||!1,isPressed:h,isHovered:C,isFocused:V,isFocusVisible:p,isDisabled:u,isReadOnly:o,isInvalid:d,isRequired:e.isRequired||!1}}),y=J(e,{global:!0});return delete y.id,delete y.onClick,I.createElement("label",{...P(y,$,j,D),ref:a,slot:e.slot||void 0,"data-selected":x||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":h||void 0,"data-hovered":C||void 0,"data-focused":V||void 0,"data-focus-visible":p||void 0,"data-disabled":u||void 0,"data-readonly":o||void 0,"data-invalid":d||void 0,"data-required":e.isRequired||void 0},I.createElement(X,{elementType:"span"},I.createElement("input",{...P(m,E),ref:n})),D.children)}),oe={classNames:{root:"bui-Checkbox",indicator:"bui-CheckboxIndicator"},dataAttributes:{selected:[!0,!1],indeterminate:[!0,!1]}},B={"bui-Checkbox":"_bui-Checkbox_l4o23_20","bui-CheckboxIndicator":"_bui-CheckboxIndicator_l4o23_38"},le=s.forwardRef((i,e)=>{const{classNames:a}=Y(oe),{className:t,children:c,...b}=i;return R.jsx(te,{ref:e,className:_(a.root,B[a.root],t),...b,children:({isIndeterminate:l})=>R.jsxs(R.Fragment,{children:[R.jsx("div",{className:_(a.indicator,B[a.indicator]),children:l?R.jsx(Z,{size:12}):R.jsx(ee,{size:12})}),c]})})});le.__docgenInfo={description:"@public",methods:[],displayName:"Checkbox",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["RACheckboxProps"]};export{le as C};
