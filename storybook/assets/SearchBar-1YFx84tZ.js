import{r,j as t,J as K,Y as _,F as N,K as z}from"./iframe-BWaAozhM.js";import{S as F}from"./Search-CfQKLbUr.js";import{u as V}from"./useDebounce-D1k2pYOm.js";import{s as J}from"./translation-CEq7l-bf.js";import{u as L,S as y}from"./SearchContext-BqA84v2x.js";import{I as x}from"./InputAdornment-BIR6tUbD.js";import{B as M}from"./Button-BtXH8PBD.js";import{T as O}from"./TextField-CZRieWqm.js";import{A as Q}from"./useAnalytics-CGFkzRxT.js";import{u as U}from"./useApp-oTx36hQg.js";import"./preload-helper-PPVm8Dsz.js";import"./lodash-C-lPDFyh.js";import"./useAsync-Cwpml34y.js";import"./useMountedState-BlQS3tzi.js";import"./api-BbfIOoSU.js";import"./useFormControl-DNJmyzsM.js";import"./Select-q370X4Hr.js";import"./index-B9sM2jn7.js";import"./Popover-GnSZHMUP.js";import"./Modal-DSMNGChR.js";import"./Portal-CeZ7D8j3.js";import"./List-d_1gDOpt.js";import"./ListContext-KZtCLGQU.js";import"./formControlState-ByiNFc8I.js";import"./FormLabel-CHl2HXHP.js";import"./InputLabel-BxGo0aOj.js";const B=r.forwardRef((m,h)=>{const{onChange:n,onKeyDown:a=()=>{},onClear:i=()=>{},onSubmit:s=()=>{},debounceTime:o=200,clearButton:f=!0,fullWidth:c=!0,value:g,label:b,placeholder:S,inputProps:C={},InputProps:v={},endAdornment:A,...I}=m,T=K(_),[l,u]=r.useState(""),d=r.useRef(""),{t:p}=N(J);r.useEffect(()=>{u(e=>e===d.current?String(g):e)},[g,d]),V(()=>{d.current=l,n(l)},o,[l]);const R=r.useCallback(e=>{u(e.target.value)},[u]),j=r.useCallback(e=>{a&&a(e),s&&e.key==="Enter"&&s()},[a,s]),P=r.useCallback(()=>{d.current="",n(""),u(""),i&&i()},[n,i]),w=b?void 0:p("searchBar.title"),k=S??p("searchBar.placeholder",{org:T.getOptionalString("app.title")||"Backstage"}),E=U().getSystemIcon("search")||F,q=t.jsx(x,{position:"start",children:t.jsx(z,{"aria-label":"Query",size:"small",disabled:!0,children:t.jsx(E,{})})}),D=t.jsx(x,{position:"end",children:t.jsx(M,{"aria-label":p("searchBar.clearButtonTitle"),size:"small",onClick:P,onKeyDown:e=>{e.key==="Enter"&&e.stopPropagation()},children:p("searchBar.clearButtonTitle")})});return t.jsx(y,{inheritParentContextIfAvailable:!0,children:t.jsx(O,{id:"search-bar-text-field","data-testid":"search-bar-next",variant:"outlined",margin:"normal",inputRef:h,value:l,label:b,placeholder:k,InputProps:{startAdornment:q,endAdornment:f?D:A,...v},inputProps:{"aria-label":w,...C},fullWidth:c,onChange:R,onKeyDown:j,...I})})}),W=r.forwardRef((m,h)=>{const{value:n="",onChange:a,...i}=m,{term:s,setTerm:o}=L();r.useEffect(()=>{n&&o(String(n))},[n,o]);const f=r.useCallback(c=>{a?a(c):o(c)},[a,o]);return t.jsx(y,{inheritParentContextIfAvailable:!0,children:t.jsx(Q,{attributes:{pluginId:"search",extension:"SearchBar"},children:t.jsx(B,{...i,ref:h,value:s,onChange:f})})})});B.__docgenInfo={description:`All search boxes exported by the search plugin are based on the <SearchBarBase />,
and this one is based on the <InputBase /> component from Material UI.
Recommended if you don't use Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBarBase",props:{debounceTime:{required:!1,tsType:{name:"number"},description:""},clearButton:{required:!1,tsType:{name:"boolean"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},endAdornment:{required:!1,tsType:{name:"ReactNode"},description:""}}};W.__docgenInfo={description:`Recommended search bar when you use the Search Provider or Search Context.

@public`,methods:[],displayName:"SearchBar"};export{W as SearchBar,B as SearchBarBase};
