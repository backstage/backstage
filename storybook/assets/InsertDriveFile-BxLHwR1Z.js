import{j as e}from"./jsx-runtime-hv06LKfz.js";import{r as d,b as G,g as J}from"./index-D8-PC79C.js";import{q as N}from"./index-DP9-3wfB.js";import{A as O}from"./Add-BWFXgsj-.js";import{A}from"./ArrowForwardIos-CnuDAP65.js";import{u as _,S as M}from"./SearchResult-C43QOatI.js";import{s as X}from"./translation-BIsYolyo.js";import{m as b}from"./makeStyles-CJp8qHqH.js";import{M as k}from"./MenuItem-BeuliaIE.js";import{H as z}from"./DefaultResultListItem--r-eJIbV.js";import{L as V}from"./List-Bi5n8Alr.js";import{L as H}from"./ListSubheader-9iaHlYVi.js";import{T as I}from"./Typography-NhBf-tfS.js";import{C as w}from"./Chip-D_bIHfxd.js";import{b as W,S as B,a as $}from"./Select-aGy7NPFn.js";import{A as K}from"./useAnalytics-Q-nz63z2.js";import{u as Q}from"./useTranslationRef-DKy5gnX5.js";import{E as U}from"./EmptyState-BoWowcfp.js";import{P as Y}from"./Progress-Bvn6WRkc.js";import{R as Z}from"./ResponseErrorPanel-Skct3pVj.js";import{L as ee}from"./Link-m8k68nLc.js";import{r as ne}from"./typeof-ZI2KZN5z.js";import{r as re,a as te}from"./createSvgIcon-Bpme_iea.js";const T=b(n=>({listSubheader:{display:"flex",alignItems:"center"},listSubheaderName:{marginLeft:n.spacing(1),textTransform:"uppercase"},listSubheaderChip:{color:n.palette.text.secondary,margin:n.spacing(0,0,0,1.5)},listSubheaderFilter:{display:"flex",color:n.palette.text.secondary,margin:n.spacing(0,0,0,1.5)},listSubheaderLink:{marginLeft:"auto",display:"flex",alignItems:"center"},listSubheaderLinkIcon:{fontSize:"inherit",marginLeft:n.spacing(.5)}})),R=n=>{const r=T(),{label:a,children:s,...t}=n;return e.jsx(w,{...t,className:r.listSubheaderFilter,variant:"outlined",label:e.jsxs(e.Fragment,{children:[a,": ",s]})})},ae=()=>null,se=b(n=>({root:{fontSize:"inherit","&:focus":{outline:"none",background:n.palette.common.white},"&:not(:focus)":{cursor:"pointer",color:n.palette.primary.main,"&:hover":{textDecoration:"underline"}}}})),le=n=>{const r=se(),{label:a,value:s="None",onChange:t,onDelete:o}=n,i=d.useCallback(u=>{t(u.target.value)},[t]);return e.jsx(R,{label:a,onDelete:o,children:e.jsx(I,{role:"textbox",component:"span",className:r.root,onChange:i,contentEditable:!0,suppressContentEditableWarning:!0,children:s?.toString()})})},oe=b(n=>({root:{fontSize:"inherit","&:not(:focus)":{cursor:"pointer",color:n.palette.primary.main,"&:hover":{textDecoration:"underline"}},"&:focus":{outline:"none"},"&>div:first-child":{padding:0}}})),ie=n=>{const r=oe(),{label:a,value:s="none",onChange:t,onDelete:o,children:i}=n,u=d.useCallback(m=>{t(m.target.value)},[t]);return e.jsx(R,{label:a,onDelete:o,children:e.jsxs(B,{className:r.root,value:s,onChange:u,input:e.jsx($,{}),IconComponent:ae,children:[e.jsx(k,{value:"none",children:"None"}),i]})})};function q(n){const r=T(),[a,s]=d.useState(null),{t}=Q(X),{error:o,loading:i,icon:u,title:m,titleProps:g={},link:h=e.jsxs(e.Fragment,{children:[t("searchResultGroup.linkTitle"),e.jsx(A,{className:r.listSubheaderLinkIcon})]}),linkProps:y={},filterOptions:c,renderFilterOption:f=l=>e.jsx(k,{value:String(l),children:String(l)},String(l)),filterFields:S,renderFilterField:j,resultItems:x,renderResultItem:L=l=>e.jsx(z,{result:l.document},l.document.location),disableRenderingWithNoResults:P,noResultsComponent:C=P?null:e.jsx(U,{missing:"data",title:t("noResultsDescription")}),...E}=n,D=d.useCallback(l=>{s(l.currentTarget)},[]),F=d.useCallback(()=>{s(null)},[]);return i?e.jsx(Y,{}):o?e.jsx(Z,{title:"Error encountered while fetching search results",error:o}):x?.length?e.jsxs(V,{...E,children:[e.jsxs(H,{className:r.listSubheader,children:[u,e.jsx(I,{className:r.listSubheaderName,component:"strong",...g,children:m}),c?e.jsx(w,{className:r.listSubheaderChip,component:"button",icon:e.jsx(O,{}),variant:"outlined",label:t("searchResultGroup.addFilterButtonTitle"),"aria-controls":"filters-menu","aria-haspopup":"true",onClick:D}):null,c?e.jsx(W,{id:"filters-menu",anchorEl:a,open:!!a,onClose:F,onClick:F,keepMounted:!0,children:c.map(f)}):null,S?.map(l=>j?.(l)??null),e.jsx(ee,{className:r.listSubheaderLink,to:"/search",...y,children:h})]}),x.map(L)]}):e.jsx(e.Fragment,{children:C})}function ue(n){const{query:r,children:a,renderResultItem:s,linkProps:t={},...o}=n,i=_(a);return e.jsx(K,{attributes:{pluginId:"search",extension:"SearchResultGroup"},children:e.jsx(M,{query:r,children:({loading:u,error:m,value:g},{term:h,types:y,pageCursor:c,filters:f={}})=>{const S=`/search?${N.stringify({term:h,types:y,filters:f,pageCursor:c,query:h},{arrayFormat:"brackets"})}`;return e.jsx(q,{...o,error:m,loading:u,linkProps:{to:S,...t},filterFields:Object.keys(f),resultItems:g?.results,renderResultItem:s??i})}})})}R.__docgenInfo={description:`Default layout for a search group filter field.
@param props - See {@link SearchResultGroupFilterFieldLayoutProps}.
@public`,methods:[],displayName:"SearchResultGroupFilterFieldLayout"};le.__docgenInfo={description:`A text field that can be used as filter on search result groups.
@param props - See {@link SearchResultGroupTextFilterFieldProps}.
@example
\`\`\`
<SearchResultGroupTextFilterField
  id="lifecycle"
  label="Lifecycle"
  value={value}
  onChange={handleChangeFilter}
  onDelete={handleDeleteFilter}
/>
\`\`\`
@public`,methods:[],displayName:"SearchResultGroupTextFilterField",props:{onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: JsonValue) => void",signature:{arguments:[{type:{name:"union",raw:"JsonObject | JsonArray | JsonPrimitive",elements:[{name:"signature",type:"object",raw:"{ [key in string]?: JsonValue }",signature:{properties:[{key:{name:"string",required:!1},value:{name:"JsonValue"}}]}},{name:"JsonArray"},{name:"union",raw:"number | string | boolean | null",elements:[{name:"number"},{name:"string"},{name:"boolean"},{name:"null"}]}]},name:"value"}],return:{name:"void"}}},description:""}}};ie.__docgenInfo={description:`A select field that can be used as filter on search result groups.
@param props - See {@link SearchResultGroupSelectFilterFieldProps}.
@example
\`\`\`
<SearchResultGroupSelectFilterField
  id="lifecycle"
  label="Lifecycle"
  value={filters.lifecycle}
  onChange={handleChangeFilter}
  onDelete={handleDeleteFilter}
>
  <MenuItem value="experimental">Experimental</MenuItem>
  <MenuItem value="production">Production</MenuItem>
 </SearchResultGroupSelectFilterField>
\`\`\`
@public`,methods:[],displayName:"SearchResultGroupSelectFilterField",props:{onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: JsonValue) => void",signature:{arguments:[{type:{name:"union",raw:"JsonObject | JsonArray | JsonPrimitive",elements:[{name:"signature",type:"object",raw:"{ [key in string]?: JsonValue }",signature:{properties:[{key:{name:"string",required:!1},value:{name:"JsonValue"}}]}},{name:"JsonArray"},{name:"union",raw:"number | string | boolean | null",elements:[{name:"number"},{name:"string"},{name:"boolean"},{name:"null"}]}]},name:"value"}],return:{name:"void"}}},description:""}}};q.__docgenInfo={description:`Default layout for rendering search results in a group.
@param props - See {@link SearchResultGroupLayoutProps}.
@public`,methods:[],displayName:"SearchResultGroupLayout",props:{error:{required:!1,tsType:{name:"Error"},description:"If defined, will render a default error panel."},loading:{required:!1,tsType:{name:"boolean"},description:"If defined, will render a default loading progress."},icon:{required:!0,tsType:{name:"JSX.Element"},description:"Icon that representing a result group."},title:{required:!0,tsType:{name:"ReactNode"},description:"The results group title content, it could be a text or an element."},titleProps:{required:!1,tsType:{name:"Partial",elements:[{name:"TypographyProps"}],raw:"Partial<TypographyProps>"},description:"Props for the results group title."},link:{required:!1,tsType:{name:"ReactNode"},description:"The results group link content, it could be a text or an element."},linkProps:{required:!1,tsType:{name:"Partial",elements:[{name:"intersection",raw:`Omit<MaterialLinkProps, 'to'> &
Omit<RouterLinkProps, 'to'> & {
  to: string;
  component?: ElementType<any>;
  noTrack?: boolean;
  externalLinkIcon?: boolean;
}`,elements:[{name:"Omit",elements:[{name:"MaterialLinkProps"},{name:"literal",value:"'to'"}],raw:"Omit<MaterialLinkProps, 'to'>"},{name:"Omit",elements:[{name:"RouterLinkProps"},{name:"literal",value:"'to'"}],raw:"Omit<RouterLinkProps, 'to'>"},{name:"signature",type:"object",raw:`{
  to: string;
  component?: ElementType<any>;
  noTrack?: boolean;
  externalLinkIcon?: boolean;
}`,signature:{properties:[{key:"to",value:{name:"string",required:!0}},{key:"component",value:{name:"ElementType",elements:[{name:"any"}],raw:"ElementType<any>",required:!1}},{key:"noTrack",value:{name:"boolean",required:!1}},{key:"externalLinkIcon",value:{name:"boolean",required:!1}}]}}]}],raw:"Partial<LinkProps>"},description:'Props for the results group link, the "to" prop defaults to "/search".'},filterOptions:{required:!1,tsType:{name:"Array",elements:[{name:"FilterOption"}],raw:"FilterOption[]"},description:'A generic filter options that is rendered on the "Add filter" dropdown.'},renderFilterOption:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  value: FilterOption,
  index: number,
  array: FilterOption[],
) => JSX.Element | null`,signature:{arguments:[{type:{name:"FilterOption"},name:"value"},{type:{name:"number"},name:"index"},{type:{name:"Array",elements:[{name:"FilterOption"}],raw:"FilterOption[]"},name:"array"}],return:{name:"union",raw:"JSX.Element | null",elements:[{name:"JSX.Element"},{name:"null"}]}}},description:`Function to customize how filter options are rendered.
@remarks Defaults to a menu item where its value and label bounds to the option string.`},filterFields:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"A list of search filter keys, also known as filter field names."},renderFilterField:{required:!1,tsType:{name:"signature",type:"function",raw:"(key: string) => JSX.Element | null",signature:{arguments:[{type:{name:"string"},name:"key"}],return:{name:"union",raw:"JSX.Element | null",elements:[{name:"JSX.Element"},{name:"null"}]}}},description:"Function to customize how filter chips are rendered."},resultItems:{required:!1,tsType:{name:"Array",elements:[{name:"Result",elements:[{name:"SearchDocument"}],raw:"Result<SearchDocument>"}],raw:"SearchResult[]"},description:"Search results to be rendered as a group."},renderResultItem:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  value: SearchResult,
  index: number,
  array: SearchResult[],
) => JSX.Element | null`,signature:{arguments:[{type:{name:"Result",elements:[{name:"SearchDocument"}],raw:"Result<SearchDocument>"},name:"value"},{type:{name:"number"},name:"index"},{type:{name:"Array",elements:[{name:"Result",elements:[{name:"SearchDocument"}],raw:"Result<SearchDocument>"}],raw:"SearchResult[]"},name:"array"}],return:{name:"union",raw:"JSX.Element | null",elements:[{name:"JSX.Element"},{name:"null"}]}}},description:"Function to customize how result items are rendered."},noResultsComponent:{required:!1,tsType:{name:"ReactNode"},description:"Optional component to render when no results. Default to <EmptyState /> component."},disableRenderingWithNoResults:{required:!1,tsType:{name:"boolean"},description:"Optional property to provide if component should not render the component when no results are found."}}};ue.__docgenInfo={description:`Given a query, search for results and render them as a group.
@param props - See {@link SearchResultGroupProps}.
@public`,methods:[],displayName:"SearchResultGroup"};var p={},v;function me(){if(v)return p;v=1;var n=ne(),r=re();Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var a=r(G()),s=n(te()),t=(0,s.default)(a.createElement("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"}),"InsertDriveFile");return p.default=t,p}var ce=me();const Ge=J(ce);export{Ge as D,ue as S,le as a,ie as b,q as c};
