const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-C1S52MlS.js","./iframe-BWaAozhM.js","./preload-helper-PPVm8Dsz.js","./iframe-DLTiF_0e.css","./index-Dm-FVvkq.js","./ref-C0VTUPuL.js","./lodash-C-lPDFyh.js","./useObservable-ZBbx2FoE.js","./useIsomorphicLayoutEffect-B9CHm_6H.js","./appWrappers-C6IDOOCs.js","./useAnalytics-CGFkzRxT.js","./useAsync-Cwpml34y.js","./useMountedState-BlQS3tzi.js","./componentData-Bd9qinFb.js","./isSymbol-DYihM2bc.js","./isObject--vsEa_js.js","./toString-jlmj72dF.js","./useApp-oTx36hQg.js","./Add-CQqEUORf.js","./Grid-Bpm_oOGo.js","./Box-B9d7t8SV.js","./styled-BFyqjI4T.js","./TextField-CZRieWqm.js","./Select-q370X4Hr.js","./index-B9sM2jn7.js","./Popover-GnSZHMUP.js","./Modal-DSMNGChR.js","./Portal-CeZ7D8j3.js","./List-d_1gDOpt.js","./ListContext-KZtCLGQU.js","./formControlState-ByiNFc8I.js","./useFormControl-DNJmyzsM.js","./FormLabel-CHl2HXHP.js","./InputLabel-BxGo0aOj.js","./ListItem-CwaI1EQV.js","./ListItemIcon-Dmk9Y__O.js","./ListItemText-j6Wkxdaj.js","./Remove-C_ekNZVz.js","./useCopyToClipboard-U7bSfaHE.js","./Button-BtXH8PBD.js","./Divider-DKWgzE0b.js","./FormControlLabel-DJ3f-288.js","./Checkbox-opBu3oCg.js","./SwitchBase-CwOu7BV2.js","./RadioGroup-DJxBD4bm.js","./MenuItem-CWY30vWU.js","./translation-DwyTfQFz.js","./makeStyles-BXQqwRxM.js","./DialogTitle-A7wXw_fs.js","./Backdrop-BdEsQbzQ.js","./Tooltip-f0Mm140e.js","./Popper-Bx9nzt2H.js","./createStyles-Bp4GwXob.js","./createStyles-yD3y8ldD.js","./ListItemAvatar-Bwg4MGc4.js","./Edit-C50mJLT7.js","./Cancel-B7eFn1DG.js","./ContentHeader-CVAB8heM.js","./Helmet-BNMTjnmn.js","./ErrorBoundary-CoijR8MT.js","./ErrorPanel-CpHKIhoR.js","./WarningPanel-Cz_PDSWX.js","./ExpandMore-B6NFdm12.js","./AccordionDetails-BO1bPuht.js","./Collapse-PQIWvWXL.js","./MarkdownContent-DDVgukGo.js","./CodeSnippet-CucDpp19.js","./CopyTextButton-C2yAL59V.js","./LinkButton-vhpruZJ4.js","./Link-CLkGqC_d.js","./index-8XpF7eZo.js","./useElementFilter-CcN8jjzS.js","./Progress-D9KK8zE7.js","./LinearProgress-bDj63ImO.js","./Context-BKPl8jyT.js","./Plugin-ZVIKJlIN.js","./useRouteRef-cYGW2BLh.js","./InfoCard-C8OhWb_q.js","./CardContent-C2rJnMKW.js","./CardHeader-DsI_Apbi.js","./CardActions-BugHQYhg.js","./BottomLink-CZ4yxXIC.js","./ArrowForward-CXL_C7Fe.js","./index-B9caxcv4.css","./index-gQL-QOgj.js","./ComponentAccordion-nnzQyxQH.js","./Tabs-Dq07xJV_.js","./KeyboardArrowRight-CBjkn45j.js","./index-0YwLmRR1.js","./index-bOKkpdGm.js","./index-CI6_Ov8-.js","./upperFirst-4VmgVgGz.js","./index-9naW9MyJ.js","./index-vVnBzADh.js","./routes-BvKpLSZk.js","./EntityDisplayName-BnPD1nF1.js","./get-BNvDtjDM.js","./FavoriteToggle-CyL_s1xz.js","./icons-CXr9eaR_.js","./api-Cm8fiXXb.js","./StarredEntitiesApi-D8XTd9X2.js","./ResponseErrorPanel-gfymGEF_.js","./index-Dz5mIthD.js","./HeaderLabel-BRYzGJBt.js","./TopVisited-BD0utJXc.js","./index-CpRXYia7.js","./EntityRefLink-C00mRdwp.js","./Chip-vzBxutYj.js","./RecentlyVisited-3Mkmf1b4.js","./index-BwoAGUPp.js","./EmptyState-Bb6P8kLl.js","./index-DFO4cD29.js"])))=>i.map(i=>d[i]);
import{_ as p}from"./preload-helper-PPVm8Dsz.js";import{c as w,a as D}from"./appWrappers-C6IDOOCs.js";import{aA as j,aB as V,aC as J,aD as q,V as k,Z as X,F as T,j as a,r as y,K as L,U as O,aY as H}from"./iframe-BWaAozhM.js";import{c as z,D as B,a as M,b as K}from"./DialogTitle-A7wXw_fs.js";import{B as F}from"./Button-BtXH8PBD.js";import{a as $,c as N,b as g,d as W}from"./Plugin-ZVIKJlIN.js";import{u as Q}from"./useApp-oTx36hQg.js";import{I as U}from"./InfoCard-C8OhWb_q.js";import{s as Y}from"./useObservable-ZBbx2FoE.js";var h={},S;function Z(){if(S)return h;S=1;var i=j(),e=V();Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var n=e(J()),t=i(q()),o=(0,t.default)(n.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");return h.default=o,h}var G=Z();const ee=k(G),C=X({id:"home-react",messages:{settingsModal:{title:"Settings",closeButtonTitle:"Close"},cardExtension:{settingsButtonTitle:"Settings"}}}),R=i=>{const{open:e,close:n,componentName:t,children:o}=i,{t:r}=T(C);return a.jsxs(z,{open:e,onClose:()=>n(),children:[a.jsx(B,{children:t?`${r("settingsModal.title")} - ${t}`:r("settingsModal.title")}),a.jsx(M,{children:o}),a.jsx(K,{children:a.jsx(F,{onClick:()=>n(),color:"primary",variant:"contained",children:r("settingsModal.closeButtonTitle")})})]})};R.__docgenInfo={description:"@public",methods:[],displayName:"SettingsModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},close:{required:!0,tsType:{name:"Function"},description:""},componentName:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};function u(i){const{title:e,components:n,name:t,description:o,layout:r,settings:s}=i,m=s?.schema!==void 0;return $({name:t,data:{title:e,description:o,"home.widget.config":{layout:r,settings:s}},component:{lazy:()=>n().then(l=>d=>a.jsx(A,{...d,...l,title:d.title||e,isCustomizable:m}))}})}function A(i){const{Renderer:e,Content:n,Settings:t,Actions:o,ContextProvider:r,isCustomizable:s,title:m,...l}=i,d=Q(),{Progress:f}=d.getComponents(),[x,_]=y.useState(!1),{t:I}=T(C);if(e)return a.jsx(y.Suspense,{fallback:a.jsx(f,{}),children:a.jsx(e,{...m&&{title:m},Content:n,...o?{Actions:o}:{},...t&&!s?{Settings:t}:{},...r?{ContextProvider:r}:{},...l})});const b={divider:!!m,...m&&{title:m},...t&&!s?{action:a.jsx(L,{onClick:()=>_(!0),children:a.jsx(ee,{children:I("cardExtension.settingsButtonTitle")})})}:{},...o?{actions:a.jsx(o,{})}:{}},E=a.jsxs(U,{...b,children:[t&&!s&&a.jsx(R,{open:x,componentName:m,close:()=>_(!1),children:a.jsx(t,{})}),a.jsx(n,{...l})]});return a.jsx(y.Suspense,{fallback:a.jsx(f,{}),children:r?a.jsx(r,{...l,children:E}):E})}A.__docgenInfo={description:"",methods:[],displayName:"CardExtension",props:{Renderer:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: RendererProps) => JSX.Element",signature:{arguments:[{type:{name:"intersection",raw:"{ title?: string } & ComponentParts",elements:[{name:"signature",type:"object",raw:"{ title?: string }",signature:{properties:[{key:"title",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
  Content: (props?: any) => JSX.Element;
  Actions?: () => JSX.Element;
  Settings?: () => JSX.Element;
  ContextProvider?: (props: any) => JSX.Element;
}`,signature:{properties:[{key:"Content",value:{name:"signature",type:"function",raw:"(props?: any) => JSX.Element",signature:{arguments:[{type:{name:"any"},name:"props"}],return:{name:"JSX.Element"}},required:!0}},{key:"Actions",value:{name:"signature",type:"function",raw:"() => JSX.Element",signature:{arguments:[],return:{name:"JSX.Element"}},required:!1}},{key:"Settings",value:{name:"signature",type:"function",raw:"() => JSX.Element",signature:{arguments:[],return:{name:"JSX.Element"}},required:!1}},{key:"ContextProvider",value:{name:"signature",type:"function",raw:"(props: any) => JSX.Element",signature:{arguments:[{type:{name:"any"},name:"props"}],return:{name:"JSX.Element"}},required:!1}}]}}]},name:"props"}],return:{name:"JSX.Element"}}},description:""},title:{required:!1,tsType:{name:"string"},description:""},Content:{required:!0,tsType:{name:"signature",type:"function",raw:"(props?: any) => JSX.Element",signature:{arguments:[{type:{name:"any"},name:"props"}],return:{name:"JSX.Element"}}},description:""},Actions:{required:!1,tsType:{name:"signature",type:"function",raw:"() => JSX.Element",signature:{arguments:[],return:{name:"JSX.Element"}}},description:""},Settings:{required:!1,tsType:{name:"signature",type:"function",raw:"() => JSX.Element",signature:{arguments:[],return:{name:"JSX.Element"}}},description:""},ContextProvider:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: any) => JSX.Element",signature:{arguments:[{type:{name:"any"},name:"props"}],return:{name:"JSX.Element"}}},description:""},isCustomizable:{required:!1,tsType:{name:"boolean"},description:""},overrideTitle:{required:!1,tsType:{name:"string"},description:""}}};const P=w({id:"home"}),te=8;class v{limit;storageApi;storageKeyPrefix="@backstage/plugin-home:visits";identityApi;transformPathnameImpl;canSaveImpl;enrichVisitImpl;static create(e){return new v(e)}constructor(e){this.limit=Math.abs(e.limit??100),this.storageApi=e.storageApi,this.identityApi=e.identityApi,this.transformPathnameImpl=e.transformPathname,this.canSaveImpl=e.canSave,this.enrichVisitImpl=e.enrichVisit}async list(e){let n=[...await this.retrieveAll()];return(e?.orderBy??[]).reverse().forEach(t=>{t.direction==="asc"?n.sort((o,r)=>this.compare(t,o,r)):n.sort((o,r)=>this.compare(t,r,o))}),(e?.filterBy??[]).reverse().forEach(t=>{n=n.filter(o=>{const r=o[t.field];return t.operator===">"?r>t.value:t.operator===">="?r>=t.value:t.operator==="<"?r<t.value:t.operator==="<="?r<=t.value:t.operator==="=="?r===t.value:t.operator==="!="?r!==t.value:t.operator==="contains"?`${r}`.includes(`${t.value}`):!1})}),n.slice(0,e?.limit??te)}transformPathname(e){return this.transformPathnameImpl?.(e)??e}async canSave(e){return this.canSaveImpl?Promise.resolve(this.canSaveImpl(e)):!0}async enrichVisit(e){return this.enrichVisitImpl?Promise.resolve(this.enrichVisitImpl(e)):{}}async save(e){let n=e.visit;if(n={...n,pathname:this.transformPathname(n.pathname)},!await this.canSave(n))return{...n,id:"",hits:0,timestamp:Date.now()};const t=await this.enrichVisit(n),o={...n,...t},r=[...await this.retrieveAll()],s={...o,id:window.crypto.randomUUID(),hits:1,timestamp:Date.now()},m=r.findIndex(l=>l.pathname===s.pathname);return m>=0?(s.id=r[m].id,s.hits=r[m].hits+1,r[m]=s):r.push(s),r.sort((l,d)=>d.timestamp-l.timestamp),await this.persistAll(r.splice(0,this.limit)),s}async persistAll(e){const n=await this.getStorageKey();return this.storageApi.set(n,e)}async retrieveAll(){const e=await this.getStorageKey(),n=this.storageApi.snapshot(e);return n?.presence!=="unknown"?n?.value??[]:new Promise((t,o)=>{const r=this.storageApi.observe$(e).subscribe({next:s=>{const m=s.value??[];r.unsubscribe(),t(m)},error:s=>{r.unsubscribe(),o(s)}})})}async getStorageKey(){const{userEntityRef:e}=await this.identityApi.getBackstageIdentity();return`${this.storageKeyPrefix}:${e}`}compare(e,n,t){return typeof n[e.field]=="number"?n[e.field]-t[e.field]:`${n[e.field]}`.localeCompare(`${t[e.field]}`)}}const ue=i=>["<","<=","==","!=",">",">=","contains"].includes(i),ne=O({id:"homepage.visits"}),c=N({id:"home",apis:[D({api:ne,deps:{storageApi:Y,identityApi:H},factory:({storageApi:i,identityApi:e})=>v.create({storageApi:i,identityApi:e})})],routes:{root:P}});c.provide(W({name:"HomepageCompositionRoot",component:()=>p(()=>import("./index-C1S52MlS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83]),import.meta.url).then(i=>i.HomepageCompositionRoot),mountPoint:P}));c.provide(g({name:"ComponentAccordion",component:{lazy:()=>p(()=>import("./index-gQL-QOgj.js"),__vite__mapDeps([84,85,1,2,3,62,47,63,24,64,86,87,77,70,78,59,60,61,65,66,20,21,67,38,12,50,51,27,19,28,29,34,36,68,69,6,4,10,17,39,79,40,80,81,82,9,7,8,11,13,14,15,16,48,26,49,75,76]),import.meta.url).then(i=>i.ComponentAccordion)}}));c.provide(g({name:"ComponentTabs",component:{lazy:()=>p(()=>import("./index-gQL-QOgj.js"),__vite__mapDeps([84,85,1,2,3,62,47,63,24,64,86,87,77,70,78,59,60,61,65,66,20,21,67,38,12,50,51,27,19,28,29,34,36,68,69,6,4,10,17,39,79,40,80,81,82,9,7,8,11,13,14,15,16,48,26,49,75,76]),import.meta.url).then(i=>i.ComponentTabs)}}));c.provide(g({name:"ComponentTab",component:{lazy:()=>p(()=>import("./index-gQL-QOgj.js"),__vite__mapDeps([84,85,1,2,3,62,47,63,24,64,86,87,77,70,78,59,60,61,65,66,20,21,67,38,12,50,51,27,19,28,29,34,36,68,69,6,4,10,17,39,79,40,80,81,82,9,7,8,11,13,14,15,16,48,26,49,75,76]),import.meta.url).then(i=>i.ComponentTab)}}));c.provide(g({name:"WelcomeTitle",component:{lazy:()=>p(()=>import("./index-0YwLmRR1.js"),__vite__mapDeps([88,1,2,3,11,12,50,51,27]),import.meta.url).then(i=>i.WelcomeTitle)}}));const de=c.provide(g({name:"CompanyLogo",component:{lazy:()=>p(()=>import("./index-bOKkpdGm.js"),__vite__mapDeps([89,1,2,3]),import.meta.url).then(i=>i.CompanyLogo)}}));c.provide(u({name:"HomePageRandomJoke",title:"Random Joke",components:()=>p(()=>import("./index-CI6_Ov8-.js"),__vite__mapDeps([90,1,2,3,39,91,16,14,32,30,31,44,43,41]),import.meta.url),description:"Shows a random joke about optional category",layout:{height:{minRows:4},width:{minColumns:3}},settings:{schema:{title:"Random Joke settings",type:"object",properties:{defaultCategory:{title:"Category",type:"string",enum:["any","programming","dad"],default:"any"}}}}}));const ge=c.provide(u({name:"HomePageToolkit",title:"Toolkit",components:()=>p(()=>import("./index-9naW9MyJ.js"),__vite__mapDeps([92,1,2,3,47,28,29,35,36,69,70,6,4,10,17]),import.meta.url)})),he=c.provide(u({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>p(()=>import("./index-vVnBzADh.js"),__vite__mapDeps([93,1,2,3,11,12,69,70,6,4,47,10,17,46,94,9,7,8,13,14,15,16,5,34,29,35,36,95,20,21,50,51,27,96,76,97,98,99,100,28,86,24,87,72,73,101,60,61,62,63,64,65,66,67,38,19,40]),import.meta.url)}));c.provide(g({name:"HeaderWorldClock",component:{lazy:()=>p(()=>import("./index-Dz5mIthD.js"),__vite__mapDeps([102,1,2,3,103,47,19,69,70,6,4,10,17]),import.meta.url).then(i=>i.HeaderWorldClock)}}));c.provide(u({name:"HomePageTopVisited",title:"Top Visited",components:()=>p(()=>import("./TopVisited-BD0utJXc.js"),__vite__mapDeps([104,1,2,3,105,47,106,94,9,7,8,10,11,12,13,14,15,16,4,17,5,76,95,20,21,50,51,27,96,69,70,6,74,107,34,29,54,36,46,64,28,39,48,26,49,75,77,78,59,60,61,62,63,24,65,66,67,38,19,68,79,40,80,81,82]),import.meta.url)}));c.provide(u({name:"HomePageRecentlyVisited",title:"Recently Visited",components:()=>p(()=>import("./RecentlyVisited-3Mkmf1b4.js"),__vite__mapDeps([108,1,2,3,105,47,106,94,9,7,8,10,11,12,13,14,15,16,4,17,5,76,95,20,21,50,51,27,96,69,70,6,74,107,34,29,54,36,46,64,28,39,48,26,49,75,77,78,59,60,61,62,63,24,65,66,67,38,19,68,79,40,80,81,82]),import.meta.url)}));const ye=c.provide(u({name:"FeaturedDocsCard",title:"Featured Docs",components:()=>p(()=>import("./index-BwoAGUPp.js"),__vite__mapDeps([109,1,2,3,11,12,46,47,99,72,73,20,21,60,61,62,63,24,64,65,66,67,38,50,51,27,19,28,29,34,36,69,70,6,4,10,17,95,96,9,7,8,13,14,15,16,5,110,68,39]),import.meta.url)})),ve=c.provide(u({name:"QuickStartCard",title:"Quick Start",components:()=>p(()=>import("./index-DFO4cD29.js"),__vite__mapDeps([111,1,2,3,47,46,26,27,20,21,69,70,6,4,10,17,19]),import.meta.url)}));export{ye as F,de as H,ve as Q,R as S,ee as a,he as b,u as c,ge as d,c as h,ue as i,P as r,ne as v};
