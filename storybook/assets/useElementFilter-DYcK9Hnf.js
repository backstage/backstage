import{r as o}from"./index-D8-PC79C.js";import{g as a}from"./componentData-DvKcogcx.js";import{f}from"./UnifiedThemeProvider-CQwkhmjj.js";import{u as l}from"./ApiRef-ByCJBjX1.js";function r(s,t,i,e){return o.Children.toArray(s).flatMap(n=>{if(!o.isValidElement(n))return[];if(n.type===o.Fragment)return r(n.props.children,t,i,e);if(a(n,"core.featureFlagged")){const p=n.props;return("with"in p?t.isActive(p.with):!t.isActive(p.without))?r(n.props.children,t,i,e):[]}if(i===void 0||i(n))return[n];if(e)throw new Error(e);return r(n.props.children,t,i,e)})}class u{constructor(t,i){this.node=t,this.featureFlagsApi=i}selectByComponentData(t){const i=r(this.node,this.featureFlagsApi,e=>a(e,t.key)!==void 0,t.withStrictError);return new u(i,this.featureFlagsApi)}findComponentData(t){return r(this.node,this.featureFlagsApi,e=>a(e,t.key)!==void 0).map(e=>a(e,t.key)).filter(e=>e!==void 0)}getElements(){return r(this.node,this.featureFlagsApi)}}function w(s,t,i=[]){const e=l(f),n=new u(s,e);return o.useMemo(()=>t(n),[s,...i])}export{w as u};
