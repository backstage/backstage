import{j as e}from"./jsx-runtime-hv06LKfz.js";import{r as p}from"./index-D8-PC79C.js";import{a as f,C as v,f as k,L as x,A as T,E as M,i as R,o as j,O as E,g as O,G as S,b as C,d as D,e as I,h as N,j as P,k as _,M as B,l as G,t as g,U as q}from"./UnifiedThemeProvider-CQwkhmjj.js";import{c as z}from"./ConfigApi-ij0WO1-Y.js";import{e as L,t as F}from"./TranslationApi-CV0OlCW4.js";import{C as U}from"./Close-Rhx9yaiC.js";import{c as V}from"./translation-BlsjZX4-.js";import{S as $}from"./Snackbar-BUp93KRY.js";import{A as W}from"./Alert-CxgChVjH.js";import{T as H}from"./Typography-NhBf-tfS.js";import{I as K}from"./IconButton-tgA3biVt.js";import{u as Y}from"./ApiRef-ByCJBjX1.js";import{u as J}from"./useTranslationRef-DKy5gnX5.js";import{T as Q}from"./TestApiProvider-DCQwDAHh.js";import{C as X}from"./Content-Dneo4nk4.js";import"./defaultTheme-NkpNA350.js";import"./classCallCheck-MFKM5G8b.js";import"./inherits-CG-FC_6P.js";import"./toArray-D29G-OqT.js";import"./index-DtdSELz7.js";import"./palettes-EuACyB3O.js";import"./typeof-ZI2KZN5z.js";import"./CssBaseline-_vmM7-EO.js";import"./capitalize-fS9uM6tv.js";import"./withStyles-BsQ9H3bp.js";import"./hoist-non-react-statics.cjs-DtcWCWp5.js";import"./ThemeProvider-CfpqDJNO.js";import"./createSvgIcon-Bpme_iea.js";import"./createChainedFunction-Da-WpsAN.js";import"./createSvgIcon-D-gz-Nq7.js";import"./debounce-DtXjJkxj.js";import"./isMuiElement-DKhW5xVU.js";import"./ownerWindow-CjzjL4wv.js";import"./useIsFocusVisible-BFy7UoKA.js";import"./index-DXvUqTe6.js";import"./index-BITTEREo.js";import"./useControlled-CliGfT3L.js";import"./unstable_useId-DQJte0g1.js";import"./Grow-BOepmPk1.js";import"./useTheme-Dk0AiudM.js";import"./utils-DMni-BWz.js";import"./TransitionGroupContext-CcnbR2YJ.js";import"./Paper-BiLxp0Cg.js";import"./clsx.m-CH7BE6MN.js";import"./Close-D-8NHvXu.js";import"./ButtonBase-DXo3xcpP.js";import"./ApiProvider-CYh4HGR1.js";import"./index-BKN9BsH4.js";import"./index-DlxYA1zJ.js";import"./makeStyles-CJp8qHqH.js";function b(c){const[t,r]=p.useState([]),n=Y(f),{t:l}=J(V),{anchorOrigin:h={vertical:"top",horizontal:"center"},transientTimeoutMs:u}=c,d=u??5e3;p.useEffect(()=>{const i=n.alert$().subscribe(a=>r(m=>m.concat(a)));return()=>{i.unsubscribe()}},[n]);const[o]=t;if(p.useEffect(()=>{if(o&&o.display==="transient"){const i=setTimeout(()=>{r(a=>{const m=a.filter(w=>w!==o);return m.length===a.length?a:m})},d);return()=>clearTimeout(i)}},[o,d]),t.length===0)return null;const y=()=>{r(i=>i.filter(a=>a!==o))};return e.jsx($,{open:!0,anchorOrigin:h,children:e.jsx(W,{action:e.jsx(K,{color:"inherit",size:"small",onClick:y,"data-testid":"error-button-close",children:e.jsx(U,{})}),severity:o.severity,children:e.jsxs(H,{component:"span",children:[String(o.message),t.length>1&&e.jsxs("em",{children:[" ",l("alertDisplay.message",{count:t.length-1})]})]})})})}b.__docgenInfo={description:`Displays alerts from {@link @backstage/core-plugin-api#AlertApi}

@public
@remarks

Shown as SnackBar at the center top of the page by default. Configurable with props.

@param anchorOrigin - The \`vertical\` property will set the vertical orientation of where the AlertDisplay will be located
and the \`horizontal\` property will set the horizontal orientation of where the AlertDisplay will be located
@param transientTimeoutMs - Number of milliseconds a transient alert will stay open for. Default value is 5000

@example
Here's some examples:
\`\`\`
// This example shows the default usage, the SnackBar will show up at the top in the center and any transient messages will stay open for 5000ms
<AlertDisplay />

// With this example the SnackBar will show up in the bottom right hand corner and any transient messages will stay open for 2500ms
<AlertDisplay transientTimeoutMs={2500} anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}/>

// If you want to just set the time a transientTimeoutMs, you can do that like this:
<AlertDisplay transientTimeoutMs={10000} />
\`\`\``,methods:[],displayName:"AlertDisplay",props:{anchorOrigin:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  vertical: 'top' | 'bottom';
  horizontal: 'left' | 'center' | 'right';
}`,signature:{properties:[{key:"vertical",value:{name:"union",raw:"'top' | 'bottom'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'bottom'"}],required:!0}},{key:"horizontal",value:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}],required:!0}}]}},description:""},transientTimeoutMs:{required:!1,tsType:{name:"number"},description:""}}};const Z=new v({}),ee=new x,A=new T,te=new M(A,new G),oe={getUserId:()=>"guest",getProfile:()=>({email:"guest@example.com"}),getIdToken:()=>{},signOut:async()=>{}},s=new E,ae=S.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:s}),re=D.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:s}),ie=N.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:s}),se=_.create({apiOrigin:"http://localhost:7007",basePath:"/auth/",oauthRequestApi:s}),ne=B.create(),le=[[z,Z],[k,ee],[f,A],[L,te],[R,oe],[j,s],[O,ae],[C,re],[I,ie],[P,se],[F,ne]],{useGlobals:me}=__STORYBOOK_MODULE_PREVIEW_API__,st={globalTypes:{themeMode:{name:"Theme Mode",description:"Global theme mode for components",defaultValue:"light",toolbar:{icon:"circlehollow",items:[{value:"light",icon:"circlehollow",title:"Light"},{value:"dark",icon:"circle",title:"Dark"}],showName:!0,dynamicTitle:!0}},themeName:{name:"Theme Name",description:"Global theme name for components",defaultValue:"backstage",toolbar:{icon:"paintbrush",items:[{value:"backstage",title:"Backstage"},{value:"spotify",title:"Spotify"}],showName:!0,dynamicTitle:!0}}},initialGlobals:{themeMode:"light",themeName:"backstage"},parameters:{layout:"fullscreen",backgrounds:{disable:!0},controls:{matchers:{color:/(background|color)$/i,date:/Date$/i}},options:{storySort:{order:["Backstage UI","Plugins","Layout","Navigation"]}},viewport:{viewports:{initial:{name:"Initial",styles:{width:"320px",height:"100%"}},xs:{name:"Extra Small",styles:{width:"640px",height:"100%"}},sm:{name:"Small",styles:{width:"768px",height:"100%"}},md:{name:"Medium",styles:{width:"1024px",height:"100%"}},lg:{name:"Large",styles:{width:"1280px",height:"100%"}},xl:{name:"Extra Large",styles:{width:"1536px",height:"100%"}}}}},decorators:[c=>{const[t]=me(),r=t.themeMode==="light"?g.light:g.dark,n=t.themeMode||"light",l=t.themeName||"backstage";p.useEffect(()=>(document.body.removeAttribute("data-theme-mode"),document.body.removeAttribute("data-theme-name"),document.body.setAttribute("data-theme-mode",n),document.body.setAttribute("data-theme-name",l),()=>{document.body.removeAttribute("data-theme-mode"),document.body.removeAttribute("data-theme-name")}),[r,l]),document.body.style.backgroundColor="var(--bui-bg)";const h=document.getElementsByClassName("docs-story");return Array.from(h).forEach(u=>{u.style.backgroundColor="var(--bui-bg)"}),e.jsx(q,{theme:r,children:e.jsxs(Q,{apis:le,children:[e.jsx(b,{}),e.jsx(X,{children:e.jsx(c,{})})]})})}]};export{st as default};
