import{r as d,a4 as p,j as $}from"./iframe-D1GFiJZo.js";import{b as B,c as U,d as G,e as J,f as Q,g as X,h as _,i as j,j as Y,k as Z,l as ee}from"./useListState-CWQwRy9x.js";import{c as S,b as te,$ as ae,d as D,i as A,l as L,f as re}from"./utils-Ca8TvNj0.js";import{b as se,a as ne}from"./SelectionIndicator-BrolPTaV.js";import{$ as ie}from"./Hidden-DrBZnckA.js";import{a as w,b as le,d as N,c as oe}from"./useFocusRing-D3IFXkEE.js";import{$ as ce}from"./useControlledState-BPTILyls.js";import{c as de,$ as ue}from"./usePress-B5nQIucE.js";import{$ as I}from"./useLabels-Cr58B2xr.js";import{$ as be}from"./useHasTabbableChild-BDIZ9ZIu.js";import{$ as fe}from"./context-Dd9J9Uit.js";import{u as E}from"./useStyles-B11jByn2.js";import{c as K}from"./clsx-B-dksMZM.js";import{c as ve,u as pe,d as $e}from"./index-DKQ8ROEi.js";const F=new WeakMap;function R(a,t,e){return a?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${F.get(a)}-${e}-${t}`):""}function ye(a,t,e){let{key:r,isDisabled:s,shouldSelectOnPressUp:o}=a,{selectionManager:i,selectedKey:u}=t,n=r===u,l=s||t.isDisabled||t.selectionManager.isDisabled(r),{itemProps:b,isPressed:c}=B({selectionManager:i,key:r,ref:e,isDisabled:l,shouldSelectOnPressUp:o,linkBehavior:"selection"}),v=R(t,r,"tab"),f=R(t,r,"tabpanel"),{tabIndex:h}=b,m=t.collection.getItem(r),y=w(m?.props,{labelable:!0});delete y.id;let g=de(m?.props),{focusableProps:C}=le({isDisabled:l},e);return{tabProps:S(y,C,g,b,{id:v,"aria-selected":n,"aria-disabled":l||void 0,"aria-controls":n?f:void 0,tabIndex:l?void 0:h,role:"tab"}),isSelected:n,isDisabled:l,isPressed:c}}function he(a,t,e){let r=be(e)?void 0:0;var s;const o=R(t,(s=a.id)!==null&&s!==void 0?s:t?.selectedKey,"tabpanel"),i=I({...a,id:o,"aria-labelledby":R(t,t?.selectedKey,"tab")});return{tabPanelProps:S(i,{tabIndex:r,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class me{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var e,r;return this.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(e=r.props)===null||e===void 0)&&e.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let e=t;do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(e!=null&&this.isDisabled(e));return e}getPreviousKey(t){let e=t;do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(e!=null&&this.isDisabled(e));return e}constructor(t,e,r,s=new Set){this.collection=t,this.flipDirection=e==="rtl"&&r==="horizontal",this.disabledKeys=s,this.tabDirection=r==="horizontal"}}function ge(a,t,e){let{orientation:r="horizontal",keyboardActivation:s="automatic"}=a,{collection:o,selectionManager:i,disabledKeys:u}=t,{direction:n}=fe(),l=d.useMemo(()=>new me(o,n,r,u),[o,u,r,n]),{collectionProps:b}=U({ref:e,selectionManager:i,keyboardDelegate:l,selectOnFocus:s==="automatic",disallowEmptySelection:!0,scrollRef:e,linkBehavior:"selection"}),c=te();F.set(t,c);let v=I({...a,id:c});return{tabListProps:{...S(b,v),role:"tablist","aria-orientation":r,tabIndex:void 0}}}function xe(a){var t;let[e,r]=ce(a.selectedKey,(t=a.defaultSelectedKey)!==null&&t!==void 0?t:null,a.onSelectionChange),s=d.useMemo(()=>e!=null?[e]:[],[e]),{collection:o,disabledKeys:i,selectionManager:u}=G({...a,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:l=>{if(l==="all")return;var b;let c=(b=l.values().next().value)!==null&&b!==void 0?b:null;c===e&&a.onSelectionChange&&a.onSelectionChange(c),r(c)}}),n=e!=null?o.getItem(e):null;return{collection:o,disabledKeys:i,selectionManager:u,selectedKey:e,setSelectedKey:r,selectedItem:n}}function Ke(a){var t,e;let r=xe({...a,onSelectionChange:a.onSelectionChange?n=>{var l;n!=null&&((l=a.onSelectionChange)===null||l===void 0||l.call(a,n))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(e=(t=a.defaultSelectedKey)!==null&&t!==void 0?t:H(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&e!==void 0?e:void 0}),{selectionManager:s,collection:o,selectedKey:i}=r,u=d.useRef(i);return d.useEffect(()=>{let n=i;a.selectedKey==null&&(s.isEmpty||n==null||!o.getItem(n))&&(n=H(o,r.disabledKeys),n!=null&&s.setSelectedKeys([n])),(n!=null&&s.focusedKey==null||!s.isFocused&&n!==u.current)&&s.setFocusedKey(n),u.current=n}),{...r,isDisabled:a.isDisabled||!1}}function H(a,t){let e=null;if(a){var r,s,o,i;for(e=a.getFirstKey();e!=null&&(t.has(e)||!((s=a.getItem(e))===null||s===void 0||(r=s.props)===null||r===void 0)&&r.isDisabled)&&e!==a.getLastKey();)e=a.getKeyAfter(e);e!=null&&(t.has(e)||!((i=a.getItem(e))===null||i===void 0||(o=i.props)===null||o===void 0)&&o.isDisabled)&&e===a.getLastKey()&&(e=a.getFirstKey())}return e}const M=d.createContext(null),P=d.createContext(null),Pe=d.forwardRef(function(t,e){[t,e]=ae(t,e,M);let{children:r,orientation:s="horizontal"}=t;return r=d.useMemo(()=>typeof r=="function"?r({orientation:s,defaultChildren:null}):r,[r,s]),p.createElement(J,{content:r},o=>p.createElement(Te,{props:t,collection:o,tabsRef:e}))});function Te({props:a,tabsRef:t,collection:e}){let{orientation:r="horizontal"}=a,s=Ke({...a,collection:e,children:void 0}),{focusProps:o,isFocused:i,isFocusVisible:u}=N({within:!0}),n=d.useMemo(()=>({orientation:r,isFocusWithin:i,isFocusVisible:u}),[r,i,u]),l=D({...a,defaultClassName:"react-aria-Tabs",values:n}),b=w(a,{global:!0});return p.createElement("div",{...S(b,l,o),ref:t,slot:a.slot||void 0,"data-focused":i||void 0,"data-orientation":r,"data-focus-visible":u||void 0,"data-disabled":s.isDisabled||void 0},p.createElement(A,{values:[[M,a],[P,s]]},l.children))}const Se=d.forwardRef(function(t,e){return d.useContext(P)?p.createElement(we,{props:t,forwardedRef:e}):p.createElement(X,t)});function we({props:a,forwardedRef:t}){let e=d.useContext(P),{CollectionRoot:r}=d.useContext(j),{orientation:s="horizontal",keyboardActivation:o="automatic"}=re(M),i=L(t),{tabListProps:u}=ge({...a,orientation:s,keyboardActivation:o},e,i),n=D({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:s,state:e}}),l=w(a,{global:!0});return delete l.id,p.createElement("div",{...S(l,n,u),ref:i,"data-orientation":s||void 0},p.createElement(ne,null,p.createElement(r,{collection:e.collection,persistedKeys:Z(e.selectionManager.focusedKey)})))}class O extends ee{}O.type="item";const Ee=Q(O,(a,t,e)=>{let r=d.useContext(P),s=L(t),{tabProps:o,isSelected:i,isDisabled:u,isPressed:n}=ye({key:e.key,...a},r,s),{focusProps:l,isFocused:b,isFocusVisible:c}=N(),{hoverProps:v,isHovered:f}=oe({isDisabled:u,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),h=D({...a,id:void 0,children:e.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:i,isDisabled:u,isFocused:b,isFocusVisible:c,isPressed:n,isHovered:f}}),m=e.props.href?"a":"div",y=w(a,{global:!0});return delete y.id,delete y.onClick,p.createElement(m,{...S(y,h,o,l,v),ref:s,"data-selected":i||void 0,"data-disabled":u||void 0,"data-focused":b||void 0,"data-focus-visible":c||void 0,"data-pressed":n||void 0,"data-hovered":f||void 0},p.createElement(se.Provider,{value:{isSelected:i}},h.children))}),Ce=ie(function(t,e){const r=d.useContext(P);let s=L(e),{id:o,...i}=t,{tabPanelProps:u}=he(t,r,s),{focusProps:n,isFocused:l,isFocusVisible:b}=N(),c=r.selectedKey===t.id,v=D({...t,defaultClassName:"react-aria-TabPanel",values:{isFocused:l,isFocusVisible:b,isInert:_(!c),state:r}});if(!c&&!t.shouldForceMount)return null;let f=w(i,{global:!0});delete f.id;let h=c?S(f,u,n,v):v;return p.createElement("div",{...h,ref:s,"data-focused":l||void 0,"data-focus-visible":b||void 0,inert:_(!c||t.inert),"data-inert":c?void 0:"true"},p.createElement(A,{values:[[M,null],[P,null]]},p.createElement(j.Provider,{value:Y},v.children)))}),T={"bui-Tabs":"_bui-Tabs_gv9jg_20","bui-TabList":"_bui-TabList_gv9jg_40","bui-TabListWrapper":"_bui-TabListWrapper_gv9jg_45","bui-Tab":"_bui-Tab_gv9jg_20","bui-TabActive":"_bui-TabActive_gv9jg_68","bui-TabHovered":"_bui-TabHovered_gv9jg_82","bui-TabPanel":"_bui-TabPanel_gv9jg_98"},k=a=>{const{tabRefs:t,tabsRef:e,hoveredKey:r,prevHoveredKey:s}=a,{classNames:o}=E("Tabs"),i=d.useContext(P),u=d.useRef(null),n=d.useCallback(()=>{if(!e.current)return;const l=e.current.getBoundingClientRect();if(i?.selectedKey){const b=t.current.get(i.selectedKey.toString());if(b){const c=b.getBoundingClientRect(),v=c.left-l.left,f=c.top-l.top;u.current===null?(e.current.style.setProperty("--active-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--active-transition-duration","0.25s")})):e.current.style.setProperty("--active-transition-duration","0.25s"),u.current=i.selectedKey.toString(),e.current.style.setProperty("--active-tab-left",`${v}px`),e.current.style.setProperty("--active-tab-right",`${v+c.width}px`),e.current.style.setProperty("--active-tab-top",`${f}px`),e.current.style.setProperty("--active-tab-bottom",`${f+c.height}px`),e.current.style.setProperty("--active-tab-width",`${c.width}px`),e.current.style.setProperty("--active-tab-height",`${c.height}px`)}}if(r){const b=t.current.get(r);if(b){const c=b.getBoundingClientRect(),v=c.left-l.left,f=c.top-l.top;e.current.style.setProperty("--hovered-tab-left",`${v}px`),e.current.style.setProperty("--hovered-tab-right",`${v+c.width}px`),e.current.style.setProperty("--hovered-tab-top",`${f}px`),e.current.style.setProperty("--hovered-tab-bottom",`${f+c.height}px`),e.current.style.setProperty("--hovered-tab-width",`${c.width}px`),e.current.style.setProperty("--hovered-tab-height",`${c.height}px`),s.current===null?(e.current.style.setProperty("--hovered-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--hovered-transition-duration","0.2s")})):e.current.style.setProperty("--hovered-transition-duration","0.2s"),s.current=r,e.current.style.setProperty("--hovered-tab-opacity","1")}}else e.current.style.setProperty("--hovered-tab-opacity","0"),s.current=null},[i?.selectedKey,r,t.current]);return d.useEffect(()=>{n()},[n,t.current.size]),d.useEffect(()=>{const l=()=>n();return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[n]),$.jsxs($.Fragment,{children:[$.jsx("div",{className:K(o.tabActive,T[o.tabActive])}),$.jsx("div",{className:K(o.tabHovered,T[o.tabHovered])})]})};k.__docgenInfo={description:`A component that renders the indicators for the toolbar.

@internal`,methods:[],displayName:"TabsIndicators",props:{tabRefs:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"Map",elements:[{name:"string"},{name:"HTMLDivElement"}],raw:"Map<string, HTMLDivElement>"}],raw:"MutableRefObject<Map<string, HTMLDivElement>>"},description:""},tabsRef:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"MutableRefObject<HTMLDivElement | null>"},description:""},hoveredKey:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},prevHoveredKey:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]}],raw:"MutableRefObject<string | null>"},description:""}}};const z=d.createContext(void 0),V=()=>{const a=d.useContext(z);if(!a)throw new Error("Tab components must be used within a Tabs component");return a},Re=(a,t,e)=>e==="exact"?a===t:a===t?!0:t.startsWith(`${a}/`),De=a=>{const{classNames:t,cleanedProps:e}=E("Tabs",a),{className:r,children:s,...o}=e,i=d.useRef(null),u=d.useRef(new Map),[n,l]=d.useState(null),b=d.useRef(null);let c=ve();const v=pe(),f=(y,g)=>{g?u.current.set(y,g):u.current.delete(y)},h=(()=>{const y=d.Children.toArray(s);for(const g of y)if(d.isValidElement(g)&&g.type===W){const C=d.Children.toArray(g.props.children);for(const x of C)if(d.isValidElement(x)&&x.props.href){const q=x.props.matchStrategy||"exact";if(Re(x.props.href,v.pathname,q))return x.props.id}return C.every(x=>d.isValidElement(x)&&x.props.href)?null:void 0}})();if(!s)return null;const m={tabsRef:i,tabRefs:u,hoveredKey:n,prevHoveredKey:b,setHoveredKey:l,setTabRef:f};return $.jsx(z.Provider,{value:m,children:$.jsx(ue,{navigate:c,useHref:$e,children:$.jsx(Pe,{className:K(t.tabs,T[t.tabs],r),keyboardActivation:"manual",selectedKey:h,ref:i,...o,children:s})})})},W=a=>{const{classNames:t,cleanedProps:e}=E("Tabs",a),{className:r,children:s,...o}=e,{setHoveredKey:i,tabRefs:u,tabsRef:n,hoveredKey:l,prevHoveredKey:b}=V(),c=f=>{i(f)},v=d.Children.map(s,f=>d.isValidElement(f)?d.cloneElement(f,{onHoverStart:()=>c(f.props.id),onHoverEnd:()=>c(null)}):f);return $.jsxs("div",{className:K(t.tabListWrapper,T[t.tabListWrapper],r),children:[$.jsx(Se,{className:K(t.tabList,T[t.tabList]),"aria-label":"Toolbar tabs",...o,children:v}),$.jsx(k,{tabRefs:u,tabsRef:n,hoveredKey:l,prevHoveredKey:b})]})},Me=a=>{const{classNames:t,cleanedProps:e}=E("Tabs",a),{className:r,href:s,children:o,id:i,matchStrategy:u,...n}=e,{setTabRef:l}=V();return $.jsx(Ee,{id:i,className:K(t.tab,T[t.tab],r),ref:b=>l(i,b),href:s,...n,children:o})},Le=a=>{const{classNames:t,cleanedProps:e}=E("Tabs",a),{className:r,children:s,...o}=e;return $.jsx(Ce,{className:K(t.panel,T[t.panel],r),...o,children:s})};De.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"Tabs",composes:["AriaTabsProps"]};W.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"TabList",composes:["Omit"]};Me.__docgenInfo={description:`A component that renders a tab.

@public`,methods:[],displayName:"Tab",props:{matchStrategy:{required:!1,tsType:{name:"union",raw:"'exact' | 'prefix'",elements:[{name:"literal",value:"'exact'"},{name:"literal",value:"'prefix'"}]},description:`Strategy for matching the current route to determine if this tab should be active.
- 'exact': Tab href must exactly match the current pathname (default)
- 'prefix': Tab is active if current pathname starts with tab href`}},composes:["AriaTabProps"]};Le.__docgenInfo={description:`A component that renders the content of a tab.

@public`,methods:[],displayName:"TabPanel",composes:["AriaTabPanelProps"]};export{De as T,W as a,Me as b,Le as c};
