import{m as j,j as e}from"./iframe-CafSZihE.js";import{E as c}from"./ErrorPanel-Cbj0fdBm.js";import{L as d}from"./ListItem-DVuo4x9u.js";import{L as l}from"./ListItemText-B-CF-Ijo.js";import{C as h}from"./CopyTextButton-Xa9XWeEV.js";import{D as E}from"./Divider-C4EwzhjR.js";import{C as S}from"./CodeSnippet-BTTGQVt6.js";const R=j(s=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:s.spacing(2)},divider:{margin:s.spacing(2)}}),{name:"BackstageResponseErrorPanel"});function v(s){const{title:i,error:r,defaultExpanded:m}=s,n=R();if(r.name!=="ResponseError")return e.jsx(c,{title:i??r.message,defaultExpanded:m,error:r});const{body:p,cause:o}=r,{request:t,response:g}=p,f=`${g.statusCode}: ${o.name}`,a=t&&`${t.method} ${t.url}`,u=o.message.replace(/\\n/g,`
`),x=o.stack?.replace(/\\n/g,`
`),y=JSON.stringify(p,void 0,2);return e.jsxs(c,{title:i??r.message,defaultExpanded:m,error:{name:f,message:u,stack:x},children:[a&&e.jsxs(d,{alignItems:"flex-start",children:[e.jsx(l,{classes:{secondary:n.text},primary:"Request",secondary:t?`${a}`:void 0}),e.jsx(h,{text:a})]}),e.jsxs(e.Fragment,{children:[e.jsx(E,{component:"li",className:n.divider}),e.jsx(d,{alignItems:"flex-start",children:e.jsx(l,{classes:{secondary:n.text},primary:"Full Error as JSON"})}),e.jsx(S,{language:"json",text:y,showCopyCodeButton:!0})]})]})}v.__docgenInfo={description:`Renders a warning panel as the effect of a failed server request.

@remarks
Has special treatment for ResponseError errors, to display rich
server-provided information about what happened.`,methods:[],displayName:"ResponseErrorPanel",props:{error:{required:!0,tsType:{name:"Error"},description:""},defaultExpanded:{required:!1,tsType:{name:"boolean"},description:""},titleFormat:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""}}};export{v as R};
