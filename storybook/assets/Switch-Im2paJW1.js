import{j as g}from"./jsx-runtime-hv06LKfz.js";import{r as R,R as y}from"./index-D8-PC79C.js";import{a as n,$ as F,k as N,l as k,g as C,d as E}from"./utils-SVxEJA3c.js";import{a as I,b as w,d as j,c as _}from"./useFocusRing-CSBfGNH9.js";import{$ as H}from"./useControlledState-hFzvQclK.js";import{$ as L}from"./useFormReset-JKupIHyW.js";import{a as D}from"./usePress-BiO5y4q0.js";import{$ as T}from"./VisuallyHidden-C9OzMNB-.js";import{u as V}from"./useStyles-Dc-DqJ_c.js";function q(s,e,a){let{isDisabled:i=!1,isReadOnly:l=!1,value:t,name:r,children:f,"aria-label":u,"aria-labelledby":S,validationState:c="valid",isInvalid:o}=s,b=d=>{d.stopPropagation(),e.setSelected(d.target.checked)},{pressProps:$,isPressed:p}=D({isDisabled:i}),{pressProps:h,isPressed:x}=D({onPress(){var d;e.toggle(),(d=a.current)===null||d===void 0||d.focus()},isDisabled:i||l}),{focusableProps:v}=I(s,a),P=n($,v),m=w(s,{labelable:!0});return L(a,e.isSelected,e.setSelected),{labelProps:n(h,{onClick:d=>d.preventDefault()}),inputProps:n(m,{"aria-invalid":o||c==="invalid"||void 0,"aria-errormessage":s["aria-errormessage"],"aria-controls":s["aria-controls"],"aria-readonly":l||void 0,onChange:b,disabled:i,...t==null?{}:{value:t},name:r,type:"checkbox",...P}),isSelected:e.isSelected,isPressed:p||x,isDisabled:i,isReadOnly:l,isInvalid:o||c==="invalid"}}function A(s={}){let{isReadOnly:e}=s,[a,i]=H(s.isSelected,s.defaultSelected||!1,s.onChange);function l(r){e||i(r)}function t(){e||i(!a)}return{isSelected:a,setSelected:l,toggle:t}}function M(s,e,a){let{labelProps:i,inputProps:l,isSelected:t,isPressed:r,isDisabled:f,isReadOnly:u}=q(s,e,a);return{labelProps:i,inputProps:{...l,role:"switch",checked:t},isSelected:t,isPressed:r,isDisabled:f,isReadOnly:u}}const z=R.createContext(null),B=R.forwardRef(function(e,a){let{inputRef:i=null,...l}=e;[e,a]=F(l,a,z);let t=N(k(i,e.inputRef!==void 0?e.inputRef:null)),r=A(e),{labelProps:f,inputProps:u,isSelected:S,isDisabled:c,isReadOnly:o,isPressed:b}=M({...C(e),children:typeof e.children=="function"?!0:e.children},r,t),{isFocused:$,isFocusVisible:p,focusProps:h}=j(),x=e.isDisabled||e.isReadOnly,{hoverProps:v,isHovered:P}=_({...e,isDisabled:x}),m=E({...e,defaultClassName:"react-aria-Switch",values:{isSelected:S,isPressed:b,isHovered:P,isFocused:$,isFocusVisible:p,isDisabled:c,isReadOnly:o,state:r}}),d=w(e);return delete d.id,y.createElement("label",{...n(d,f,v,m),ref:a,slot:e.slot||void 0,"data-selected":S||void 0,"data-pressed":b||void 0,"data-hovered":P||void 0,"data-focused":$||void 0,"data-focus-visible":p||void 0,"data-disabled":c||void 0,"data-readonly":o||void 0},y.createElement(T,{elementType:"span"},y.createElement("input",{...n(u,h),ref:t})),m.children)}),O=R.forwardRef(({label:s,...e},a)=>{const{classNames:i}=V("Switch");return g.jsxs(B,{className:i.root,ref:a,...e,children:[g.jsx("div",{className:i.indicator}),s]})});O.displayName="Switch";O.__docgenInfo={description:"@public",methods:[],displayName:"Switch",props:{label:{required:!1,tsType:{name:"string"},description:"The label of the switch"}},composes:["AriaSwitchProps"]};export{q as $,O as S,A as a};
