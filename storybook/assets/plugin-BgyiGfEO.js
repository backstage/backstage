const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-VwS9g2Cn.js","./jsx-runtime-Cw0GR0a5.js","./index-CTjT7uj6.js","./index-w6SBqnNd.js","./ApiRef-CqkoWjZn.js","./ref-8pKZtiZi.js","./CustomHomepageGrid-t4AetNsc.js","./index-BRV0Se7Z.js","./index-DwHHXP4W.js","./lodash-CoGan1YB.js","./WebStorage-0NkRnF9s.js","./index-CFaqwFgm.js","./interopRequireDefault-Y9pwbXtE.js","./createSvgIcon-C7DOmWEG.js","./capitalize-BWjKmKKm.js","./defaultTheme-DquFOgf8.js","./withStyles-DWaS6n8x.js","./hoist-non-react-statics.cjs-DzIEFHQI.js","./createChainedFunction-Da-WpsAN.js","./createSvgIcon-CL6P1I3F.js","./debounce-DtXjJkxj.js","./isMuiElement-B_4ddUuK.js","./ownerWindow-C3iVrxHF.js","./useIsFocusVisible-BQk2_Vhe.js","./useControlled-B47E2WMp.js","./unstable_useId-B3Hiq1YI.js","./isSymbol-C_KZXW2d.js","./appWrappers-D-TRZlDS.js","./MockTranslationApi-BxEIBj9k.js","./classCallCheck-BNzALLS0.js","./inherits-BBh9Yz5k.js","./toArray-n7tUSQe9.js","./TranslationApi-DhmNHZQM.js","./ConfigApi-D1qiBdfc.js","./useAnalytics-DVyBXs_0.js","./useAsync-CXA3qup_.js","./useMountedState-DkESzBh4.js","./componentData-B20g3K9Y.js","./isObject-DlTwUI3n.js","./toString-B79bsZRM.js","./ApiProvider-DlKBPm-W.js","./ThemeProvider-iV7LyTO2.js","./CssBaseline-0XN_ELQr.js","./palettes-Bwgvserk.js","./_baseSlice-z0Zd1-Ev.js","./_arrayReduce-B24CUDp3.js","./toNumber-BXqIqfWn.js","./Add-B_CIkg7d.js","./IconButton-CFscYum-.js","./ButtonBase-BGCFQJw7.js","./TransitionGroupContext-BtzQ-Cv7.js","./Grid-CFE-uVXf.js","./Box-DU2WS7ls.js","./typography-1q_m8518.js","./Paper-2nKWzoda.js","./TextField-BGQuX1Wm.js","./FormLabel-D6jOsxCS.js","./formControlState-ByiNFc8I.js","./useFormControl-F4cJWIkJ.js","./InputLabel-Rh6717bL.js","./Select-ChjCOIHu.js","./react-is.production.min-D0tnNtx9.js","./useTheme-0ztDbzjM.js","./Popover-D307bIKx.js","./Modal-Bp4d7pBz.js","./Portal-BcgI5KAA.js","./Grow-CD9ZmTub.js","./utils-C5QDFBiQ.js","./List-B21WyO9K.js","./ListContext-DydK1sOh.js","./Typography-D5Gm01bp.js","./ListItem-DrBaGnGs.js","./ListItemIcon-CM5i1NWL.js","./ListItemText-BQG6-PBZ.js","./Remove-D5ZE6ObK.js","./useCopyToClipboard-DSYSaj2L.js","./Button-Lmh-1zSr.js","./Divider-BAm-5afo.js","./FormControlLabel-Ch8JrZNB.js","./Checkbox-D-O8ONT_.js","./SwitchBase-BvfnPlvF.js","./RadioGroup-BBJaYbfR.js","./MenuItem-dYg-3nZn.js","./translation-e6WFkUPs.js","./makeStyles-CRB_T0k9.js","./createStyles-Bp4GwXob.js","./createStyles-yD3y8ldD.js","./DialogTitle-3jWoSiEO.js","./Backdrop-DagLmXBI.js","./Tooltip-cpLPvOyY.js","./Popper-B4x2ddvl.js","./useTranslationRef-Bfx90Ud1.js","./ListItemAvatar-DwtPk2Za.js","./Edit-DMsabnz1.js","./Cancel-K-kx9PdY.js","./ContentHeader-CBJaYJlN.js","./Helmet-DPVyO7__.js","./ErrorBoundary-C3hHTZ0s.js","./translation-f08mCW_U.js","./ErrorPanel-m2uEjwF7.js","./WarningPanel-OsXdcCjS.js","./ExpandMore-BbHQRYUg.js","./AccordionDetails-Cdnq4DJS.js","./Collapse-BN0qEvZw.js","./MarkdownContent-D_PWIART.js","./CodeSnippet-Bxu_6XuF.js","./iframe-oPM-FVS4.js","./extends-CUPdUbmP.js","./toConsumableArray-BEwiObev.js","./CopyTextButton-CnT4tLc_.js","./LinkButton-_OE7LV_d.js","./Link-CpO8OXNj.js","./index-Cqve-NHl.js","./useElementFilter-CXUc_vvk.js","./CustomHomepageGrid-B9caxcv4.css","./Plugin-CuJVBN9V.js","./useRouteRef-DYu9ECtT.js","./InfoCard-BEjZlk40.js","./CardActions-COEhqCRe.js","./CardContent-OuGBBiNv.js","./CardHeader-CsO1doVL.js","./BottomLink-DCRtiflI.js","./ArrowForward-D1CLO6bK.js","./index-BwIxNYPj.js","./ComponentAccordion-BPjo1wbA.js","./Tabs-Cc5fYxtr.js","./KeyboardArrowRight-B3QN00AX.js","./index-BLWBjsTX.js","./index-DTm6BpWe.js","./index-PUXfJ9LW.js","./upperFirst-DLTVdCCL.js","./index-CV4-edDO.js","./index-DdmxwQZ7.js","./routes-GWDdyf_b.js","./EntityDisplayName-f6HPwQDh.js","./FavoriteToggle-D2eKNDpl.js","./icons-DtpOUf3W.js","./api-smRihKLU.js","./StarredEntitiesApi-DOUQLj9p.js","./Progress-rDRkow1x.js","./LinearProgress-mbGV-ZMg.js","./ResponseErrorPanel-RFBBm6UC.js","./index-B9Tbkllf.js","./HeaderLabel-BL170fAH.js","./TopVisited-18I2ztX9.js","./index-2DtXLKyr.js","./EntityRefLink-B5QI8T5l.js","./Chip-Ayq5cSOe.js","./clsx.m-CH7BE6MN.js","./RecentlyVisited-DTi3rQDw.js","./index--2-aZ-Sc.js","./EmptyState-BUU9PYpA.js","./index-0JjlP7df.js"])))=>i.map(i=>d[i]);
var j=Object.defineProperty;var L=(i,e,o)=>e in i?j(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o;var _=(i,e,o)=>L(i,typeof e!="symbol"?e+"":e,o);import{_ as c}from"./iframe-oPM-FVS4.js";import{a as P,b as k}from"./appWrappers-D-TRZlDS.js";import{a as O,c as V,b as w,d}from"./Plugin-CuJVBN9V.js";import{c as H}from"./ApiRef-CqkoWjZn.js";import{j as s}from"./jsx-runtime-Cw0GR0a5.js";import{r as v}from"./index-CTjT7uj6.js";import{i as z}from"./interopRequireDefault-Y9pwbXtE.js";import{r as M,i as B}from"./createSvgIcon-C7DOmWEG.js";import{c as K}from"./TranslationApi-DhmNHZQM.js";import{I as $}from"./IconButton-CFscYum-.js";import{I as F}from"./InfoCard-BEjZlk40.js";import{u as A}from"./useTranslationRef-Bfx90Ud1.js";import{D as N,a as W,b as J,c as Q}from"./DialogTitle-3jWoSiEO.js";import{B as U}from"./Button-Lmh-1zSr.js";import{b as X}from"./index-w6SBqnNd.js";import{s as Y}from"./WebStorage-0NkRnF9s.js";import{i as G}from"./MockTranslationApi-BxEIBj9k.js";const T=K({id:"home-react",messages:{settingsModal:{title:"Settings",closeButtonTitle:"Close"},cardExtension:{settingsButtonTitle:"Settings"}}}),x=i=>{const{open:e,close:o,componentName:t,children:r}=i,{t:n}=A(T);return s.jsxs(N,{open:e,onClose:()=>o(),children:[s.jsx(W,{children:t?`${n("settingsModal.title")} - ${t}`:n("settingsModal.title")}),s.jsx(J,{children:r}),s.jsx(Q,{children:s.jsx(U,{onClick:()=>o(),color:"primary",variant:"contained",children:n("settingsModal.closeButtonTitle")})})]})};x.__docgenInfo={description:"@public",methods:[],displayName:"SettingsModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},close:{required:!0,tsType:{name:"Function"},description:""},componentName:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var h={},Z=z,q=B;Object.defineProperty(h,"__esModule",{value:!0});var C=h.default=void 0,ee=q(v),te=Z(M()),oe=(0,te.default)(ee.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");C=h.default=oe;function l(i){const{title:e,components:o,name:t,description:r,layout:n,settings:a}=i,p=(a==null?void 0:a.schema)!==void 0;return O({name:t,data:{title:e,description:r,"home.widget.config":{layout:n,settings:a}},component:{lazy:()=>o().then(u=>g=>s.jsx(ie,{...g,...u,title:g.title||e,isCustomizable:p}))}})}function ie(i){const{Renderer:e,Content:o,Settings:t,Actions:r,ContextProvider:n,isCustomizable:a,title:p,...u}=i,g=X(),{Progress:E}=g.getComponents(),[I,R]=v.useState(!1),{t:D}=A(T);if(e)return s.jsx(v.Suspense,{fallback:s.jsx(E,{}),children:s.jsx(e,{...p&&{title:p},Content:o,...r?{Actions:r}:{},...t&&!a?{Settings:t}:{},...n?{ContextProvider:n}:{},...u})});const S={divider:!!p,...p&&{title:p},...t&&!a?{action:s.jsx($,{onClick:()=>R(!0),children:s.jsx(C,{children:D("cardExtension.settingsButtonTitle")})})}:{},...r?{actions:s.jsx(r,{})}:{}},y=s.jsxs(F,{...S,children:[t&&!a&&s.jsx(x,{open:I,componentName:p,close:()=>R(!1),children:s.jsx(t,{})}),s.jsx(o,{...u})]});return s.jsx(v.Suspense,{fallback:s.jsx(E,{}),children:n?s.jsx(n,{...u,children:y}):y})}const b=P({id:"home"}),ne=8;class f{constructor(e){_(this,"limit");_(this,"storageApi");_(this,"storageKeyPrefix","@backstage/plugin-home:visits");_(this,"identityApi");this.limit=Math.abs(e.limit??100),this.storageApi=e.storageApi,this.identityApi=e.identityApi}static create(e){return new f(e)}async list(e){let o=[...await this.retrieveAll()];return((e==null?void 0:e.orderBy)??[]).reverse().forEach(t=>{t.direction==="asc"?o.sort((r,n)=>this.compare(t,r,n)):o.sort((r,n)=>this.compare(t,n,r))}),((e==null?void 0:e.filterBy)??[]).reverse().forEach(t=>{o=o.filter(r=>{const n=r[t.field];return t.operator===">"?n>t.value:t.operator===">="?n>=t.value:t.operator==="<"?n<t.value:t.operator==="<="?n<=t.value:t.operator==="=="?n===t.value:t.operator==="!="?n!==t.value:t.operator==="contains"?`${n}`.includes(`${t.value}`):!1})}),o.slice(0,(e==null?void 0:e.limit)??ne)}async save(e){const o=[...await this.retrieveAll()],t={...e.visit,id:window.crypto.randomUUID(),hits:1,timestamp:Date.now()},r=o.findIndex(n=>n.pathname===t.pathname);return r>=0?(t.id=o[r].id,t.hits=o[r].hits+1,o[r]=t):o.push(t),o.sort((n,a)=>a.timestamp-n.timestamp),await this.persistAll(o.splice(0,this.limit)),t}async persistAll(e){const o=await this.getStorageKey();return this.storageApi.set(o,e)}async retrieveAll(){const e=await this.getStorageKey(),o=this.storageApi.snapshot(e);return(o==null?void 0:o.presence)!=="unknown"?(o==null?void 0:o.value)??[]:new Promise((t,r)=>{const n=this.storageApi.observe$(e).subscribe({next:a=>{const p=a.value??[];n.unsubscribe(),t(p)},error:a=>{n.unsubscribe(),r(a)}})})}async getStorageKey(){const{userEntityRef:e}=await this.identityApi.getBackstageIdentity();return`${this.storageKeyPrefix}:${e}`}compare(e,o,t){return typeof o[e.field]=="number"?o[e.field]-t[e.field]:`${o[e.field]}`.localeCompare(`${t[e.field]}`)}}const xe=i=>["<","<=","==","!=",">",">=","contains"].includes(i),re=H({id:"homepage.visits"}),m=V({id:"home",apis:[k({api:re,deps:{storageApi:Y,identityApi:G},factory:({storageApi:i,identityApi:e})=>f.create({storageApi:i,identityApi:e})})],routes:{root:b}});m.provide(w({name:"HomepageCompositionRoot",component:()=>c(()=>import("./index-VwS9g2Cn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122]),import.meta.url).then(i=>i.HomepageCompositionRoot),mountPoint:b}));m.provide(d({name:"ComponentAccordion",component:{lazy:()=>c(()=>import("./index-BwIxNYPj.js"),__vite__mapDeps([123,124,1,2,101,12,13,14,15,16,17,18,19,20,21,22,23,8,24,25,84,102,31,61,54,103,67,50,62,49,48,70,125,126,117,112,118,119,97,98,32,4,99,100,104,7,105,106,107,29,30,108,52,53,109,75,36,89,90,65,66,91,51,68,69,71,73,110,111,9,3,34,33,76,120,77,121,122,27,28,11,10,35,37,26,38,39,40,41,42,43,115,116,87,64,88]),import.meta.url).then(i=>i.ComponentAccordion)}}));m.provide(d({name:"ComponentTabs",component:{lazy:()=>c(()=>import("./index-BwIxNYPj.js"),__vite__mapDeps([123,124,1,2,101,12,13,14,15,16,17,18,19,20,21,22,23,8,24,25,84,102,31,61,54,103,67,50,62,49,48,70,125,126,117,112,118,119,97,98,32,4,99,100,104,7,105,106,107,29,30,108,52,53,109,75,36,89,90,65,66,91,51,68,69,71,73,110,111,9,3,34,33,76,120,77,121,122,27,28,11,10,35,37,26,38,39,40,41,42,43,115,116,87,64,88]),import.meta.url).then(i=>i.ComponentTabs)}}));m.provide(d({name:"ComponentTab",component:{lazy:()=>c(()=>import("./index-BwIxNYPj.js"),__vite__mapDeps([123,124,1,2,101,12,13,14,15,16,17,18,19,20,21,22,23,8,24,25,84,102,31,61,54,103,67,50,62,49,48,70,125,126,117,112,118,119,97,98,32,4,99,100,104,7,105,106,107,29,30,108,52,53,109,75,36,89,90,65,66,91,51,68,69,71,73,110,111,9,3,34,33,76,120,77,121,122,27,28,11,10,35,37,26,38,39,40,41,42,43,115,116,87,64,88]),import.meta.url).then(i=>i.ComponentTab)}}));m.provide(d({name:"WelcomeTitle",component:{lazy:()=>c(()=>import("./index-BLWBjsTX.js"),__vite__mapDeps([127,1,2,35,36,89,15,8,14,16,17,23,25,24,62,90,18,65,66,67,50,70,4,28,29,30,31,11,32]),import.meta.url).then(i=>i.WelcomeTitle)}}));const Ce=m.provide(d({name:"CompanyLogo",component:{lazy:()=>c(()=>import("./index-DTm6BpWe.js"),__vite__mapDeps([128,1,2,70,15,14,16,17,4,33]),import.meta.url).then(i=>i.CompanyLogo)}})),be=m.provide(l({name:"HomePageRandomJoke",title:"Random Joke",components:()=>c(()=>import("./index-PUXfJ9LW.js"),__vite__mapDeps([129,1,2,76,15,14,16,17,49,8,23,22,50,70,130,44,39,26,56,57,21,58,81,80,24,48,19,18,25,78]),import.meta.url),description:"Shows a random joke about optional category",layout:{height:{minRows:4},width:{minColumns:3}},settings:{schema:{title:"Random Joke settings",type:"object",properties:{defaultCategory:{title:"Category",type:"string",enum:["any","programming","dad"],default:"any"}}}}})),Ie=m.provide(l({name:"HomePageToolkit",title:"Toolkit",components:()=>c(()=>import("./index-CV4-edDO.js"),__vite__mapDeps([131,1,2,84,15,68,14,16,17,69,72,73,70,111,112,9,8,3,4,12,13,18,19,20,21,22,23,24,25,34,33]),import.meta.url)})),De=m.provide(l({name:"HomePageStarredEntities",title:"Your Starred Entities",components:()=>c(()=>import("./index-DdmxwQZ7.js"),__vite__mapDeps([132,1,2,35,36,111,112,9,8,3,4,12,13,14,15,16,17,18,19,20,21,22,23,24,25,84,70,34,33,83,32,133,27,28,29,30,31,11,10,37,26,38,39,40,7,41,42,43,5,71,69,49,50,72,73,134,52,53,89,62,90,65,66,67,116,91,135,48,136,137,138,68,125,61,126,139,140,141,99,100,101,102,54,103,104,105,106,107,108,109,75,98,51,77]),import.meta.url)}));m.provide(d({name:"HeaderWorldClock",component:{lazy:()=>c(()=>import("./index-B9Tbkllf.js"),__vite__mapDeps([142,1,2,143,84,15,51,14,16,17,70,111,112,9,8,3,4,12,13,18,19,20,21,22,23,24,25,34,33]),import.meta.url).then(i=>i.HeaderWorldClock)}}));m.provide(l({name:"HomePageTopVisited",title:"Top Visited",components:()=>c(()=>import("./TopVisited-18I2ztX9.js"),__vite__mapDeps([144,1,2,145,84,15,146,133,4,27,12,13,14,16,17,18,19,20,21,22,23,8,24,25,28,29,30,31,11,32,33,34,10,35,36,37,26,38,39,3,40,7,41,42,43,5,116,134,52,53,89,62,90,65,66,67,50,111,112,9,70,147,49,71,69,92,73,83,91,103,148,68,76,106,115,48,117,118,119,54,97,98,99,100,101,102,61,104,105,107,108,109,75,51,110,120,77,121,122,87,64,88]),import.meta.url)}));m.provide(l({name:"HomePageRecentlyVisited",title:"Recently Visited",components:()=>c(()=>import("./RecentlyVisited-DTi3rQDw.js"),__vite__mapDeps([149,1,2,145,84,15,146,133,4,27,12,13,14,16,17,18,19,20,21,22,23,8,24,25,28,29,30,31,11,32,33,34,10,35,36,37,26,38,39,3,40,7,41,42,43,5,116,134,52,53,89,62,90,65,66,67,50,111,112,9,70,147,49,71,69,92,73,83,91,103,148,68,76,106,115,48,117,118,119,54,97,98,99,100,101,102,61,104,105,107,108,109,75,51,110,120,77,121,122,87,64,88]),import.meta.url)}));const Se=m.provide(l({name:"FeaturedDocsCard",title:"Featured Docs",components:()=>c(()=>import("./index--2-aZ-Sc.js"),__vite__mapDeps([150,1,2,35,36,83,32,4,84,15,137,99,100,12,13,14,16,17,18,19,20,21,22,23,8,24,25,101,102,31,61,54,103,67,50,62,49,48,70,104,7,105,106,107,29,30,108,52,53,109,75,98,89,90,65,66,91,51,68,69,71,73,139,140,111,112,9,3,34,33,134,27,28,11,10,37,26,38,39,40,41,42,43,5,151,110,76]),import.meta.url)})),je=m.provide(l({name:"QuickStartCard",title:"Quick Start",components:()=>c(()=>import("./index-0JjlP7df.js"),__vite__mapDeps([152,1,2,84,15,83,32,4,111,112,9,8,3,12,13,14,16,17,18,19,20,21,22,23,24,25,70,34,33,64,29,65,52,53,51,91]),import.meta.url)}));export{Se as F,be as H,je as Q,x as S,De as a,Ce as b,Ie as c,C as d,l as e,m as h,xe as i,b as r,re as v};
