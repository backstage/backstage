import{w as En,r as a,_ as Pn,V as U,W as On,F as Tn,X as xn,H as wn,t as T,q as nn,Y as bn,Z as Cn}from"./iframe-CA0Xqitl.js";import{M as yn}from"./Modal-CxVdZ6wB.js";function en(o,n){var r=0;return typeof n=="number"?r=n:n==="center"?r=o.height/2:n==="bottom"&&(r=o.height),r}function tn(o,n){var r=0;return typeof n=="number"?r=n:n==="center"?r=o.width/2:n==="right"&&(r=o.width),r}function rn(o){return[o.horizontal,o.vertical].map(function(n){return typeof n=="number"?"".concat(n,"px"):n}).join(" ")}function zn(o,n){for(var r=n,m=0;r&&r!==o;)r=r.parentElement,m+=r.scrollTop;return m}function x(o){return typeof o=="function"?o():o}var Rn={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},$n=a.forwardRef(function(n,r){var m=n.action,f=n.anchorEl,w=n.anchorOrigin,g=w===void 0?{vertical:"top",horizontal:"left"}:w,b=n.anchorPosition,C=n.anchorReference,u=C===void 0?"anchorEl":C,on=n.children,y=n.classes,an=n.className,sn=n.container,z=n.elevation,cn=z===void 0?8:z,P=n.getContentAnchorEl,R=n.marginThreshold,c=R===void 0?16:R,ln=n.onEnter,fn=n.onEntered,$=n.onEntering,un=n.onExit,hn=n.onExited,vn=n.onExiting,l=n.open,_=n.PaperProps,D=_===void 0?{}:_,W=n.transformOrigin,p=W===void 0?{vertical:"top",horizontal:"left"}:W,k=n.TransitionComponent,A=k===void 0?wn:k,H=n.transitionDuration,N=H===void 0?"auto":H,M=n.TransitionProps,S=M===void 0?{}:M,dn=Pn(n,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),O=a.useRef(),L=a.useCallback(function(e){if(u==="anchorPosition")return b;var t=x(f),s=t&&t.nodeType===1?t:U(O.current).body,i=s.getBoundingClientRect(),E=e===0?g.vertical:"center";return{top:i.top+en(i,E),left:i.left+tn(i,g.horizontal)}},[f,g.horizontal,g.vertical,b,u]),V=a.useCallback(function(e){var t=0;if(P&&u==="anchorEl"){var s=P(e);if(s&&e.contains(s)){var i=zn(e,s);t=s.offsetTop+s.clientHeight/2-i||0}}return t},[g.vertical,u,P]),j=a.useCallback(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:en(e,p.vertical)+t,horizontal:tn(e,p.horizontal)}},[p.horizontal,p.vertical]),B=a.useCallback(function(e){var t=V(e),s={width:e.offsetWidth,height:e.offsetHeight},i=j(s,t);if(u==="none")return{top:null,left:null,transformOrigin:rn(i)};var E=L(t),v=E.top-i.vertical,d=E.left-i.horizontal,X=v+s.height,Y=d+s.width,q=On(x(f)),G=q.innerHeight-c,I=q.innerWidth-c;if(v<c){var Z=v-c;v-=Z,i.vertical+=Z}else if(X>G){var J=X-G;v-=J,i.vertical+=J}if(d<c){var K=d-c;d-=K,i.horizontal+=K}else if(Y>I){var Q=Y-I;d-=Q,i.horizontal+=Q}return{top:"".concat(Math.round(v),"px"),left:"".concat(Math.round(d),"px"),transformOrigin:rn(i)}},[f,u,L,V,j,c]),h=a.useCallback(function(){var e=O.current;if(e){var t=B(e);t.top!==null&&(e.style.top=t.top),t.left!==null&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}},[B]),gn=function(t,s){$&&$(t,s),h()},mn=a.useCallback(function(e){O.current=Tn.findDOMNode(e)},[]);a.useEffect(function(){l&&h()}),a.useImperativeHandle(m,function(){return l?{updatePosition:function(){h()}}:null},[l,h]),a.useEffect(function(){if(l){var e=xn(function(){h()});return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}},[l,h]);var F=N;N==="auto"&&!A.muiSupportAuto&&(F=void 0);var pn=sn||(f?U(x(f)).body:void 0);return a.createElement(yn,T({container:pn,open:l,ref:r,BackdropProps:{invisible:!0},className:nn(y.root,an)},dn),a.createElement(A,T({appear:!0,in:l,onEnter:ln,onEntered:fn,onExit:un,onExited:hn,onExiting:vn,timeout:F},S,{onEntering:bn(gn,S.onEntering)}),a.createElement(Cn,T({elevation:cn,ref:mn},D,{className:nn(y.paper,D.className)}),on)))});const Wn=En(Rn,{name:"MuiPopover"})($n);export{Wn as P};
